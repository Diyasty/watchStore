(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),s=n("q/0M"),l=n("zVF4"),a=n("S+S0"),u=n("x7I3"),c=i.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.i=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.u=new t("google-credentials-uid"),t.s=new t("first-party-uid"),t}(),d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error),f=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},g=function(){function t(){this.h=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.l=function(){},t.prototype.v=function(t){Ae(!this.h,"Can only call setChangeListener() once."),this.h=t,t(h.UNAUTHENTICATED)},t.prototype.m=function(){Ae(null!==this.h,"removeChangeListener() when no listener registered"),this.h=null},t}(),m=function(){function t(t){var e=this;this.p=null,this.currentUser=h.UNAUTHENTICATED,this.g=!1,this._=0,this.h=null,this.forceRefresh=!1,this.p=function(){e._++,e.currentUser=e.I(),e.g=!0,e.h&&e.h(e.currentUser)},this._=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.p):(this.p(null),t.get().then((function(t){e.auth=t,e.p&&e.auth.addAuthTokenListener(e.p)}),(function(){})))}return t.prototype.getToken=function(){var t=this;Ae(null!=this.p,"getToken cannot be called after listener removed.");var e=this._,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t._!==e)throw new p(d.ABORTED,"getToken aborted due to token change.");return n?(Ae("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new f(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.l=function(){this.forceRefresh=!0},t.prototype.v=function(t){Ae(!this.h,"Can only call setChangeListener() once."),this.h=t,this.g&&t(this.currentUser)},t.prototype.m=function(){Ae(null!=this.p,"removeChangeListener() called twice"),Ae(null!==this.h,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.p),this.p=null,this.h=null},t.prototype.I=function(){var t=this.auth&&this.auth.getUid();return Ae(null===t||"string"==typeof t,"Received invalid UID: "+t),new h(t)},t}(),y=function(){function t(t,e){this.T=t,this.D=e,this.type="FirstParty",this.user=h.s}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.D},e=this.T.auth.R([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),v=function(){function t(t,e){this.T=t,this.D=e}return t.prototype.getToken=function(){return Promise.resolve(new y(this.T,this.D))},t.prototype.v=function(t){t(h.s)},t.prototype.m=function(){},t.prototype.l=function(){},t}();function _(t){if(!t)return new g;switch(t.type){case"gapi":var e=t.S;return Ae(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new v(e,t.D||"0");case"provider":return t.S;default:throw new p(d.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}var b=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new p(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new p(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new p(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new p(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.A=function(t){return this.seconds===t.seconds?Re(this.nanoseconds,t.nanoseconds):Re(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),w=function(){function t(t){this.timestamp=t}return t.C=function(e){var n=Math.floor(e/1e6);return new t(new b(n,e%1e6*1e3))},t.P=function(e){return new t(e)},t.V=function(){return t.MIN},t.prototype.k=function(t){return this.timestamp.A(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.N=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.O=function(){return this.timestamp},t.MIN=new t(new b(0,0)),t}(),C=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Pe("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&Pe("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.F(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.U(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.j=function(t){return Ae(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.U(this.segments,this.offset+t,this.length-t)},t.prototype.L=function(){return Ae(!this.M(),"Can't call popLast() on empty path"),this.U(this.segments,this.offset,this.length-1)},t.prototype.q=function(){return Ae(!this.M(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.B=function(){return this.get(this.length-1)},t.prototype.get=function(t){return Ae(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.M=function(){return 0===this.length},t.prototype.G=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.W=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.K=function(){return this.segments.slice(this.offset,this.limit())},t.F=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.U=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.K().join("/")},e.prototype.toString=function(){return this.J()},e.H=function(t){if(t.indexOf("//")>=0)throw new p(d.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.Y=new e([]),e}(C),T=/^[_a-zA-Z][_a-zA-Z0-9]*$/,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.U=function(t,n,r){return new e(t,n,r)},e.X=function(t){return T.test(t)},e.prototype.J=function(){return this.K().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.X(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.$=function(){return 1===this.length&&"__name__"===this.get(0)},e.Z=function(){return new e(["__name__"])},e.tt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var l=t[i];if("\\"===l){if(i+1===t.length)throw new p(d.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new p(d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===l?(s=!s,i++):"."!==l||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new p(d.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.Y=new e([]),e}(C),I=function(){function t(e){this.path=e,Ae(t.nt(e),"Invalid DocumentKey with an odd number of segments: "+e.K().join("/"))}return t.it=function(e){return new t(E.H(e).j(5))},t.prototype.et=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===E.F(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.F=function(t,e){return E.F(t.path,e.path)},t.nt=function(t){return t.length%2==0},t.rt=function(e){return new t(new E(e.slice()))},t.EMPTY=new t(new E([])),t}(),k=function(){function t(t,e){this.F=t,this.root=e||O.EMPTY}return t.prototype.ut=function(e,n){return new t(this.F,this.root.ut(e,n,this.F).copy(null,null,O.st,null,null))},t.prototype.remove=function(e){return new t(this.F,this.root.remove(e,this.F).copy(null,null,O.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.M();){var n=this.F(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.M();){var r=this.F(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.M=function(){return this.root.M()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(){return this.root.ht()},t.prototype.ct=function(t){return this.root.ct(t)},t.prototype.forEach=function(t){this.ct((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ct((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ft=function(){return new x(this.root,null,this.F,!1)},t.prototype.lt=function(t){return new x(this.root,t,this.F,!1)},t.prototype.dt=function(){return new x(this.root,null,this.F,!0)},t.prototype.vt=function(t){return new x(this.root,t,this.F,!0)},t}(),x=function(){function t(t,e,n,r){this.wt=r,this.pt=[];for(var i=1;!t.M();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.pt.push(t);break}this.pt.push(t),t=this.wt?t.right:t.left}}return t.prototype.bt=function(){Ae(this.pt.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.pt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.M();)this.pt.push(t),t=t.right;else for(t=t.right;!t.M();)this.pt.push(t),t=t.left;return e},t.prototype.gt=function(){return this.pt.length>0},t.prototype.yt=function(){if(0===this.pt.length)return null;var t=this.pt[this.pt.length-1];return{key:t.key,value:t.value}},t}(),O=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.M=function(){return!1},t.prototype.ct=function(t){return this.left.ct(t)||t(this.key,this.value)||this.right.ct(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left.M()?this:this.left.min()},t.prototype.ot=function(){return this.min().key},t.prototype.ht=function(){return this.right.M()?this.key:this.right.ht()},t.prototype.ut=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ut(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ut(t,e,n)))._t()},t.prototype.It=function(){if(this.left.M())return t.EMPTY;var e=this;return e.left.Tt()||e.left.left.Tt()||(e=e.Et()),(e=e.copy(null,null,null,e.left.It(),null))._t()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.M()||i.left.Tt()||i.left.left.Tt()||(i=i.Et()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Tt()&&(i=i.Dt()),i.right.M()||i.right.Tt()||i.right.left.Tt()||(i=i.Rt()),0===n(e,i.key)){if(i.right.M())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i._t()},t.prototype.Tt=function(){return this.color},t.prototype._t=function(){var t=this;return t.right.Tt()&&!t.left.Tt()&&(t=t.St()),t.left.Tt()&&t.left.left.Tt()&&(t=t.Dt()),t.left.Tt()&&t.right.Tt()&&(t=t.At()),t},t.prototype.Et=function(){var t=this.At();return t.right.left.Tt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Dt())).St()).At()),t},t.prototype.Rt=function(){var t=this.At();return t.left.left.Tt()&&(t=(t=t.Dt()).At()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Dt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.At=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Pt();return Math.pow(2,t)<=this.size+1},t.prototype.Pt=function(){if(this.Tt()&&this.left.Tt())throw Pe("Red node has red child("+this.key+","+this.value+")");if(this.right.Tt())throw Pe("Right child of ("+this.key+","+this.value+") is red");var t=this.left.Pt();if(t!==this.right.Pt())throw Pe("Black depths differ");return t+(this.Tt()?0:1)},t.EMPTY=null,t.RED=!0,t.st=!1,t}(),P=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Pe("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Pe("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Pe("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Pe("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Pe("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ut=function(t,e,n){return new O(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.M=function(){return!0},t.prototype.ct=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.ot=function(){return null},t.prototype.ht=function(){return null},t.prototype.Tt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Pt=function(){return 0},t}();O.EMPTY=new P;var A=function(){function t(t){this.F=t,this.data=new k(this.F)}return t.Vt=function(e){var n=new t(e.F);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ot()},t.prototype.last=function(){return this.data.ht()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ct((function(e,n){return t(e),!1}))},t.prototype.kt=function(t,e){for(var n=this.data.lt(t[0]);n.gt();){var r=n.bt();if(this.F(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Nt=function(t,e){var n;for(n=void 0!==e?this.data.lt(e):this.data.ft();n.gt();)if(!t(n.bt().key))return},t.prototype.Ot=function(t){var e=this.data.lt(t);return e.gt()?e.bt().key:null},t.prototype.ft=function(){return new N(this.data.ft())},t.prototype.lt=function(t){return new N(this.data.lt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ut(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.M=function(){return this.data.M()},t.prototype.Ft=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ft(),r=e.data.ft();n.gt();){var i=n.bt().key,o=r.bt().key;if(0!==this.F(i,o))return!1}return!0},t.prototype.K=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.F);return n.data=e,n},t}(),N=function(){function t(t){this.Ut=t}return t.prototype.bt=function(){return this.Ut.bt().key},t.prototype.gt=function(){return this.Ut.gt()},t}();function R(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function D(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M(t){for(var e in Ae(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var L=function(){function t(t){this.jt=t}return t.fromBase64String=function(e){return new t(Ee.xt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return Ee.xt().btoa(this.jt)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.jt)},t.prototype.Lt=function(){return 2*this.jt.length},t.prototype.k=function(t){return Re(this.jt,t.jt)},t.prototype.isEqual=function(t){return this.jt===t.jt},t.Mt=new t(""),t}();function F(t){return null==t}function U(t){return-0===t&&1/t==-1/0}function V(t){return"number"==typeof t&&Number.isInteger(t)&&!U(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function j(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function q(t){var e=Y(t.mapValue.fields.__local_write_time__.timestampValue);return new b(e.seconds,e.nanos)}var B=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function z(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j(t)?4:10:Pe("Invalid value type: "+JSON.stringify(t))}function H(t,e){var n=z(t);if(n!==z(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return q(t).isEqual(q(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Y(t.timestampValue),r=Y(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return X(t.bytesValue).isEqual(X(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return J(t.geoPointValue.latitude)===J(e.geoPointValue.latitude)&&J(t.geoPointValue.longitude)===J(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return J(t.integerValue)===J(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=J(t.doubleValue),r=J(e.doubleValue);return n===r?U(n)===U(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return De(t.arrayValue.values||[],e.arrayValue.values||[],H);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(R(n)!==R(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!H(n[i],r[i])))return!1;return!0}(t,e);default:return Pe("Unexpected value type: "+JSON.stringify(t))}}function W(t,e){return void 0!==(t.values||[]).find((function(t){return H(t,e)}))}function G(t,e){var n=z(t),r=z(e);if(n!==r)return Re(n,r);switch(n){case 0:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=J(t.integerValue||t.doubleValue),r=J(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return K(t.timestampValue,e.timestampValue);case 4:return K(q(t),q(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(t,e){var n=X(t),r=X(e);return n.k(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Re(n[i],r[i]);if(0!==o)return o}return Re(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Re(J(t.latitude),J(e.latitude));return 0!==n?n:Re(J(t.longitude),J(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=G(n[i],r[i]);if(o)return o}return Re(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var l=Re(r[s],o[s]);if(0!==l)return l;var a=G(n[r[s]],i[o[s]]);if(0!==a)return a}return Re(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Pe("Invalid value type: "+n)}}function K(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Re(t,e);var n=Y(t),r=Y(e),i=Re(n.seconds,r.seconds);return 0!==i?i:Re(n.nanos,r.nanos)}function Q(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(r=Y(e.timestampValue)).seconds+","+r.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?X(e.bytesValue).toBase64():"referenceValue"in e?I.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Pe("Invalid value type: "+JSON.stringify(e));var n,r}(t)}function Y(t){if(Ae(!!t,"Cannot normalize null or undefined timestamp."),"string"==typeof t){var e=0,n=B.exec(t);if(Ae(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:J(t.seconds),nanos:e=J(t.nanos)}}function J(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function X(t){return"string"==typeof t?L.fromBase64String(t):L.fromUint8Array(t)}function $(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Z(t){return!!t&&"integerValue"in t}function tt(t){return Z(t)||function(t){return!!t&&"doubleValue"in t}(t)}function et(t){return!!t&&"arrayValue"in t}function nt(t){return!!t&&"referenceValue"in t}function rt(t){return!!t&&"nullValue"in t}function it(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ot(t){return!!t&&"mapValue"in t}var st=function(){function t(){}return t.prototype.qt=function(t,e){return function(t,e){var n,r={fields:(n={},n.__type__={stringValue:"server_timestamp"},n.__local_write_time__={timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}},n)};return e&&(r.fields.__previous_value__=e),{mapValue:r}}(e,t)},t.prototype.Bt=function(t,e){return e},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),lt=function(){function t(t){this.elements=t}return t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ct(t),n=function(t){e.some((function(e){return H(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&De(this.elements,e.elements,H)},t}(),at=function(){function t(t){this.elements=t}return t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ct(t),n=function(t){e=e.filter((function(e){return!H(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&De(this.elements,e.elements,H)},t}(),ut=function(){function t(t,e){this.serializer=t,this.Gt=e,Ae(tt(e),"NumericIncrementTransform transform requires a NumberValue")}return t.prototype.qt=function(t,e){var n=this.Qt(t),r=this.asNumber(n)+this.asNumber(this.Gt);return Z(n)&&Z(this.Gt)?this.serializer.Wt(r):this.serializer.zt(r)},t.prototype.Bt=function(t,e){return Ae(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.Qt=function(t){return tt(t)?t:{integerValue:0}},t.prototype.isEqual=function(e){return e instanceof t&&H(this.Gt,e.Gt)},t.prototype.asNumber=function(t){return J(t.integerValue||t.doubleValue)},t}();function ct(t){return et(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ht,dt,pt=function(){function t(t){this.fields=t}return t.Kt=function(e){return new t(e)},t.Jt=function(e){var n=new A(S.F);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Ht=function(t){var e=!1;return this.fields.forEach((function(n){n.G(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ft=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),gt=function(t,e){this.version=t,this.transformResults=e},mt=function(){function t(t,e){this.updateTime=t,this.exists=e,Ae(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Yt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Xt=function(t){return void 0!==this.updateTime?t instanceof It&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof It:(Ae(this.Yt,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,!((null!=(e=this.updateTime)?!n||!e.isEqual(n):e!==n)||this.exists!==t.exists);var e,n},t.NONE=new t,t}(),yt=function(){function t(){}return t.prototype.$t=function(t){null!=t&&Ae(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.Zt=function(t){return t instanceof It?t.version:w.MIN},t}(),vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.tn=r,i.type=0,i}return o.__extends(e,t),e.prototype.Bt=function(t,e){return this.$t(t),Ae(null==e.transformResults,"Transform results received by SetMutation."),new It(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=yt.Zt(t);return new It(this.key,r,this.value,{nn:!0})},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.tn.isEqual(t.tn)},e}(yt),_t=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.en=r,o.tn=i,o.type=1,o}return o.__extends(e,t),e.prototype.Bt=function(t,e){if(this.$t(t),Ae(null==e.transformResults,"Transform results received by PatchMutation."),!this.tn.Xt(t))return new xt(this.key,e.version);var n=this.rn(t);return new It(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=yt.Zt(t),i=this.rn(t);return new It(this.key,r,i,{nn:!0})},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.en.isEqual(t.en)&&this.tn.isEqual(t.tn)},e.prototype.rn=function(t){var e;return e=t instanceof It?t.data():Et.EMPTY,this.un(e)},e.prototype.un=function(t){var e=this,n=t.sn();return this.en.fields.forEach((function(t){if(!t.M()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.on()},e}(yt),bt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=2,r.tn=mt.exists(!0),r}return o.__extends(e,t),e.prototype.Bt=function(t,e){if(this.$t(t),Ae(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.tn.Xt(t))return new xt(this.key,e.version);var n=this.hn(t),r=this.cn(t,e.transformResults),i=e.version,o=this.an(n.data(),r);return new It(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=this.hn(t),i=this.fn(n,t,e),o=this.an(r.data(),i);return new It(this.key,r.version,o,{nn:!0})},e.prototype.in=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof It?t.field(i.field):void 0,s=i.transform.Qt(o||null);null!=s&&(e=null==e?Et.ln().set(i.field,s):e.set(i.field,s))}return e?e.on():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&De(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.tn.isEqual(t.tn)},e.prototype.hn=function(t){return Ae(t instanceof It,"Unknown MaybeDocument type "+t),Ae(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.cn=function(t,e){var n=[];Ae(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof It&&(s=t.field(i.field)),n.push(o.Bt(s,e[r]))}return n},e.prototype.fn=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],l=s.transform,a=null;e instanceof It&&(a=e.field(s.field)),null===a&&n instanceof It&&(a=n.field(s.field)),r.push(l.qt(a,t))}return r},e.prototype.an=function(t,e){Ae(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.sn(),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.on()},e}(yt),wt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.tn=n,r.type=3,r}return o.__extends(e,t),e.prototype.Bt=function(t,e){return this.$t(t),Ae(null==e.transformResults,"Transform results received by DeleteMutation."),new kt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){return this.$t(t),this.tn.Xt(t)?(t&&Ae(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new kt(this.key,w.V())):t},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.tn.isEqual(t.tn)},e}(yt),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.tn=n,r.type=4,r}return o.__extends(e,t),e.prototype.Bt=function(t,e){Pe("VerifyMutation should only be used in Transactions.")},e.prototype.qt=function(t,e,n){Pe("VerifyMutation should only be used in Transactions.")},e.prototype.in=function(t){Pe("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.tn.isEqual(t.tn)},e}(yt),Et=function(){function t(t){this.proto=t,Ae(!j(t),"ServerTimestamps should be converted to ServerTimestampValue")}return t.ln=function(){return t.EMPTY.sn()},t.prototype.field=function(t){if(t.M())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ot(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.B()])||null},t.prototype.en=function(){return this.dn(this.proto.mapValue)},t.prototype.dn=function(t){var e=this,n=new A(S.F);return D(t.fields||{},(function(t,r){var i=new S([t]);if(10===z(r)){var o=e.dn(r.mapValue).fields;o.M()?n=n.add(i):o.forEach((function(t){n=n.add(i.child(t))}))}else n=n.add(i)})),pt.Kt(n)},t.prototype.isEqual=function(t){return H(this.proto,t.proto)},t.prototype.sn=function(){return new Tt(this)},t.EMPTY=new t({mapValue:{}}),t}(),Tt=function(){function t(t){this.vn=t,this.wn=new Map}return t.prototype.set=function(t,e){return Ae(!t.M(),"Cannot set field for empty path on ObjectValue"),this.mn(t,e),this},t.prototype.delete=function(t){return Ae(!t.M(),"Cannot delete field for empty path on ObjectValue"),this.mn(t,null),this},t.prototype.mn=function(t,e){for(var n=this.wn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===z(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.B(),e)},t.prototype.on=function(){var t=this.pn(S.Y,this.wn);return null!=t?new Et(t):this.vn},t.prototype.pn=function(t,e){var n=this,r=!1,i=this.vn.field(t),s=ot(i)?o.__assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.pn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}(),St=function(){function t(t,e){this.key=t,this.version=e}return t.bn=function(t,e){return I.F(t.key,e.key)},t}(),It=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.gn=r,o.nn=!!i.nn,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o.__extends(e,t),e.prototype.field=function(t){return this.gn.field(t)},e.prototype.data=function(){return this.gn},e.prototype.yn=function(){return this.gn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.nn===t.nn&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gn.isEqual(t.gn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gn.toString()+", {hasLocalMutations: "+this.nn+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.nn||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e._n=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?G(r,i):Pe("Trying to compare documents on fields that don't exist")},e}(St),kt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(St),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(St),Ot=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.In=null}return t.prototype.canonicalId=function(){if(null===this.In){var t=this.path.J();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),F(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.In=t}return this.In},t.prototype.toString=function(){var t=this.path.J();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),F(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Tn=function(){return I.nt(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Pt=function(){function t(t,e,n,r,i,o,s,l){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===l&&(l=null),this.path=t,this.collectionGroup=e,this.En=n,this.filters=r,this.limit=i,this.Dn=o,this.startAt=s,this.endAt=l,this.Rn=null,this.Sn=null,this.startAt&&this.An(this.startAt),this.endAt&&this.An(this.endAt)}return t.Cn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Rn){var t=this.Pn(),e=this.Vn();if(null!==t&&null===e)this.Rn=t.$()?[qt]:[new jt(t),qt];else{Ae(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Rn=[];for(var n=!1,r=0,i=this.En;r<i.length;r++){var o=i[r];this.Rn.push(o),o.field.$()&&(n=!0)}n||this.Rn.push((this.En.length>0?this.En[this.En.length-1].dir:Ut.ASCENDING)===Ut.ASCENDING?qt:Bt)}}return this.Rn},enumerable:!0,configurable:!0}),t.prototype.kn=function(e){Ae(null==this.Pn()||!(e instanceof Nt)||!e.Nn()||e.field.isEqual(this.Pn()),"Query must only have one inequality field."),Ae(!this.Tn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.En.slice(),n,this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.On=function(e){Ae(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.En.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.Fn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Un=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.jn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),this.limit,this.Dn,e,this.endAt)},t.prototype.xn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),this.limit,this.Dn,this.startAt,e)},t.prototype.Ln=function(e){return new t(e,null,this.En.slice(),this.filters.slice(),this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.Mn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.En.length||1===this.En.length&&this.En[0].field.$())},t.prototype.canonicalId=function(){return this.qn().canonicalId()+"|lt:"+this.Dn},t.prototype.toString=function(){return"Query(target="+this.qn().toString()+"; limitType="+this.Dn+")"},t.prototype.isEqual=function(t){return this.qn().isEqual(t.qn())&&this.Dn===t.Dn},t.prototype.Bn=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.$()}return Ae(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.Qn(t)&&this.Gn(t)&&this.Wn(t)&&this.zn(t)},t.prototype.Kn=function(){return!F(this.limit)&&"F"===this.Dn},t.prototype.Jn=function(){return!F(this.limit)&&"L"===this.Dn},t.prototype.Vn=function(){return this.En.length>0?this.En[0].field:null},t.prototype.Pn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Nt&&n.Nn())return n.field}return null},t.prototype.Hn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Nt&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Tn=function(){return this.qn().Tn()},t.prototype.Yn=function(){return null!==this.collectionGroup},t.prototype.qn=function(){if(!this.Sn)if("F"===this.Dn)this.Sn=new Ot(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new jt(r.field,r.dir===Ut.DESCENDING?Ut.ASCENDING:Ut.DESCENDING))}var i=this.endAt?new Vt(this.endAt.position,!this.endAt.before):null,o=this.startAt?new Vt(this.startAt.position,!this.startAt.before):null;this.Sn=new Ot(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.Sn},t.prototype.Qn=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.et(this.collectionGroup)&&this.path.G(e):I.nt(this.path)?this.path.isEqual(e):this.path.W(e)},t.prototype.Gn=function(t){for(var e=0,n=this.En;e<n.length;e++){var r=n[e];if(!r.field.$()&&null===t.field(r.field))return!1}return!0},t.prototype.Wn=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.zn=function(t){return!(this.startAt&&!this.startAt.Xn(this.orderBy,t)||this.endAt&&this.endAt.Xn(this.orderBy,t))},t.prototype.An=function(t){Ae(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),At=function(){function t(t){this.name=t}return t.H=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return Pe("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Nt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.$())return n===At.IN?(Ae(et(r),"Comparing on key with IN, but filter value not an ArrayValue"),Ae((r.arrayValue.values||[]).every((function(t){return nt(t)})),"Comparing on key with IN, but an array value was not a RefValue"),new Dt(t,r)):(Ae(nt(r),"Comparing on key, but filter value not a RefValue"),Ae(n!==At.ARRAY_CONTAINS&&n!==At.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Rt(t,n,r));if(rt(r)){if(n!==At.EQUAL)throw new p(d.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(it(r)){if(n!==At.EQUAL)throw new p(d.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===At.ARRAY_CONTAINS?new Mt(t,r):n===At.IN?(Ae(et(r),"IN filter has invalid value: "+r.toString()),new Lt(t,r)):n===At.ARRAY_CONTAINS_ANY?(Ae(et(r),"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Ft(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&z(this.value)===z(e)&&this.$n(G(e,this.value))},e.prototype.$n=function(t){switch(this.op){case At.LESS_THAN:return t<0;case At.LESS_THAN_OR_EQUAL:return t<=0;case At.EQUAL:return 0===t;case At.GREATER_THAN:return t>0;case At.GREATER_THAN_OR_EQUAL:return t>=0;default:return Pe("Unknown FieldFilter operator: "+this.op)}},e.prototype.Nn=function(){return[At.LESS_THAN,At.LESS_THAN_OR_EQUAL,At.GREATER_THAN,At.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.J()+this.op.toString()+Q(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&H(this.value,t.value)},e.prototype.toString=function(){return this.field.J()+" "+this.op+" "+Q(this.value)},e}((function(){})),Rt=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return Ae(nt(r),"KeyFieldFilter expects a ReferenceValue"),i.key=I.it(r.referenceValue),i}return o.__extends(e,t),e.prototype.matches=function(t){var e=I.F(t.key,this.key);return this.$n(e)},e}(Nt),Dt=function(t){function e(e,n){var r=t.call(this,e,At.IN,n)||this;return Ae(et(n),"KeyFieldInFilter expects an ArrayValue"),r.keys=(n.arrayValue.values||[]).map((function(t){return Ae(nt(t),"Comparing on key with IN, but an array value was not a ReferenceValue"),I.it(t.referenceValue)})),r}return o.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Nt),Mt=function(t){function e(e,n){return t.call(this,e,At.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return et(e)&&W(e.arrayValue,this.value)},e}(Nt),Lt=function(t){function e(e,n){var r=t.call(this,e,At.IN,n)||this;return Ae(et(n),"InFilter expects an ArrayValue"),r}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&W(this.value.arrayValue,e)},e}(Nt),Ft=function(t){function e(e,n){var r=t.call(this,e,At.ARRAY_CONTAINS_ANY,n)||this;return Ae(et(n),"ArrayContainsAnyFilter expects an ArrayValue"),r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!et(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return W(e.value.arrayValue,t)}))},e}(Nt),Ut=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Vt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return Q(t)})).join(",")},t.prototype.Xn=function(t,e){Ae(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.$())Ae(nt(o),"Bound has a non-key value where the key path is being used."),n=I.F(I.it(o.referenceValue),e.key);else{var s=e.field(i.field);Ae(null!==s,"Field should exist since document matched the orderBy already."),n=G(o,s)}if(i.dir===Ut.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!H(this.position[e],t.position[e]))return!1;return!0},t}(),jt=function(){function t(t,e){this.field=t,void 0===e&&(e=Ut.ASCENDING),this.dir=e,this.Zn=t.$()}return t.prototype.compare=function(t,e){var n=this.Zn?It.bn(t,e):It._n(this.field,t,e);switch(this.dir){case Ut.ASCENDING:return n;case Ut.DESCENDING:return-1*n;default:return Pe("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.J()+this.dir.toString()},t.prototype.toString=function(){return this.field.J()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),qt=new jt(S.Z(),Ut.ASCENDING),Bt=new jt(S.Z(),Ut.DESCENDING),zt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=w.MIN),void 0===o&&(o=w.MIN),void 0===s&&(s=L.Mt),this.target=t,this.targetId=e,this.ti=n,this.sequenceNumber=r,this.ni=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.ii=function(e){return new t(this.target,this.targetId,this.ti,e,this.ni,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ei=function(e,n){return new t(this.target,this.targetId,this.ti,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ri=function(e){return new t(this.target,this.targetId,this.ti,this.sequenceNumber,this.ni,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.ti===t.ti&&this.sequenceNumber===t.sequenceNumber&&this.ni.isEqual(t.ni)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),Ht=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function Wt(t){switch(t){case d.OK:return Pe("Treated status OK as error");case d.CANCELLED:case d.UNKNOWN:case d.DEADLINE_EXCEEDED:case d.RESOURCE_EXHAUSTED:case d.INTERNAL:case d.UNAVAILABLE:case d.UNAUTHENTICATED:return!1;case d.INVALID_ARGUMENT:case d.NOT_FOUND:case d.ALREADY_EXISTS:case d.PERMISSION_DENIED:case d.FAILED_PRECONDITION:case d.ABORTED:case d.OUT_OF_RANGE:case d.UNIMPLEMENTED:case d.DATA_LOSS:return!0;default:return Pe("Unknown status code: "+t)}}function Gt(t){if(void 0===t)return xe("GRPC error has no .code"),d.UNKNOWN;switch(t){case ht.OK:return d.OK;case ht.CANCELLED:return d.CANCELLED;case ht.UNKNOWN:return d.UNKNOWN;case ht.DEADLINE_EXCEEDED:return d.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return d.RESOURCE_EXHAUSTED;case ht.INTERNAL:return d.INTERNAL;case ht.UNAVAILABLE:return d.UNAVAILABLE;case ht.UNAUTHENTICATED:return d.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return d.INVALID_ARGUMENT;case ht.NOT_FOUND:return d.NOT_FOUND;case ht.ALREADY_EXISTS:return d.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return d.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return d.FAILED_PRECONDITION;case ht.ABORTED:return d.ABORTED;case ht.OUT_OF_RANGE:return d.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return d.UNIMPLEMENTED;case ht.DATA_LOSS:return d.DATA_LOSS;default:return Pe("Unknown status code: "+t)}}(dt=ht||(ht={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";var Kt=new k(I.F);function Qt(){return Kt}function Yt(){return Qt()}var Jt=new k(I.F);function Xt(){return Jt}var $t=new k(I.F);function Zt(){return $t}var te=new A(I.F);function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=te,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ne=new A(Re);function re(){return ne}var ie=function(){function t(t){this.F=t?function(e,n){return t(e,n)||I.F(e.key,n.key)}:function(t,e){return I.F(t.key,e.key)},this.ui=Xt(),this.si=new k(this.F)}return t.oi=function(e){return new t(e.F)},t.prototype.has=function(t){return null!=this.ui.get(t)},t.prototype.get=function(t){return this.ui.get(t)},t.prototype.first=function(){return this.si.ot()},t.prototype.last=function(){return this.si.ht()},t.prototype.M=function(){return this.si.M()},t.prototype.indexOf=function(t){var e=this.ui.get(t);return e?this.si.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.si.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.si.ct((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ui.ut(t.key,t),e.si.ut(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ui.remove(t),this.si.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.si.ft(),r=e.si.ft();n.gt();){var i=n.bt().key,o=r.bt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.F=this.F,r.ui=e,r.si=n,r},t}(),oe=function(){function t(){this.hi=new k(I.F)}return t.prototype.track=function(t){var e=t.doc.key,n=this.hi.get(e);n?0!==t.type&&3===n.type?this.hi=this.hi.ut(e,t):3===t.type&&1!==n.type?this.hi=this.hi.ut(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.hi=this.hi.ut(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.hi=this.hi.ut(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.hi=this.hi.remove(e):1===t.type&&2===n.type?this.hi=this.hi.ut(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.hi=this.hi.ut(e,{type:2,doc:t.doc}):Pe("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.hi=this.hi.ut(e,t)},t.prototype.ci=function(){var t=[];return this.hi.ct((function(e,n){t.push(n)})),t},t}(),se=function(){function t(t,e,n,r,i,o,s,l){this.query=t,this.docs=e,this.ai=n,this.docChanges=r,this.fi=i,this.fromCache=o,this.li=s,this.di=l}return t.vi=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ie.oi(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.fi.M()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.li===t.li&&this.fi.isEqual(t.fi)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ai.isEqual(t.ai)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),le=function(){function t(t,e,n,r,i){this.ni=t,this.wi=e,this.mi=n,this.pi=r,this.bi=i}return t.gi=function(e,n){var r=new Map;return r.set(e,ae.yi(e,n)),new t(w.MIN,r,re(),Qt(),ee())},t}(),ae=function(){function t(t,e,n,r,i){this.resumeToken=t,this._i=e,this.Ii=n,this.Ti=r,this.Ei=i}return t.yi=function(e,n){return new t(L.Mt,n,ee(),ee(),ee())},t}(),ue=function(t,e,n,r){this.Di=t,this.removedTargetIds=e,this.key=n,this.Ri=r},ce=function(t,e){this.targetId=t,this.Si=e},he=function(t,e,n,r){void 0===n&&(n=L.Mt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},de=function(){function t(){this.Ai=0,this.Ci=ge(),this.Pi=L.Mt,this.Vi=!1,this.ki=!0}return Object.defineProperty(t.prototype,"_i",{get:function(){return this.Vi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Pi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ni",{get:function(){return 0!==this.Ai},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Oi",{get:function(){return this.ki},enumerable:!0,configurable:!0}),t.prototype.Fi=function(t){t.Lt()>0&&(this.ki=!0,this.Pi=t)},t.prototype.Ui=function(){var t=ee(),e=ee(),n=ee();return this.Ci.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Pe("Encountered invalid change type: "+i)}})),new ae(this.Pi,this.Vi,t,e,n)},t.prototype.ji=function(){this.ki=!1,this.Ci=ge()},t.prototype.xi=function(t,e){this.ki=!0,this.Ci=this.Ci.ut(t,e)},t.prototype.Li=function(t){this.ki=!0,this.Ci=this.Ci.remove(t)},t.prototype.Mi=function(){this.Ai+=1},t.prototype.qi=function(){this.Ai-=1},t.prototype.Bi=function(){this.ki=!0,this.Vi=!0},t}(),pe=function(){function t(t){this.Qi=t,this.Gi=new Map,this.Wi=Qt(),this.zi=fe(),this.Ki=new A(Re)}return t.prototype.Ji=function(t){for(var e=0,n=t.Di;e<n.length;e++){var r=n[e];t.Ri instanceof It?this.Hi(r,t.Ri):t.Ri instanceof kt&&this.Yi(r,t.key,t.Ri)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Yi(r=o[i],t.key,t.Ri)},t.prototype.Xi=function(t){var e=this;this.$i(t,(function(n){var r=e.Zi(n);switch(t.state){case 0:e.te(n)&&r.Fi(t.resumeToken);break;case 1:r.qi(),r.Ni||r.ji(),r.Fi(t.resumeToken);break;case 2:r.qi(),r.Ni||e.removeTarget(n),Ae(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case 3:e.te(n)&&(r.Bi(),r.Fi(t.resumeToken));break;case 4:e.te(n)&&(e.ne(n),r.Fi(t.resumeToken));break;default:Pe("Unknown target watch change state: "+t.state)}}))},t.prototype.$i=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gi.forEach((function(t,n){return e(n)}))},t.prototype.ie=function(t){var e=t.targetId,n=t.Si.count,r=this.ee(e);if(r){var i=r.target;if(i.Tn())if(0===n){var o=new I(i.path);this.Yi(e,o,new kt(o,w.V()))}else Ae(1===n,"Single document existence filter with count: "+n);else this.re(e)!==n&&(this.ne(e),this.Ki=this.Ki.add(e))}},t.prototype.ue=function(t){var e=this,n=new Map;this.Gi.forEach((function(r,i){var o=e.ee(i);if(o){if(r._i&&o.target.Tn()){var s=new I(o.target.path);null!==e.Wi.get(s)||e.se(i,s)||e.Yi(i,s,new kt(s,t))}r.Oi&&(n.set(i,r.Ui()),r.ji())}}));var r=ee();this.zi.forEach((function(t,n){var i=!0;n.Nt((function(t){var n=e.ee(t);return!n||2===n.ti||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new le(t,n,this.Ki,this.Wi,r);return this.Wi=Qt(),this.zi=fe(),this.Ki=new A(Re),i},t.prototype.Hi=function(t,e){if(this.te(t)){var n=this.se(t,e.key)?2:0;this.Zi(t).xi(e.key,n),this.Wi=this.Wi.ut(e.key,e),this.zi=this.zi.ut(e.key,this.oe(e.key).add(t))}},t.prototype.Yi=function(t,e,n){if(this.te(t)){var r=this.Zi(t);this.se(t,e)?r.xi(e,1):r.Li(e),this.zi=this.zi.ut(e,this.oe(e).delete(t)),n&&(this.Wi=this.Wi.ut(e,n))}},t.prototype.removeTarget=function(t){this.Gi.delete(t)},t.prototype.re=function(t){var e=this.Zi(t).Ui();return this.Qi.he(t).size+e.Ii.size-e.Ei.size},t.prototype.Mi=function(t){this.Zi(t).Mi()},t.prototype.Zi=function(t){var e=this.Gi.get(t);return e||(e=new de,this.Gi.set(t,e)),e},t.prototype.oe=function(t){var e=this.zi.get(t);return e||(e=new A(Re),this.zi=this.zi.ut(t,e)),e},t.prototype.te=function(t){var e=null!==this.ee(t);return e||ke("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ee=function(t){var e=this.Gi.get(t);return e&&e.Ni?null:this.Qi.ce(t)},t.prototype.ne=function(t){var e=this;Ae(!this.Gi.get(t).Ni,"Should only reset active targets"),this.Gi.set(t,new de),this.Qi.he(t).forEach((function(n){e.Yi(t,n,null)}))},t.prototype.se=function(t,e){return this.Qi.he(t).has(e)},t}();function fe(){return new k(I.F)}function ge(){return new k(I.F)}var me,ye,ve=((me={})[Ut.ASCENDING.name]="ASCENDING",me[Ut.DESCENDING.name]="DESCENDING",me),_e=((ye={})[At.LESS_THAN.name]="LESS_THAN",ye[At.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ye[At.GREATER_THAN.name]="GREATER_THAN",ye[At.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ye[At.EQUAL.name]="EQUAL",ye[At.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ye[At.IN.name]="IN",ye[At.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ye);function be(t,e){Ae(!F(t),e+" is missing")}var we=function(){function t(t,e){this.ae=t,this.options=e}return t.prototype.fe=function(t){var e=void 0===t.code?d.UNKNOWN:Gt(t.code);return new p(e,t.message||"")},t.prototype.le=function(t){return this.options.de||F(t)?t:{value:t}},t.prototype.ve=function(t){var e;return F(e="object"==typeof t?t.value:t)?null:e},t.prototype.Wt=function(t){return{integerValue:""+t}},t.prototype.zt=function(t){if(this.options.de){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U(t)?"-0":t}},t.prototype.we=function(t){return V(t)?this.Wt(t):this.zt(t)},t.prototype.O=function(t){return this.options.de?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.P=function(t){var e=Y(t);return new b(e.seconds,e.nanos)},t.prototype.me=function(t){return this.options.de?t.toBase64():t.toUint8Array()},t.prototype.pe=function(t){return this.options.de?(Ae(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),L.fromBase64String(t||"")):(Ae(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),L.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.O(t.O())},t.prototype.fromVersion=function(t){return Ae(!!t,"Trying to deserialize version that isn't set"),w.P(this.P(t))},t.prototype.be=function(t,e){return this.ge(e||this.ae).child("documents").child(t).J()},t.prototype.ye=function(t){var e=E.H(t);return Ae(Ce(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype._e=function(t){return this.be(t.path)},t.prototype.it=function(t){var e=this.ye(t);return Ae(e.get(1)===this.ae.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.ae.projectId),Ae(!e.get(3)&&!this.ae.database||e.get(3)===this.ae.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.ae.database),new I(this.Ie(e))},t.prototype.Te=function(t){return this.be(t)},t.prototype.Ee=function(t){var e=this.ye(t);return 4===e.length?E.Y:this.Ie(e)},Object.defineProperty(t.prototype,"De",{get:function(){return new E(["projects",this.ae.projectId,"databases",this.ae.database]).J()},enumerable:!0,configurable:!0}),t.prototype.ge=function(t){return new E(["projects",t.projectId,"databases",t.database])},t.prototype.Ie=function(t){return Ae(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.j(5)},t.prototype.Re=function(t,e){return{name:this._e(t),fields:e.proto.mapValue.fields}},t.prototype.Se=function(t){return Ae(!t.nn,"Can't serialize documents with mutations."),{name:this._e(t.key),fields:t.yn().mapValue.fields,updateTime:this.O(t.version.O())}},t.prototype.Ae=function(t,e){var n=this.it(t.name),r=this.fromVersion(t.updateTime),i=new Et({mapValue:{fields:t.fields}});return new It(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Ce=function(t){Ae(!!t.found,"Tried to deserialize a found document from a missing document."),be(t.found.name,"doc.found.name"),be(t.found.updateTime,"doc.found.updateTime");var e=this.it(t.found.name),n=this.fromVersion(t.found.updateTime),r=new Et({mapValue:{fields:t.found.fields}});return new It(e,n,r,{})},t.prototype.Pe=function(t){Ae(!!t.missing,"Tried to deserialize a missing document from a found document."),Ae(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.it(t.missing),n=this.fromVersion(t.readTime);return new kt(e,n)},t.prototype.Ve=function(t){return"found"in t?this.Ce(t):"missing"in t?this.Pe(t):Pe("invalid batch get response: "+JSON.stringify(t))},t.prototype.ke=function(t){var e;if("targetChange"in t){be(t.targetChange,"targetChange");var n=this.Ne(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.pe(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.fe(o);e=new he(n,r,i,s||null)}else if("documentChange"in t){be(t.documentChange,"documentChange");var l=t.documentChange;be(l.document,"documentChange.name"),be(l.document.name,"documentChange.document.name"),be(l.document.updateTime,"documentChange.document.updateTime");var a=this.it(l.document.name),u=this.fromVersion(l.document.updateTime),c=new Et({mapValue:{fields:l.document.fields}}),h=new It(a,u,c,{}),d=l.removedTargetIds||[];e=new ue(l.targetIds||[],d,h.key,h)}else if("documentDelete"in t){be(t.documentDelete,"documentDelete");var p=t.documentDelete;be(p.document,"documentDelete.document"),a=this.it(p.document),u=p.readTime?this.fromVersion(p.readTime):w.V(),h=new kt(a,u),e=new ue([],d=p.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){be(t.documentRemove,"documentRemove");var f=t.documentRemove;be(f.document,"documentRemove"),a=this.it(f.document),e=new ue([],d=f.removedTargetIds||[],a,null)}else{if(!("filter"in t))return Pe("Unknown change type "+JSON.stringify(t));be(t.filter,"filter");var g=t.filter;be(g.targetId,"filter.targetId");var m=new Ht(g.count||0);e=new ce(g.targetId,m)}return e},t.prototype.Ne=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Pe("Got unexpected TargetChange.state: "+t)},t.prototype.Oe=function(t){if(!("targetChange"in t))return w.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?w.MIN:e.readTime?this.fromVersion(e.readTime):w.MIN},t.prototype.Fe=function(t){var e,n=this;if(t instanceof vt)e={update:this.Re(t.key,t.value)};else if(t instanceof wt)e={delete:this._e(t.key)};else if(t instanceof _t)e={update:this.Re(t.key,t.data),updateMask:this.Ue(t.en)};else if(t instanceof bt)e={transform:{document:this._e(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.je(t)}))}};else{if(!(t instanceof Ct))return Pe("Unknown mutation type "+t.type);e={verify:this._e(t.key)}}return t.tn.Yt||(e.currentDocument=this.xe(t.tn)),e},t.prototype.Le=function(t){var e=this,n=t.currentDocument?this.Me(t.currentDocument):mt.NONE;if(t.update){be(t.update.name,"name");var r=this.it(t.update.name),i=new Et({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.qe(t.updateMask);return new _t(r,i,o,n)}return new vt(r,i,n)}if(t.delete)return r=this.it(t.delete),new wt(r,n);if(t.transform){r=this.it(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.Be(t)}));return Ae(!0===n.exists,'Transforms only support precondition "exists == true"'),new bt(r,s)}return t.verify?(r=this.it(t.verify),new Ct(r,n)):Pe("unknown mutation proto: "+JSON.stringify(t))},t.prototype.xe=function(t){return Ae(!t.Yt,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pe("Unknown precondition")},t.prototype.Me=function(t){return void 0!==t.updateTime?mt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?mt.exists(t.exists):mt.NONE},t.prototype.Qe=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(w.MIN)&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new gt(n,r)},t.prototype.Ge=function(t,e){var n=this;return t&&t.length>0?(Ae(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.Qe(t,e)}))):[]},t.prototype.je=function(t){var e=t.transform;if(e instanceof st)return{fieldPath:t.field.J(),setToServerValue:"REQUEST_TIME"};if(e instanceof lt)return{fieldPath:t.field.J(),appendMissingElements:{values:e.elements}};if(e instanceof at)return{fieldPath:t.field.J(),removeAllFromArray:{values:e.elements}};if(e instanceof ut)return{fieldPath:t.field.J(),increment:e.Gt};throw Pe("Unknown transform: "+t.transform)},t.prototype.Be=function(t){var e=null;if("setToServerValue"in t)Ae("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),e=st.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];e=new lt(n)}else"removeAllFromArray"in t?e=new at(n=t.removeAllFromArray.values||[]):"increment"in t?e=new ut(this,t.increment):Pe("Unknown transform proto: "+JSON.stringify(t));var r=S.tt(t.fieldPath);return new ft(r,e)},t.prototype.We=function(t){return{documents:[this.Te(t.path)]}},t.prototype.ze=function(t){var e=t.documents.length;return Ae(1===e,"DocumentsTarget contained other than 1 document: "+e),Pt.Cn(this.Ee(t.documents[0])).qn()},t.prototype.Ke=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(Ae(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.Te(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(Ae(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.Te(n.L()),e.structuredQuery.from=[{collectionId:n.B()}]);var r=this.Je(t.filters);r&&(e.structuredQuery.where=r);var i=this.He(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.le(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Ye(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Ye(t.endAt)),e},t.prototype.Xe=function(t){var e=this.Ee(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.$e(n.where));var l=[];n.orderBy&&(l=this.Ze(n.orderBy));var a=null;n.limit&&(a=this.ve(n.limit));var u=null;n.startAt&&(u=this.tr(n.startAt));var c=null;return n.endAt&&(c=this.tr(n.endAt)),new Pt(e,i,l,s,a,"F",u,c).qn()},t.prototype.nr=function(t){var e=this.ir(t.ti);return null==e?null:{"goog-listen-tags":e}},t.prototype.ir=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pe("Unrecognized query purpose: "+t)}},t.prototype.qn=function(t){var e,n=t.target;return(e=n.Tn()?{documents:this.We(n)}:{query:this.Ke(n)}).targetId=t.targetId,t.resumeToken.Lt()>0&&(e.resumeToken=this.me(t.resumeToken)),e},t.prototype.Je=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Nt?e.er(t):Pe("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.$e=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.rr(t)]:void 0!==t.fieldFilter?[this.ur(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.$e(t)})).reduce((function(t,e){return t.concat(e)})):Pe("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.He=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.sr(t)}))},t.prototype.Ze=function(t){var e=this;return t.map((function(t){return e.or(t)}))},t.prototype.Ye=function(t){return{before:t.before,values:t.position}},t.prototype.tr=function(t){return new Vt(t.values||[],!!t.before)},t.prototype.hr=function(t){return ve[t.name]},t.prototype.cr=function(t){switch(t){case"ASCENDING":return Ut.ASCENDING;case"DESCENDING":return Ut.DESCENDING;default:return}},t.prototype.ar=function(t){return _e[t.name]},t.prototype.lr=function(t){switch(t){case"EQUAL":return At.EQUAL;case"GREATER_THAN":return At.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return At.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return At.LESS_THAN;case"LESS_THAN_OR_EQUAL":return At.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return At.ARRAY_CONTAINS;case"IN":return At.IN;case"ARRAY_CONTAINS_ANY":return At.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Pe("Unspecified operator");default:return Pe("Unknown operator")}},t.prototype.dr=function(t){return{fieldPath:t.J()}},t.prototype.vr=function(t){return S.tt(t.fieldPath)},t.prototype.sr=function(t){return{field:this.dr(t.field),direction:this.hr(t.dir)}},t.prototype.or=function(t){return new jt(this.vr(t.field),this.cr(t.direction))},t.prototype.ur=function(t){return Nt.create(this.vr(t.fieldFilter.field),this.lr(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.er=function(t){if(t.op===At.EQUAL){if(it(t.value))return{unaryFilter:{field:this.dr(t.field),op:"IS_NAN"}};if(rt(t.value))return{unaryFilter:{field:this.dr(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.dr(t.field),op:this.ar(t.op),value:t.value}}},t.prototype.rr=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.vr(t.unaryFilter.field);return Nt.create(e,At.EQUAL,{doubleValue:NaN});case"IS_NULL":var n=this.vr(t.unaryFilter.field);return Nt.create(n,At.EQUAL,{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe("Unspecified filter");default:return Pe("Unknown filter")}},t.prototype.Ue=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}},t.prototype.qe=function(t){var e=(t.fieldPaths||[]).map((function(t){return S.tt(t)}));return pt.Jt(e)},t}();function Ce(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ee=function(){function t(){}return t.wr=function(e){t.platform&&Pe("Platform already defined"),t.platform=e},t.xt=function(){return t.platform||Pe("Platform not set"),t.platform},t}(),Te=new s.Logger("@firebase/firestore");function Se(){return Te.logLevel}function Ie(t){Te.logLevel=t}function ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Te.logLevel<=s.LogLevel.DEBUG){var r=e.map(Oe);Te.error.apply(Te,o.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function xe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Te.logLevel<=s.LogLevel.ERROR){var r=e.map(Oe);Te.error.apply(Te,o.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function Oe(t){if("string"==typeof t)return t;var e=Ee.xt();try{return e.mr(t)}catch(e){return t}}function Pe(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw xe(e),new Error(e)}function Ae(t,e){t||Pe(e)}var Ne=function(){function t(){}return t.pr=function(){for(var t="";t.length<20;)for(var e=Ee.xt().randomBytes(40),n=0,r=Array.from(e);n<r.length;n++){var i=r[n];t.length<20&&i<=247&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i%62))}return Ae(20===t.length,"Invalid auto ID: "+t),t},t}();function Re(t,e){return t<e?-1:t>e?1:0}function De(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Me(t){return t+"\0"}var Le=function(t,e,n,r,i){this.ae=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Fe=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"br",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.k=function(t){return Re(this.projectId,t.projectId)||Re(this.database,t.database)},t}(),Ue=function(){function t(t,e,n,r){this.batchId=t,this.gr=e,this.baseMutations=n,this.mutations=r,Ae(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.Bt=function(t,e,n){e&&Ae(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.yr;Ae(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.Bt(e,r[i]))}return e},t.prototype.qt=function(t,e){e&&Ae(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(l=r[n]).key.isEqual(t)&&(e=l.qt(e,e,this.gr));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var l;(l=s[o]).key.isEqual(t)&&(e=l.qt(e,i,this.gr))}return e},t.prototype._r=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.qt(r.key,t.get(r.key));i&&(n=n.ut(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ee())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&De(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&De(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Ve=function(){function t(t,e,n,r,i){this.batch=t,this.Ir=e,this.yr=n,this.streamToken=r,this.Tr=i}return t.from=function(e,n,r,i){Ae(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Zt(),s=e.mutations,l=0;l<s.length;l++)o=o.ut(s[l].key,r[l].version);return new t(e,n,r,i,o)},t}(),je=function(){function t(t){this.Er=t,this.Dr={}}return t.prototype.get=function(t){var e=this.Er(t),n=this.Dr[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Er(t),r=this.Dr[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Dr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Er(t),n=this.Dr[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Dr[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){D(this.Dr,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.M=function(){return M(this.Dr)},t}(),qe=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Rr=n,this.Sr=r}return t.Ar=function(e,n){for(var r=ee(),i=ee(),o=0,s=n.docChanges;o<s.length;o++){var l=s[o];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Be=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Cr=function(t){return n.Pr(t)},this.Vr=function(t){return e.kr(t)})}return t.prototype.Pr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Vr&&this.Vr(t),t},t.Nr=-1,t}(),ze=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},He=function(){function t(t,e,n,r,i){this.Or=t,this.Fr=e,this.Ur=n,this.op=r,this.jr=i,this.xr=new ze,this.then=this.xr.promise.then.bind(this.xr.promise),this.catch=this.xr.promise.catch.bind(this.xr.promise),this.xr.promise.catch((function(t){}))}return t.Lr=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Mr=setTimeout((function(){return e.qr()}),t)},t.prototype.Br=function(){return this.qr()},t.prototype.cancel=function(t){null!==this.Mr&&(this.clearTimeout(),this.xr.reject(new p(d.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.qr=function(){var t=this;this.Or.Qr((function(){return null!==t.Mr?(t.clearTimeout(),t.op().then((function(e){return t.xr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Mr&&(this.jr(this),clearTimeout(this.Mr),this.Mr=null)},t}(),We=function(){function t(){this.Gr=Promise.resolve(),this.Wr=!1,this.zr=[],this.Kr=null,this.Jr=!1,this.Hr=[]}return Object.defineProperty(t.prototype,"Yr",{get:function(){return this.Wr},enumerable:!0,configurable:!0}),t.prototype.Qr=function(t){this.enqueue(t)},t.prototype.Xr=function(t){this.$r(),this.Zr(t)},t.prototype.tu=function(t){return this.$r(),this.Zr(t)},t.prototype.nu=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.$r(),this.Wr?[3,2]:(this.Wr=!0,[4,this.tu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.$r(),this.Wr?new Promise((function(t){})):this.Zr(t)},t.prototype.Zr=function(t){var e=this,n=this.Gr.then((function(){return e.Jr=!0,t().catch((function(t){e.Kr=t,e.Jr=!1;var n=t.stack||t.message||"";throw xe("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.Jr=!1,t}))}));return this.Gr=n,n},t.prototype.iu=function(t,e,n){var r=this;this.$r(),Ae(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.Hr.indexOf(t)>-1&&(e=0);var i=He.Lr(this,t,e,n,(function(t){return r.eu(t)}));return this.zr.push(i),i},t.prototype.$r=function(){this.Kr&&Pe("AsyncQueue is already failed: "+(this.Kr.stack||this.Kr.message))},t.prototype.ru=function(){Ae(this.Jr,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.uu=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Gr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Gr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.su=function(t){for(var e=0,n=this.zr;e<n.length;e++)if(n[e].Fr===t)return!0;return!1},t.prototype.ou=function(t){var e=this;return this.uu().then((function(){Ae("all"===t||e.su(t),"Attempted to drain to missing operation "+t),e.zr.sort((function(t,e){return t.Ur-e.Ur}));for(var n=0,r=e.zr;n<r.length;n++){var i=r[n];if(i.Br(),"all"!==t&&i.Fr===t)break}return e.uu()}))},t.prototype.hu=function(t){this.Hr.push(t)},t.prototype.eu=function(t){var e=this.zr.indexOf(t);Ae(e>=0,"Delayed operation not found."),this.zr.splice(e,1)},t}(),Ge=function(){function t(t){var e=this;this.cu=null,this.au=null,this.result=void 0,this.error=void 0,this.fu=!1,this.lu=!1,t((function(t){e.fu=!0,e.result=t,e.cu&&e.cu(t)}),(function(t){e.fu=!0,e.error=t,e.au&&e.au(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.lu&&Pe("Called next() or catch() twice for PersistencePromise"),this.lu=!0,this.fu?this.error?this.du(n,this.error):this.vu(e,this.result):new t((function(t,i){r.cu=function(n){r.vu(e,n).next(t,i)},r.au=function(e){r.du(n,e).next(t,i)}}))},t.prototype.wu=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.mu=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vu=function(e,n){return e?this.mu((function(){return e(n)})):t.resolve(n)},t.prototype.du=function(e,n){return e?this.mu((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.pu=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.bu=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.pu(r)},t}();function Ke(t,e){var n=t[1],r=e[1],i=Re(t[0],e[0]);return 0===i?Re(n,r):i}var Qe=function(){function t(t){this.gu=t,this.buffer=new A(Ke),this.yu=0}return t.prototype._u=function(){return++this.yu},t.prototype.Iu=function(t){var e=[t,this._u()];if(this.buffer.size<this.gu)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ke(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Ye={Tu:!1,Eu:0,Du:0,Ru:0},Je=function(){function t(t,e,n){this.Su=t,this.Au=e,this.Cu=n}return t.Pu=function(e){return new t(e,t.Vu,t.ku)},t.Nu=-1,t.Ou=1048576,t.Uu=new t(t.Fu=41943040,t.Vu=10,t.ku=1e3),t.DISABLED=new t(t.Nu,0,0),t}(),Xe=function(){function t(t,e){this.ju=t,this.Or=e,this.xu=!1,this.Lu=null}return t.prototype.start=function(t){Ae(null===this.Lu,"Cannot start an already started LruScheduler"),this.ju.params.Su!==Je.Nu&&this.Mu(t)},t.prototype.stop=function(){this.Lu&&(this.Lu.cancel(),this.Lu=null)},Object.defineProperty(t.prototype,"qu",{get:function(){return null!==this.Lu},enumerable:!0,configurable:!0}),t.prototype.Mu=function(t){var e=this;Ae(null===this.Lu,"Cannot schedule GC while a task is pending");var n=this.xu?3e5:6e4;ke("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Lu=this.Or.iu("lru_garbage_collection",n,(function(){return e.Lu=null,e.xu=!0,t.Bu(e.ju).then((function(){return e.Mu(t)})).catch(rn)}))},t}(),$e=function(){function t(t,e){this.Qu=t,this.params=e}return t.prototype.Gu=function(t,e){return this.Qu.Wu(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.zu=function(t,e){var n=this;if(0===e)return Ge.resolve(Be.Nr);var r=new Qe(e);return this.Qu.$i(t,(function(t){return r.Iu(t.sequenceNumber)})).next((function(){return n.Qu.Ku(t,(function(t){return r.Iu(t)}))})).next((function(){return r.maxValue}))},t.prototype.Ju=function(t,e,n){return this.Qu.Ju(t,e,n)},t.prototype.Hu=function(t,e){return this.Qu.Hu(t,e)},t.prototype.Yu=function(t,e){var n=this;return this.params.Su===Je.Nu?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(Ye)):this.Xu(t).next((function(r){return r<n.params.Su?(ke("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Su),Ye):n.$u(t,e)}))},t.prototype.Xu=function(t){return this.Qu.Xu(t)},t.prototype.$u=function(t,e){var n,r,i,o,l,a,u,c=this,h=Date.now();return this.Gu(t,this.params.Au).next((function(e){return e>c.params.Cu?(ke("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Cu+" from "+e),r=c.params.Cu):r=e,o=Date.now(),c.zu(t,r)})).next((function(r){return n=r,l=Date.now(),c.Ju(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Hu(t,n)})).next((function(t){return u=Date.now(),Se()<=s.LogLevel.DEBUG&&ke("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(l-o)+"ms\n\tRemoved "+i+" targets in "+(a-l)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),Ge.resolve({Tu:!0,Eu:r,Du:i,Ru:t})}))},t}(),Ze=function(){function t(){this.Zu=new A(tn.bn),this.ts=new A(tn.ns)}return t.prototype.M=function(){return this.Zu.M()},t.prototype.es=function(t,e){var n=new tn(t,e);this.Zu=this.Zu.add(n),this.ts=this.ts.add(n)},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.es(t,e)}))},t.prototype.us=function(t,e){this.ss(new tn(t,e))},t.prototype.os=function(t,e){var n=this;t.forEach((function(t){return n.us(t,e)}))},t.prototype.hs=function(t){var e=this,n=I.EMPTY,r=new tn(n,t),i=new tn(n,t+1),o=[];return this.ts.kt([r,i],(function(t){e.ss(t),o.push(t.key)})),o},t.prototype.cs=function(){var t=this;this.Zu.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Zu=this.Zu.delete(t),this.ts=this.ts.delete(t)},t.prototype.as=function(t){var e=I.EMPTY,n=new tn(e,t),r=new tn(e,t+1),i=ee();return this.ts.kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.fs=function(t){var e=new tn(t,0),n=this.Zu.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),tn=function(){function t(t,e){this.key=t,this.ls=e}return t.bn=function(t,e){return I.F(t.key,e.key)||Re(t.ls,e.ls)},t.ns=function(t,e){return Re(t.ls,e.ls)||I.F(t.key,e.key)},t}(),en=function(){function t(){this.ds=new je((function(t){return t.toString()})),this.vs=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return Ae(void 0!==this.ws,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.ws},set:function(t){Ae(void 0===this.ws||this.ws.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.ws=t},enumerable:!0,configurable:!0}),t.prototype.ms=function(t,e){this.ps(),this.readTime=e,this.ds.set(t.key,t)},t.prototype.bs=function(t,e){this.ps(),e&&(this.readTime=e),this.ds.set(t,null)},t.prototype.gs=function(t,e){this.ps();var n=this.ds.get(e);return void 0!==n?Ge.resolve(n):this.ys(t,e)},t.prototype.getEntries=function(t,e){return this._s(t,e)},t.prototype.apply=function(t){return this.ps(),this.vs=!0,this.Is(t)},t.prototype.ps=function(){Ae(!this.vs,"Changes have already been applied.")},t}(),nn=function(){function t(t,e,n){this.persistence=t,this.Ts=e,this.Es=new Ze,this.Ds=new k(Re),this.Rs=new je((function(t){return t.canonicalId()})),this.Ss=w.MIN,Ae(t.qu,"LocalStore was passed an unstarted persistence implementation"),this.persistence.Cs.As(this.Es),this.Ps=t.Vs(n),this.ks=t.Ns(),this.Os=t.Fs(),this.Us=new yn(this.ks,this.Ps,this.persistence.js()),this.Ts.xs(this.Us)}return t.prototype.start=function(){return this.Ls()},t.prototype.Ms=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.Ps,n=this.Us,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var o;return i.Ps.qs(r).next((function(s){return o=s,e=i.persistence.Vs(t),n=new yn(i.ks,e,i.persistence.js()),e.qs(r)})).next((function(t){for(var e=[],i=[],s=ee(),l=0,a=o;l<a.length;l++){var u=a[l];e.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++){var d=h[c];s=s.add(d.key)}}for(var p=0,f=t;p<f.length;p++){i.push((u=f[p]).batchId);for(var g=0,m=u.mutations;g<m.length;g++)s=s.add((d=m[g]).key)}return n.Bs(r,s).next((function(t){return{Qs:t,Gs:e,Ws:i}}))}))}))];case 1:return r=o.sent(),this.Ps=e,this.Us=n,this.Ts.xs(this.Us),[2,r]}}))}))},t.prototype.zs=function(t){var e,n=this,r=b.now(),i=t.reduce((function(t,e){return t.add(e.key)}),ee());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Us.Bs(o,i).next((function(i){e=i;for(var s=[],l=0,a=t;l<a.length;l++){var u=a[l],c=u.in(e.get(u.key));null!=c&&s.push(new _t(u.key,c,c.en(),mt.exists(!0)))}return n.Ps.Ks(o,r,s,t)}))})).then((function(t){var n=t._r(e);return{batchId:t.batchId,ds:n}}))},t.prototype.Js=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Ps.Hs(n,t).next((function(t){return t?e.Us.Bs(n,t):Ge.resolve(null)}))}))},t.prototype.Ys=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.ks.Xs({$s:!0});return e.Ps.Ys(n,t.batch,t.streamToken).next((function(){return e.Zs(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Ps.to(n)})).next((function(){return e.Us.Bs(n,r)}))}))},t.prototype.no=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Ps.io(n,t).next((function(t){return Ae(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.Ps.eo(n,t)})).next((function(){return e.Ps.to(n)})).next((function(){return e.Us.Bs(n,r)}))}))},t.prototype.ro=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Ps.ro(e)}))},t.prototype.uo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Ps.uo(e)}))},t.prototype.so=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.Ps.so(n,t)}))},t.prototype.oo=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Os.oo(e)}))},t.prototype.ho=function(e){var n=this,r=e.ni,i=this.Ds;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.ks.Xs({$s:!0});i=n.Ds;var l=[];e.wi.forEach((function(e,s){var a=i.get(s);if(a){l.push(n.Os.co(o,e.Ei,s).next((function(){return n.Os.ao(o,e.Ii,s)})));var u=e.resumeToken;if(u.Lt()>0){var c=a.ei(u,r).ii(o.fo);i=i.ut(s,c),t.lo(a,c,e)&&l.push(n.Os.do(o,c))}}}));var a=Qt(),u=ee();if(e.pi.forEach((function(t,e){u=u.add(t)})),l.push(s.getEntries(o,u).next((function(t){e.pi.forEach((function(i,u){var c=t.get(i);u instanceof kt&&u.version.isEqual(w.MIN)?(s.bs(i,r),a=a.ut(i,u)):null==c||u.version.k(c.version)>0||0===u.version.k(c.version)&&c.hasPendingWrites?(Ae(!w.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),s.ms(u,r),a=a.ut(i,u)):ke("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",u.version),e.bi.has(i)&&l.push(n.persistence.Cs.vo(o,i))}))}))),!r.isEqual(w.MIN)){var c=n.Os.oo(o).next((function(t){return Ae(r.k(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n.Os.wo(o,o.fo,r)}));l.push(c)}return Ge.pu(l).next((function(){return s.apply(o)})).next((function(){return n.Us.mo(o,a)}))})).then((function(t){return n.Ds=i,t}))},t.lo=function(t,e,n){return Ae(e.resumeToken.Lt()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Lt()||e.ni.N()-t.ni.N()>=this.po||n.Ii.size+n.Ti.size+n.Ei.size>0},t.prototype.bo=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Es.rs(i.Rr,o),this.Es.os(i.Sr,o),!i.fromCache){var s=this.Ds.get(o);Ae(null!==s,"Can't set limbo-free snapshot version for unknown target: "+o);var l=s.ri(s.ni);this.Ds=this.Ds.ut(o,l)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Ge.forEach(t,(function(t){return Ge.forEach(t.Sr,(function(t){return e.persistence.Cs.us(n,t)}))}))}))},t.prototype.yo=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Ps._o(n,t)}))},t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Us.To(n,t)}))},t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Os.Do(n,t).next((function(i){return i?Ge.resolve(r=i):e.Os.Ro(n).next((function(i){return r=new zt(t,i,0,n.fo),e.Os.So(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Ds.get(n.targetId)&&(e.Ds=e.Ds.ut(n.targetId,n),e.Rs.set(t,n.targetId)),n}))},t.prototype.Do=function(t,e){var n=this.Rs.get(e);return void 0!==n?Ge.resolve(this.Ds.get(n)):this.Os.Do(t,e)},t.prototype.Ao=function(t,e){var n=this,r=this.Ds.get(t);return Ae(null!==r,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(i){var o=n.Es.hs(t);return e?Ge.resolve():Ge.forEach(o,(function(t){return n.persistence.Cs.us(i,t)})).next((function(){n.persistence.Cs.removeTarget(i,r)}))})).then((function(){n.Ds=n.Ds.remove(t),n.Rs.delete(r.target)}))},t.prototype.Co=function(t,e){var n=this,r=w.MIN,i=ee();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Do(o,t.qn()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Os.Po(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Ts.Vo(o,t,e?r:w.MIN,e?i:ee())})).next((function(t){return{documents:t,ko:i}}))}))},t.prototype.No=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.Os.Po(n,t)}))},t.prototype.Oo=function(){return this.persistence.Oo()},t.prototype.Fo=function(t){this.Ps.Uo(t)},t.prototype.jo=function(t){this.persistence.jo(t)},t.prototype.Zs=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Ge.resolve();return o.forEach((function(r){s=s.next((function(){return n.gs(t,r)})).next((function(t){var o=t,s=e.Tr.get(r);Ae(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.k(s)<0)&&((o=i.Bt(r,o,e))?n.ms(o,e.Ir):Ae(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return r.Ps.eo(t,i)}))},t.prototype.Bu=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Yu(n,e.Ds)}))},t.prototype.xo=function(t){var e=this,n=this.Ds.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Os.ce(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.Lo=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.ks.Lo(e,t.Ss)})).then((function(e){var n=e.Mo;return t.Ss=e.readTime,n}))},t.prototype.Ls=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.ks.qo(t)}))];case 1:return t.Ss=n.sent(),[2]}}))}))},t.po=3e8,t}();function rn(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(t.code!==d.FAILED_PRECONDITION||t.message!==gn)throw t;return ke("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function on(t,e){return Ae(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),"firestore_clients_"+t+"_"+e}function sn(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function ln(t,e){return"firestore_targets_"+t+"_"+e}var an=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,Ae(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.Bo=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new p(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(xe("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Qo=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),un=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,Ae(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.Bo=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new p(r.error.code,r.error.message)),i?new t(e,r.state,o):(xe("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Qo=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),cn=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Bo=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=re(),s=0;i&&s<r.activeTargetIds.length;++s)i=V(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(xe("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),hn=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Bo=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(xe("SharedClientState","Failed to parse online state: "+e),null)},t}(),dn=function(){function t(){this.activeTargetIds=re()}return t.prototype.Go=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Wo=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Qo=function(){var t={activeTargetIds:this.activeTargetIds.K(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),pn=function(){function t(e,n,r,i,o){if(this.zo=e,this.platform=n,this.persistenceKey=r,this.Ko=i,this.Jo=null,this.Ho=null,this.Cr=null,this.Yo={},this.Xo=this.$o.bind(this),this.qu=!1,this.Zo=[],!t.th(this.platform))throw new p(d.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.nh=on(this.persistenceKey,this.Ko),this.ih=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Yo[this.Ko]=new dn,this.eh=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.rh=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.uh=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.sh=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Xo)}return t.th=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,s,l,a,u,c,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return Ae(!this.qu,"WebStorageSharedClientState already started"),Ae(null!==this.Jo,"syncEngine property must be set before calling start()"),Ae(null!==this.Ho,"onlineStateHandler property must be set before calling start()"),[4,this.Jo.Oo()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ko&&(i=this.getItem(on(this.persistenceKey,r)))&&(s=cn.Bo(r,i))&&(this.Yo[s.clientId]=s);for(this.oh(),(l=this.storage.getItem(this.sh))&&(a=this.hh(l))&&this.ah(a),u=0,c=this.Zo;u<c.length;u++)this.$o(c[u]);return this.Zo=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.qu=!0,[2]}}))}))},t.prototype.kr=function(t){this.setItem(this.ih,JSON.stringify(t))},t.prototype.fh=function(){var t=re();return D(this.Yo,(function(e,n){t=t.Ft(n.activeTargetIds)})),t},t.prototype.lh=function(t){for(var e in this.Yo)if(this.Yo.hasOwnProperty(e)&&this.Yo[e].activeTargetIds.has(t))return!0;return!1},t.prototype.dh=function(t){this.vh(t,"pending")},t.prototype.wh=function(t,e,n){this.vh(t,e,n),this.mh(t)},t.prototype.ph=function(t){var e="not-current";if(this.lh(t)){var n=this.storage.getItem(ln(this.persistenceKey,t));if(n){var r=un.Bo(t,n);r&&(e=r.state)}}return this.bh.Go(t),this.oh(),e},t.prototype.gh=function(t){this.bh.Wo(t),this.oh()},t.prototype.yh=function(t){return this.bh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(ln(this.persistenceKey,t))},t.prototype.Ih=function(t,e,n){this.Th(t,e,n)},t.prototype.Ms=function(t,e,n){var r=this;e.forEach((function(t){r.mh(t)})),this.currentUser=t,n.forEach((function(t){r.dh(t)}))},t.prototype.Eh=function(t){this.Dh(t)},t.prototype.shutdown=function(){this.qu&&(this.platform.window.removeEventListener("storage",this.Xo),this.removeItem(this.nh),this.qu=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ke("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ke("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ke("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.$o=function(t){var e=this;if(t.storageArea===this.storage){if(ke("SharedClientState","EVENT",t.key,t.newValue),t.key===this.nh)return void xe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.zo.Qr((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,s,l;return o.__generator(this,(function(o){if(!this.qu)return this.Zo.push(t),[2];if(null===t.key)return[2];if(this.eh.test(t.key)){if(null==t.newValue)return n=this.Rh(t.key),[2,this.Sh(n,null)];if(e=this.Ah(t.key,t.newValue))return[2,this.Sh(e.clientId,e)]}else if(this.rh.test(t.key)){if(null!==t.newValue&&(r=this.Ch(t.key,t.newValue)))return[2,this.Ph(r)]}else if(this.uh.test(t.key)){if(null!==t.newValue&&(i=this.Vh(t.key,t.newValue)))return[2,this.kh(i)]}else if(t.key===this.sh){if(null!==t.newValue&&(s=this.hh(t.newValue)))return[2,this.ah(s)]}else t.key===this.ih&&(Ae(!!this.Cr,"Missing sequenceNumberHandler"),(l=function(t){var e=Be.Nr;if(null!=t)try{var n=JSON.parse(t);Ae("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){xe("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Be.Nr&&this.Cr(l));return[2]}))}))}))}},Object.defineProperty(t.prototype,"bh",{get:function(){return this.Yo[this.Ko]},enumerable:!0,configurable:!0}),t.prototype.oh=function(){this.setItem(this.nh,this.bh.Qo())},t.prototype.vh=function(t,e,n){var r=new an(this.currentUser,t,e,n),i=sn(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Qo())},t.prototype.mh=function(t){var e=sn(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Dh=function(t){this.storage.setItem(this.sh,JSON.stringify({clientId:this.Ko,onlineState:t}))},t.prototype.Th=function(t,e,n){var r=ln(this.persistenceKey,t),i=new un(t,e,n);this.setItem(r,i.Qo())},t.prototype.Rh=function(t){var e=this.eh.exec(t);return e?e[1]:null},t.prototype.Ah=function(t,e){var n=this.Rh(t);return Ae(null!==n,"Cannot parse client state key '"+t+"'"),cn.Bo(n,e)},t.prototype.Ch=function(t,e){var n=this.rh.exec(t);Ae(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return an.Bo(new h(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Vh=function(t,e){var n=this.uh.exec(t);Ae(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return un.Bo(r,e)},t.prototype.hh=function(t){return hn.Bo(t)},t.prototype.Ph=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(ke("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.Jo.Nh(t.batchId,t.state,t.error)]}))}))},t.prototype.kh=function(t){return this.Jo.Oh(t.targetId,t.state,t.error)},t.prototype.Sh=function(t,e){var n=this,r=this.fh();e?this.Yo[t]=e:delete this.Yo[t];var i=this.fh(),s=[],l=[];return i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||l.push(t),[2]}))}))})),this.Jo.Fh(s,l)},t.prototype.ah=function(t){this.Yo[t.clientId]&&this.Ho(t.onlineState)},t}(),fn=function(){function t(){this.Uh=new dn,this.jh={},this.Jo=null,this.Ho=null,this.Cr=null}return t.prototype.dh=function(t){},t.prototype.wh=function(t,e,n){},t.prototype.ph=function(t){return this.Uh.Go(t),this.jh[t]||"not-current"},t.prototype.Ih=function(t,e,n){this.jh[t]=e},t.prototype.gh=function(t){this.Uh.Wo(t)},t.prototype.yh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.jh[t]},t.prototype.fh=function(){return this.Uh.activeTargetIds},t.prototype.lh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype.start=function(){return this.Uh=new dn,Promise.resolve()},t.prototype.Ms=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.shutdown=function(){},t.prototype.kr=function(t){},t}(),gn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mn=function(){function t(){this.xh=[]}return t.prototype.Lh=function(t){this.xh.push(t)},t.prototype.Mh=function(){this.xh.forEach((function(t){return t()}))},t}(),yn=function(){function t(t,e,n){this.qh=t,this.Ps=e,this.Bh=n}return t.prototype.To=function(t,e){var n=this;return this.Ps.Qh(t,e).next((function(r){return n.Gh(t,e,r)}))},t.prototype.Gh=function(t,e,n){return this.qh.gs(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].qt(e,t);return t}))},t.prototype.Wh=function(t,e,n){var r=Yt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].qt(t,e);r=r.ut(t,e)})),r},t.prototype.Bs=function(t,e){var n=this;return this.qh.getEntries(t,e).next((function(e){return n.mo(t,e)}))},t.prototype.mo=function(t,e){var n=this;return this.Ps.zh(t,e).next((function(r){var i=n.Wh(t,e,r),o=Qt();return i.forEach((function(t,e){e||(e=new kt(t,w.V())),o=o.ut(t,e)})),o}))},t.prototype.Vo=function(t,e,n){return e.Tn()?this.Kh(t,e.path):e.Yn()?this.Jh(t,e,n):this.Hh(t,e,n)},t.prototype.Kh=function(t,e){return this.To(t,new I(e)).next((function(t){var e=Xt();return t instanceof It&&(e=e.ut(t.key,t)),e}))},t.prototype.Jh=function(t,e,n){var r=this;Ae(e.path.M(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Xt();return this.Bh.Yh(t,i).next((function(s){return Ge.forEach(s,(function(s){var l=e.Ln(s.child(i));return r.Hh(t,l,n).next((function(t){t.forEach((function(t,e){o=o.ut(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Hh=function(t,e,n){var r,i,o=this;return this.qh.Vo(t,e,n).next((function(n){return r=n,o.Ps.Xh(t,e)})).next((function(e){return o.$h(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,l=o.mutations;s<l.length;s++){var a=l[s],u=a.key,c=r.get(u),h=a.qt(c,c,o.gr);r=h instanceof It?r.ut(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.$h=function(t,e,n){for(var r=ee(),i=0,o=e;i<o.length;i++)for(var s=0,l=o[i].mutations;s<l.length;s++){var a=l[s];a instanceof _t&&null===n.get(a.key)&&(r=r.add(a.key))}var u=n;return this.qh.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof It&&(u=u.ut(t,e))})),u}))},t}(),vn=function(){function t(){}return t.prototype.xs=function(t){this.Zh=t},t.prototype.Vo=function(t,e,n,r){var i=this;return Ae(void 0!==this.Zh,"setLocalDocumentsView() not called"),e.Mn()||n.isEqual(w.MIN)?this.tc(t,e):this.Zh.Bs(t,r).next((function(o){var l=i.nc(e,o);return(e.Kn()||e.Jn())&&i.ic(e.Dn,l,r,n)?i.tc(t,e):(Se()<=s.LogLevel.DEBUG&&ke("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Zh.Vo(t,e,n).next((function(t){return l.forEach((function(e){t=t.ut(e.key,e)})),t})))}))},t.prototype.nc=function(t,e){var n=new A((function(e,n){return t.Bn(e,n)}));return e.forEach((function(e,r){r instanceof It&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.ic=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.k(r)>0)},t.prototype.tc=function(t,e){return Se()<=s.LogLevel.DEBUG&&ke("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Zh.Vo(t,e,w.MIN)},t}();function _n(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wn(e)),e=bn(t.get(n),e);return wn(e)}function bn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function wn(t){return t+"\x01\x01"}function Cn(t){var e=t.length;if(Ae(e>=2,"Invalid path "+t),2===e)return Ae("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),E.Y;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Pe('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case"\x01":var l=t.substring(o,s),a=void 0;0===i.length?a=l:(a=i+=l,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Pe('Invalid encoded resource path: "'+t+'"')}o=s+2}return new E(r)}var En=function(){function t(){this.ec=new Tn}return t.prototype.rc=function(t,e){return this.ec.add(e),Ge.resolve()},t.prototype.Yh=function(t,e){return Ge.resolve(this.ec.getEntries(e))},t}(),Tn=function(){function t(){this.index={}}return t.prototype.add=function(t){Ae(t.length%2==1,"Expected a collection path.");var e=t.B(),n=t.L(),r=this.index[e]||new A(E.F),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.B(),n=t.L(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new A(E.F)).K()},t}(),Sn=function(){function t(t,e){this.Bh=t,this.Cs=e,this.Ps=[],this.uc=1,this.lastStreamToken=L.Mt,this.sc=new A(tn.bn)}return t.prototype.oc=function(t){return Ge.resolve(0===this.Ps.length)},t.prototype.Ys=function(t,e,n){var r=e.batchId,i=this.hc(r,"acknowledged");Ae(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.Ps[i];return Ae(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Ge.resolve()},t.prototype.uo=function(t){return Ge.resolve(this.lastStreamToken)},t.prototype.so=function(t,e){return this.lastStreamToken=e,Ge.resolve()},t.prototype.Ks=function(t,e,n,r){Ae(0!==r.length,"Mutation batches should not be empty");var i=this.uc;this.uc++,this.Ps.length>0&&Ae(this.Ps[this.Ps.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Ue(i,e,n,r);this.Ps.push(o);for(var s=0,l=r;s<l.length;s++){var a=l[s];this.sc=this.sc.add(new tn(a.key,i)),this.Bh.rc(t,a.key.path.L())}return Ge.resolve(o)},t.prototype.io=function(t,e){return Ge.resolve(this.cc(e))},t.prototype.Hs=function(t,e){var n=this.cc(e);return Ae(null!=n,"Failed to find local mutation batch."),Ge.resolve(n.keys())},t.prototype._o=function(t,e){var n=this.ac(e+1),r=n<0?0:n;return Ge.resolve(this.Ps.length>r?this.Ps[r]:null)},t.prototype.ro=function(){return Ge.resolve(0===this.Ps.length?-1:this.uc-1)},t.prototype.qs=function(t){return Ge.resolve(this.Ps.slice())},t.prototype.Qh=function(t,e){var n=this,r=new tn(e,0),i=new tn(e,Number.POSITIVE_INFINITY),o=[];return this.sc.kt([r,i],(function(t){Ae(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.cc(t.ls);Ae(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),Ge.resolve(o)},t.prototype.zh=function(t,e){var n=this,r=new A(Re);return e.forEach((function(t){var e=new tn(t,0),i=new tn(t,Number.POSITIVE_INFINITY);n.sc.kt([e,i],(function(e){Ae(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.ls)}))})),Ge.resolve(this.fc(r))},t.prototype.Xh=function(t,e){Ae(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;I.nt(i)||(i=i.child(""));var o=new tn(new I(i),0),s=new A(Re);return this.sc.Nt((function(t){var e=t.key.path;return!!n.G(e)&&(e.length===r&&(s=s.add(t.ls)),!0)}),o),Ge.resolve(this.fc(s))},t.prototype.fc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.cc(t);null!==r&&n.push(r)})),n},t.prototype.eo=function(t,e){var n=this;Ae(0===this.hc(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Ps.shift();var r=this.sc;return Ge.forEach(e.mutations,(function(i){var o=new tn(i.key,e.batchId);return r=r.delete(o),n.Cs.lc(t,i.key)})).next((function(){n.sc=r}))},t.prototype.Uo=function(t){},t.prototype.fs=function(t,e){var n=new tn(e,0),r=this.sc.Ot(n);return Ge.resolve(e.isEqual(r&&r.key))},t.prototype.to=function(t){return 0===this.Ps.length&&Ae(this.sc.M(),"Document leak -- detected dangling mutation references when queue is empty."),Ge.resolve()},t.prototype.hc=function(t,e){var n=this.ac(t);return Ae(n>=0&&n<this.Ps.length,"Batches must exist to be "+e),n},t.prototype.ac=function(t){return 0===this.Ps.length?0:t-this.Ps[0].batchId},t.prototype.cc=function(t){var e=this.ac(t);if(e<0||e>=this.Ps.length)return null;var n=this.Ps[e];return Ae(n.batchId===t,"If found batch must match"),n},t}(),In=function(){function t(t,e){this.Bh=t,this.dc=e,this.docs=new k(I.F),this.size=0}return t.prototype.ms=function(t,e,n){Ae(!n.isEqual(w.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.dc(e);return this.docs=this.docs.ut(r,{vc:e,size:s,readTime:n}),this.size+=s-o,this.Bh.rc(t,r.path.L())},t.prototype.bs=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.gs=function(t,e){var n=this.docs.get(e);return Ge.resolve(n?n.vc:null)},t.prototype.getEntries=function(t,e){var n=this,r=Yt();return e.forEach((function(t){var e=n.docs.get(t);r=r.ut(t,e?e.vc:null)})),Ge.resolve(r)},t.prototype.Vo=function(t,e,n){Ae(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Xt(),i=new I(e.path.child("")),o=this.docs.lt(i);o.gt();){var s=o.bt(),l=s.value,a=l.vc,u=l.readTime;if(!e.path.G(s.key.path))break;u.k(n)<=0||a instanceof It&&e.matches(a)&&(r=r.ut(a.key,a))}return Ge.resolve(r)},t.prototype.wc=function(t,e){return Ge.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Lo=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.qo=function(t){return Ge.resolve(w.MIN)},t.prototype.Xs=function(e){return new t.mc(this)},t.prototype.pc=function(t){return Ge.resolve(this.size)},t.mc=function(t){function e(e){var n=t.call(this)||this;return n.bc=e,n}return o.__extends(e,t),e.prototype.Is=function(t){var e=this,n=[];return this.ds.forEach((function(r,i){i?n.push(e.bc.ms(t,i,e.readTime)):e.bc.bs(r)})),Ge.pu(n)},e.prototype.ys=function(t,e){return this.bc.gs(t,e)},e.prototype._s=function(t,e){return this.bc.getEntries(t,e)},e}(en),t}(),kn=function(){function t(t,e){this.gc=t,Ae((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.yc(void 0!==e?e:this.gc)}return t.prototype.next=function(){var t=this._c;return this._c+=2,t},t.prototype.after=function(t){return this.yc(t+2),this.next()},t.prototype.yc=function(t){Ae((1&t)===this.gc,"Cannot supply target ID from different generator ID"),this._c=t},t.Ic=function(){return new t(0,2)},t.Tc=function(){return new t(1)},t}(),xn=function(){function t(t){this.persistence=t,this.Ec=new je((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=w.MIN,this.highestTargetId=0,this.Dc=0,this.Rc=new Ze,this.targetCount=0,this.Sc=kn.Ic()}return t.prototype.$i=function(t,e){return this.Ec.forEach((function(t,n){return e(n)})),Ge.resolve()},t.prototype.oo=function(t){return Ge.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ac=function(t){return Ge.resolve(this.Dc)},t.prototype.Ro=function(t){var e=this.Sc.after(this.highestTargetId);return this.highestTargetId=e,Ge.resolve(e)},t.prototype.wo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Dc&&(this.Dc=e),Ge.resolve()},t.prototype.Cc=function(t){this.Ec.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Dc&&(this.Dc=t.sequenceNumber)},t.prototype.So=function(t,e){return Ae(!this.Ec.has(e.target),"Adding a target that already exists"),this.Cc(e),this.targetCount+=1,Ge.resolve()},t.prototype.do=function(t,e){return Ae(this.Ec.has(e.target),"Updating a non-existent target"),this.Cc(e),Ge.resolve()},t.prototype.Pc=function(t,e){return Ae(this.targetCount>0,"Removing a target from an empty cache"),Ae(this.Ec.has(e.target),"Removing a non-existent target from the cache"),this.Ec.delete(e.target),this.Rc.hs(e.targetId),this.targetCount-=1,Ge.resolve()},t.prototype.Ju=function(t,e,n){var r=this,i=0,o=[];return this.Ec.forEach((function(s,l){l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r.Ec.delete(s),o.push(r.Vc(t,l.targetId)),i++)})),Ge.pu(o).next((function(){return i}))},t.prototype.kc=function(t){return Ge.resolve(this.targetCount)},t.prototype.Do=function(t,e){var n=this.Ec.get(e)||null;return Ge.resolve(n)},t.prototype.ce=function(t,e){return Pe("Not yet implemented.")},t.prototype.ao=function(t,e,n){this.Rc.rs(e,n);var r=this.persistence.Cs,i=[];return r&&e.forEach((function(e){i.push(r.es(t,e))})),Ge.pu(i)},t.prototype.co=function(t,e,n){this.Rc.os(e,n);var r=this.persistence.Cs,i=[];return r&&e.forEach((function(e){i.push(r.us(t,e))})),Ge.pu(i)},t.prototype.Vc=function(t,e){return this.Rc.hs(e),Ge.resolve()},t.prototype.Po=function(t,e){var n=this.Rc.as(e);return Ge.resolve(n)},t.prototype.fs=function(t,e){return Ge.resolve(this.Rc.fs(e))},t}(),On="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Pn=function(){function t(t,e){var n=this;this.clientId=t,this.Nc={},this.Oc=new Be(0),this.Fc=!1,this.Fc=!0,this.Cs=e(this),this.Os=new xn(this),this.Bh=new En,this.qh=new In(this.Bh,(function(t){return n.Cs.Uc(t)}))}return t.prototype.shutdown=function(){return this.Fc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Fc},enumerable:!0,configurable:!0}),t.prototype.Oo=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.jc=function(t){return t(!0)},t.prototype.xc=function(){},t.prototype.jo=function(t){},t.prototype.js=function(){return this.Bh},t.prototype.Vs=function(t){var e=this.Nc[t.i()];return e||(e=new Sn(this.Bh,this.Cs),this.Nc[t.i()]=e),e},t.prototype.Fs=function(){return this.Os},t.prototype.Ns=function(){return this.qh},t.prototype.runTransaction=function(t,e,n){var r=this;ke("MemoryPersistence","Starting transaction:",t);var i=new An(this.Oc.next());return this.Cs.Lc(),n(i).next((function(t){return r.Cs.Mc(i).next((function(){return t}))})).wu().then((function(t){return i.Mh(),t}))},t.prototype.qc=function(t,e){return Ge.bu(Object.values(this.Nc).map((function(n){return function(){return n.fs(t,e)}})))},t}(),An=function(t){function e(e){var n=t.call(this)||this;return n.fo=e,n}return o.__extends(e,t),e}(mn),Nn=function(){function t(t){this.persistence=t,this.Bc=null,this.Qc=null}return Object.defineProperty(t.prototype,"Gc",{get:function(){if(this.Qc)return this.Qc;throw Pe("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.As=function(t){this.Bc=t},t.prototype.es=function(t,e){return this.Gc.delete(e),Ge.resolve()},t.prototype.us=function(t,e){return this.Gc.add(e),Ge.resolve()},t.prototype.lc=function(t,e){return this.Gc.add(e),Ge.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.Fs();return r.Po(t,e.targetId).next((function(t){t.forEach((function(t){return n.Gc.add(t)}))})).next((function(){return r.Pc(t,e)}))},t.prototype.Lc=function(){this.Qc=new Set},t.prototype.Mc=function(t){var e=this,n=this.persistence.Ns().Xs();return Ge.forEach(this.Gc,(function(r){return e.Wc(t,r).next((function(t){t||n.bs(r)}))})).next((function(){return e.Qc=null,n.apply(t)}))},t.prototype.vo=function(t,e){var n=this;return this.Wc(t,e).next((function(t){t?n.Gc.delete(e):n.Gc.add(e)}))},t.prototype.Uc=function(t){return 0},t.prototype.Wc=function(t,e){var n=this;return Ge.bu([function(){return n.persistence.Fs().fs(t,e)},function(){return n.persistence.qc(t,e)},function(){return Ge.resolve(n.Bc.fs(e))}])},t}(),Rn=function(){function t(){}return t.prototype.initialize=function(t,e,n,r,i,o){if(o.zc)throw new p(d.FAILED_PRECONDITION,On);return this.clientId=r,Promise.resolve()},t.prototype.Kc=function(){var t=!1;return{qu:t,start:function(){return t=!0},stop:function(){return t=!1}}},t.prototype.Jc=function(){return Ae(!!this.clientId,"initialize() not called"),new Pn(this.clientId,(function(t){return new Nn(t)}))},t.prototype.Hc=function(){return new fn},t.prototype.clearPersistence=function(){throw new p(d.FAILED_PRECONDITION,On)},t}(),Dn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.zo=t,this.Fr=e,this.Yc=n,this.Xc=r,this.$c=i,this.Zc=0,this.ta=null,this.na=Date.now(),this.reset()}return t.prototype.reset=function(){this.Zc=0},t.prototype.ia=function(){this.Zc=this.$c},t.prototype.ea=function(t){var e=this;this.cancel();var n=Math.floor(this.Zc+this.ra()),r=Math.max(0,Date.now()-this.na),i=Math.max(0,n-r);this.Zc>0&&ke("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Zc+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ta=this.zo.iu(this.Fr,i,(function(){return e.na=Date.now(),t()})),this.Zc*=this.Xc,this.Zc<this.Yc&&(this.Zc=this.Yc),this.Zc>this.$c&&(this.Zc=this.$c)},t.prototype.cancel=function(){null!==this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.ra=function(){return(Math.random()-.5)*this.Zc},t}(),Mn=function(){function t(t,e,n,r,i,o){this.zo=t,this.ua=n,this.connection=r,this.sa=i,this.listener=o,this.state=0,this.oa=0,this.ha=null,this.stream=null,this.ca=new Dn(t,e)}return t.prototype.aa=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.fa=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?(Ae(0===this.state,"Already started"),this.auth()):this.la()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.aa()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.da=function(){Ae(!this.aa(),"Can only inhibit backoff in a stopped state"),this.state=0,this.ca.reset()},t.prototype.va=function(){var t=this;this.fa()&&null===this.ha&&(this.ha=this.zo.iu(this.ua,6e4,(function(){return t.wa()})))},t.prototype.ma=function(t){this.pa(),this.stream.send(t)},t.prototype.wa=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.fa()?[2,this.close(0)]:[2]}))}))},t.prototype.pa=function(){this.ha&&(this.ha.cancel(),this.ha=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return Ae(this.aa(),"Only started streams should be closed."),Ae(3===t||F(e),"Can't provide an error when not in an error state."),this.pa(),this.ca.cancel(),this.oa++,3!==t?this.ca.reset():e&&e.code===d.RESOURCE_EXHAUSTED?(xe(e.toString()),xe("Using maximum backoff delay to prevent overloading the backend."),this.ca.ia()):e&&e.code===d.UNAUTHENTICATED&&this.sa.l(),null!==this.stream&&(this.ba(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ga(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ba=function(){},t.prototype.auth=function(){var t=this;Ae(0===this.state,"Must be in initial state to auth"),this.state=1;var e=this.ya(this.oa),n=this.oa;this.sa.getToken().then((function(e){t.oa===n&&t._a(e)}),(function(n){e((function(){var e=new p(d.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ia(e)}))}))},t.prototype._a=function(t){var e=this;Ae(1===this.state,"Trying to start stream in a non-starting state");var n=this.ya(this.oa);this.stream=this.Ta(t),this.stream.Ea((function(){n((function(){return Ae(1===e.state,"Expected stream to be in state Starting, but was "+e.state),e.state=2,e.listener.Ea()}))})),this.stream.ga((function(t){n((function(){return e.Ia(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.la=function(){var t=this;Ae(3===this.state,"Should only perform backoff when in Error state"),this.state=4,this.ca.ea((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return Ae(4===this.state,"Backoff elapsed but state is now: "+this.state),this.state=0,this.start(),Ae(this.aa(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.Ia=function(t){return Ae(this.aa(),"Can't handle server close on non-started stream"),ke("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ya=function(t){var e=this;return function(n){e.zo.Qr((function(){return e.oa===t?n():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ln=function(t){function e(e,n,r,i,o){var s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this;return s.serializer=i,s}return o.__extends(e,t),e.prototype.Ta=function(t){return this.connection.Da("Listen",t)},e.prototype.onMessage=function(t){this.ca.reset();var e=this.serializer.ke(t),n=this.serializer.Oe(t);return this.listener.Ra(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.De,e.addTarget=this.serializer.qn(t);var n=this.serializer.nr(t);n&&(e.labels=n),this.ma(e)},e.prototype.Sa=function(t){var e={};e.database=this.serializer.De,e.removeTarget=t,this.ma(e)},e}(Mn),Fn=function(t){function e(e,n,r,i,o){var s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this;return s.serializer=i,s.Aa=!1,s.lastStreamToken=L.Mt,s}return o.__extends(e,t),Object.defineProperty(e.prototype,"Ca",{get:function(){return this.Aa},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.Aa=!1,t.prototype.start.call(this)},e.prototype.ba=function(){this.Aa&&this.Pa([])},e.prototype.Ta=function(t){return this.connection.Da("Write",t)},e.prototype.onMessage=function(t){if(Ae(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.pe(t.streamToken),this.Aa){this.ca.reset();var e=this.serializer.Ge(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Va(n,e)}return Ae(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.Aa=!0,this.listener.ka()},e.prototype.Na=function(){Ae(this.fa(),"Writing handshake requires an opened stream"),Ae(!this.Aa,"Handshake already completed");var t={};t.database=this.serializer.De,this.ma(t)},e.prototype.Pa=function(t){var e=this;Ae(this.fa(),"Writing mutations requires an opened stream"),Ae(this.Aa,"Handshake must be complete before writing mutations"),Ae(this.lastStreamToken.Lt()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.me(this.lastStreamToken),writes:t.map((function(t){return e.serializer.Fe(t)}))};this.ma(n)},e}(Mn),Un=function(){function t(t,e,n,r){this.zo=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Oa=function(t){return new Fn(this.zo,this.connection,this.credentials,this.serializer,t)},t.prototype.Fa=function(t){return new Ln(this.zo,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.De,writes:t.map((function(t){return e.serializer.Fe(t)}))};return this.Ua("Commit",n).then((function(t){return e.serializer.Ge(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.De,documents:t.map((function(t){return e.serializer._e(t)}))};return this.ja("BatchGetDocuments",n).then((function(n){var r=Qt();n.forEach((function(t){var n=e.serializer.Ve(t);r=r.ut(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);Ae(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.Ua=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Ua(t,e,r)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials.l(),t}))},t.prototype.ja=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.ja(t,e,r)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials.l(),t}))},t}();function Vn(t,e){if(0!==e.length)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+ir(e.length,"argument")+".")}function jn(t,e,n){if(e.length!==n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires "+ir(n,"argument")+", but was called with "+ir(e.length,"argument")+".")}function qn(t,e,n){if(e.length<n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires at least "+ir(n,"argument")+", but was called with "+ir(e.length,"argument")+".")}function Bn(t,e,n,r){if(e.length<n||e.length>r)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+ir(e.length,"argument")+".")}function zn(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+ir(r,"element")+".")}function Hn(t,e,n,r){Jn(t,e,rr(n)+" argument",r)}function Wn(t,e,n,r){void 0!==r&&Hn(t,e,n,r)}function Gn(t,e,n,r){Jn(t,e,n+" option",r)}function Kn(t,e,n,r){void 0!==r&&Gn(t,e,n,r)}function Qn(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,l=i;s<l.length;s++){var a=l[s];if(a===r)return;o.push($n(a))}var u=$n(r);throw new p(d.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Yn(t,e,n,r){if(!e.some((function(t){return t===r})))throw new p(d.INVALID_ARGUMENT,"Invalid value "+$n(r)+" provided to function "+t+"() for its "+rr(n)+" argument. Acceptable values: "+e.join(", "))}function Jn(t,e,n,r){if(!("object"===e?Xn(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=$n(r);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Xn(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function $n(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Pe("Unknown wrong type: "+typeof t)}function Zn(t,e,n){if(void 0===n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+rr(e)+" argument, but it was undefined.")}function tr(t,e,n){D(e,(function(e,r){if(n.indexOf(e)<0)throw new p(d.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function er(t,e,n,r){var i=$n(r);return new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+rr(n)+" argument to be a "+e+", but it was: "+i)}function nr(t,e,n){if(n<=0)throw new p(d.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+rr(e)+" argument to be a positive number, but it was: "+n+".")}function rr(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function ir(t,e){return t+" "+e+(1===t?"":"s")}function or(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new p(d.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function sr(){if("undefined"==typeof Uint8Array)throw new p(d.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lr(){if(!Ee.xt().xa)throw new p(d.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ar=function(){function t(t){lr(),this.La=t}return t.fromBase64String=function(e){jn("Blob.fromBase64String",arguments,1),Hn("Blob.fromBase64String","string",1,e),lr();try{return new t(L.fromBase64String(e))}catch(t){throw new p(d.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(jn("Blob.fromUint8Array",arguments,1),sr(),!(e instanceof Uint8Array))throw er("Blob.fromUint8Array","Uint8Array",1,e);return new t(L.fromUint8Array(e))},t.prototype.toBase64=function(){return jn("Blob.toBase64",arguments,0),lr(),this.La.toBase64()},t.prototype.toUint8Array=function(){return jn("Blob.toUint8Array",arguments,0),sr(),this.La.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.La.isEqual(t.La)},t}(),ur=or(ar,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),cr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zn("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(Hn("FieldPath","string",n,t[n]),0===t[n].length)throw new p(d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ma=new S(t)}return t.documentId=function(){return t.qa},t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","FieldPath",1,e);return this.Ma.isEqual(e.Ma)},t.qa=new t(S.Z().J()),t}(),hr=new RegExp("[~\\*/\\[\\]]"),dr=function(){function t(t){this.Ba=t}return t.delete=function(){return Vn("FieldValue.delete",arguments),pr.instance},t.serverTimestamp=function(){return Vn("FieldValue.serverTimestamp",arguments),fr.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qn("FieldValue.arrayUnion",arguments,1),new gr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qn("FieldValue.arrayRemove",arguments,1),new mr(t)},t.increment=function(t){return Hn("FieldValue.increment","number",1,t),jn("FieldValue.increment",arguments,1),new yr(t)},t.prototype.isEqual=function(t){return this===t},t}(),pr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(dr),fr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(dr),gr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.Qa=e,n}return o.__extends(e,t),e}(dr),mr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.Qa=e,n}return o.__extends(e,t),e}(dr),yr=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.Ga=e,n}return o.__extends(e,t),e}(dr),vr=or(dr,"Use FieldValue.<field>() instead."),_r=function(){function t(t,e){if(jn("GeoPoint",arguments,2),Hn("GeoPoint","number",1,t),Hn("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new p(d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new p(d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Wa=t,this.za=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Wa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.za},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Wa===t.Wa&&this.za===t.za},t.prototype.A=function(t){return Re(this.Wa,t.Wa)||Re(this.za,t.za)},t}(),br=/^__.*__$/,wr=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.Ka=function(t,e){var n=[];return n.push(null!==this.en?new _t(t,this.data,this.en,e):new vt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new bt(t,this.fieldTransforms)),n},t}(),Cr=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.Ka=function(t,e){var n=[new _t(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new bt(t,this.fieldTransforms)),n},t}();function Er(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe("Unexpected case for UserDataSource: "+t)}}var Tr=function(){function t(t,e,n,r,i,o){this.Ja=t,this.methodName=e,this.path=n,this.Ha=r,void 0===i&&this.Ya(),this.Ha=void 0!==r&&r,this.fieldTransforms=i||[],this.en=o||[]}return t.prototype.Xa=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Ja,this.methodName,n,!1,this.fieldTransforms,this.en);return r.$a(e),r},t.prototype.Za=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Ja,this.methodName,n,!1,this.fieldTransforms,this.en);return r.Ya(),r},t.prototype.tf=function(e){return new t(this.Ja,this.methodName,null,!0,this.fieldTransforms,this.en)},t.prototype.nf=function(t){var e=null===this.path||this.path.M()?"":" (found in field "+this.path.toString()+")";return new p(d.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.G(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.G(e.field)}))},t.prototype.Ya=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.$a(this.path.get(t))},t.prototype.$a=function(t){if(0===t.length)throw this.nf("Document fields must not be empty");if(Er(this.Ja)&&br.test(t))throw this.nf('Document fields cannot begin and end with "__"')},t}(),Sr=function(t,e){this.ae=t,this.key=e},Ir=function(){function t(t,e){this.serializer=t,this.if=e}return t.prototype.ef=function(t,e){var n=new Tr(0,t,S.Y);xr("Data must be an object, but it was:",n,e);var r=this.rf(e,n);return new wr(new Et(r),null,n.fieldTransforms)},t.prototype.uf=function(t,e,n){var r=new Tr(2,t,S.Y);xr("Data must be an object, but it was:",r,e);var i,o,s=this.rf(e,r);if(n){for(var l=new A(S.F),a=0,u=n;a<u.length;a++){var c=u[a],h=void 0;if(c instanceof cr)h=c.Ma;else{if("string"!=typeof c)throw Pe("Expected stringOrFieldPath to be a string or a FieldPath");h=Pr(t,c)}if(!r.contains(h))throw new p(d.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");l=l.add(h)}i=pt.Kt(l),o=r.fieldTransforms.filter((function(t){return i.Ht(t.field)}))}else i=pt.Jt(r.en),o=r.fieldTransforms;return new wr(new Et(s),i,o)},t.prototype.sf=function(t,e){var n=this,r=new Tr(1,t,S.Y);xr("Data must be an object, but it was:",r,e);var i=new A(S.F),o=Et.ln();D(e,(function(e,s){var l=Pr(t,e),a=r.Za(l);if((s=n.hf(s,a))instanceof pr)i=i.add(l);else{var u=n.cf(s,a);null!=u&&(i=i.add(l),o.set(l,u))}}));var s=pt.Kt(i);return new Cr(o.on(),s,r.fieldTransforms)},t.prototype.af=function(t,e,n,r){var i=new Tr(1,t,S.Y),o=[Or(t,e)],s=[n];if(r.length%2!=0)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<r.length;l+=2)o.push(Or(t,r[l])),s.push(r[l+1]);var a=new A(S.F),u=Et.ln();for(l=0;l<o.length;++l){var c=o[l],h=i.Za(c),f=this.hf(s[l],h);if(f instanceof pr)a=a.add(c);else{var g=this.cf(f,h);null!=g&&(a=a.add(c),u.set(c,g))}}var m=pt.Kt(a);return new Cr(u.on(),m,i.fieldTransforms)},t.prototype.ff=function(t,e,n){void 0===n&&(n=!1);var r=new Tr(n?4:3,t,S.Y),i=this.cf(e,r);return Ae(null!=i,"Parsed data should not be null."),Ae(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.hf=function(t,e){try{return this.if(t)}catch(t){var n=Ar(t);throw e.nf(n)}},t.prototype.cf=function(t,e){if(kr(t=this.hf(t,e)))return xr("Unsupported field value:",e,t),this.rf(t,e);if(t instanceof dr)return this.lf(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.Ha&&4!==e.Ja)throw e.nf("Nested arrays are not supported");return this.df(t,e)}return this.vf(t,e)},t.prototype.rf=function(t,e){var n=this,r={};return M(t)?e.path&&e.path.length>0&&e.en.push(e.path):D(t,(function(t,i){var o=n.cf(i,e.Xa(t));null!=o&&(r[t]=o)})),{mapValue:{fields:r}}},t.prototype.df=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.cf(o[i],e.tf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}},t.prototype.lf=function(t,e){if(!Er(e.Ja))throw e.nf(t.Ba+"() can only be used with update() and set()");if(null===e.path)throw e.nf(t.Ba+"() is not currently supported inside arrays");if(t instanceof pr){if(2!==e.Ja)throw 1===e.Ja?(Ae(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.nf("FieldValue.delete() can only appear at the top level of your update data")):e.nf("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.en.push(e.path)}else if(t instanceof fr)e.fieldTransforms.push(new ft(e.path,st.instance));else if(t instanceof gr){var n=this.wf(t.Ba,t.Qa),r=new lt(n);e.fieldTransforms.push(new ft(e.path,r))}else if(t instanceof mr){n=this.wf(t.Ba,t.Qa);var i=new at(n);e.fieldTransforms.push(new ft(e.path,i))}else if(t instanceof yr){var o=this.ff("FieldValue.increment",t.Ga),s=new ut(this.serializer,o);e.fieldTransforms.push(new ft(e.path,s))}else Pe("Unknown FieldValue type: "+t)},t.prototype.vf=function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return this.serializer.we(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=b.fromDate(t);return{timestampValue:this.serializer.O(n)}}if(t instanceof b)return n=new b(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:this.serializer.O(n)};if(t instanceof _r)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ar)return{bytesValue:this.serializer.me(t)};if(t instanceof Sr)return{referenceValue:this.serializer.be(t.key.path,t.ae)};throw e.nf("Unsupported field value: "+$n(t))},t.prototype.wf=function(t,e){var n=this;return e.map((function(e,r){var i=new Tr(3,t,S.Y);return n.cf(e,i.tf(r))}))},t}();function kr(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof b||t instanceof _r||t instanceof ar||t instanceof Sr||t instanceof dr)}function xr(t,e,n){if(!kr(n)||!Xn(n)){var r=$n(n);throw e.nf("an object"===r?t+" a custom object":t+" "+r)}}function Or(t,e){if(e instanceof cr)return e.Ma;if("string"==typeof e)return Pr(t,e);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Pr(t,e){try{return function(t){if(t.search(hr)>=0)throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(cr.bind.apply(cr,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Ma}catch(e){var n=Ar(e);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Ar(t){return t instanceof Error?t.message:t.toString()}var Nr=function(){function t(t){this.mf=t,this.pf=Zt(),this.mutations=[],this.bf=!1,this.gf=null,this.yf=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this._f(),this.mutations.length>0)throw new p(d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.mf.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof kt||t instanceof It?n.If(t):Pe("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Ka(t,this.tn(t))),this.yf.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ka(t,this.Tf(t)))}catch(t){this.gf=t}this.yf.add(t)},t.prototype.delete=function(t){this.write([new wt(t,this.tn(t))]),this.yf.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this._f(),this.gf)throw this.gf;return t=this.pf,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new Ct(t,e.tn(t)))})),[4,this.mf.commit(this.mutations)];case 1:return n.sent(),this.bf=!0,[2]}}))}))},t.prototype.If=function(t){var e;if(t instanceof It)e=t.version;else{if(!(t instanceof kt))throw Pe("Document in a transaction was a "+t.constructor.name);e=w.V()}var n=this.pf.get(t.key);if(null!==n){if(!e.isEqual(n))throw new p(d.ABORTED,"Document version changed between two reads.")}else this.pf=this.pf.ut(t.key,e)},t.prototype.tn=function(t){var e=this.pf.get(t);return!this.yf.has(t)&&e?mt.updateTime(e):mt.NONE},t.prototype.Tf=function(t){var e=this.pf.get(t);if(!this.yf.has(t)&&e){if(e.isEqual(w.V()))throw new p(d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mt.updateTime(e)}return mt.exists(!0)},t.prototype.write=function(t){this._f(),this.mutations=this.mutations.concat(t)},t.prototype._f=function(){Ae(!this.bf,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Rr=function(){function t(t,e){this.Or=t,this.Ho=e,this.state="Unknown",this.Ef=0,this.Df=null,this.Rf=!0}return t.prototype.Sf=function(){var t=this;0===this.Ef&&(this.Af("Unknown"),Ae(null===this.Df,"onlineStateTimer shouldn't be started yet"),this.Df=this.Or.iu("online_state_timeout",1e4,(function(){return t.Df=null,Ae("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Cf("Backend didn't respond within 10 seconds."),t.Af("Offline"),Promise.resolve()})))},t.prototype.Pf=function(t){"Online"===this.state?(this.Af("Unknown"),Ae(0===this.Ef,"watchStreamFailures must be 0"),Ae(null===this.Df,"onlineStateTimer must be null")):(this.Ef++,this.Ef>=1&&(this.Vf(),this.Cf("Connection failed 1 times. Most recent error: "+t.toString()),this.Af("Offline")))},t.prototype.set=function(t){this.Vf(),this.Ef=0,"Online"===t&&(this.Rf=!1),this.Af(t)},t.prototype.Af=function(t){t!==this.state&&(this.state=t,this.Ho(t))},t.prototype.Cf=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rf?(xe(e),this.Rf=!1):ke("OnlineStateTracker",e)},t.prototype.Vf=function(){null!==this.Df&&(this.Df.cancel(),this.Df=null)},t}(),Dr=function(){function t(t,e,n,r,i){var s=this;this.kf=t,this.mf=e,this.Nf=[],this.Of=new Map,this.Ff=null,this.networkEnabled=!1,this.isPrimary=!1,this.Uf=i,this.Uf.jf((function(t){n.Qr((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.xf()?(ke("RemoteStore","Restarting streams for network reachability change."),[4,this.Lf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mf=new Rr(n,r),this.qf=this.mf.Fa({Ea:this.Bf.bind(this),ga:this.Qf.bind(this),Ra:this.Gf.bind(this)}),this.Wf=this.mf.Oa({Ea:this.zf.bind(this),ga:this.Kf.bind(this),ka:this.Jf.bind(this),Va:this.Va.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.xf()?(t=this.Wf,[4,this.kf.uo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Hf()?this.Yf():this.Mf.set("Unknown"),[4,this.Xf()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Mf.set("Offline"),[2]}}))}))},t.prototype.$f=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Wf.stop()];case 1:return t.sent(),[4,this.qf.stop()];case 2:return t.sent(),this.Nf.length>0&&(ke("RemoteStore","Stopping write stream with "+this.Nf.length+" pending writes"),this.Nf=[]),this.Zf(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return ke("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Uf.shutdown(),this.Mf.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Of.has(t.targetId)||(this.Of.set(t.targetId,t),this.Hf()?this.Yf():this.qf.fa()&&this.tl(t))},t.prototype.nl=function(t){Ae(this.Of.has(t),"unlisten called on target no currently watched: "+t),this.Of.delete(t),this.qf.fa()&&this.il(t),0===this.Of.size&&(this.qf.fa()?this.qf.va():this.xf()&&this.Mf.set("Unknown"))},t.prototype.ce=function(t){return this.Of.get(t)||null},t.prototype.he=function(t){return this.Jo.he(t)},t.prototype.tl=function(t){this.Ff.Mi(t.targetId),this.qf.watch(t)},t.prototype.il=function(t){this.Ff.Mi(t),this.qf.Sa(t)},t.prototype.Yf=function(){Ae(this.Hf(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Ff=new pe(this),this.qf.start(),this.Mf.Sf()},t.prototype.Hf=function(){return this.xf()&&!this.qf.aa()&&this.Of.size>0},t.prototype.xf=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Zf=function(){this.Ff=null},t.prototype.Bf=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return this.Of.forEach((function(e,n){t.tl(e)})),[2]}))}))},t.prototype.Qf=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&Ae(!this.Hf(),"Watch stream was stopped gracefully while still needed."),this.Zf(),this.Hf()?(this.Mf.Pf(t),this.Yf()):this.Mf.set("Unknown"),[2]}))}))},t.prototype.Gf=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Mf.set("Online"),t instanceof he&&2===t.state&&t.cause?[2,this.el(t)]:(t instanceof ue?this.Ff.Ji(t):t instanceof ce?this.Ff.ie(t):(Ae(t instanceof he,"Expected watchChange to be an instance of WatchTargetChange"),this.Ff.Xi(t)),e.isEqual(w.MIN)?[3,3]:[4,this.kf.oo()]);case 1:return n=r.sent(),e.k(n)>=0?[4,this.rl(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.rl=function(t){var e=this;Ae(!t.isEqual(w.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Ff.ue(t);return n.wi.forEach((function(n,r){if(n.resumeToken.Lt()>0){var i=e.Of.get(r);i&&e.Of.set(r,i.ei(n.resumeToken,t))}})),n.mi.forEach((function(t){var n=e.Of.get(t);if(n){e.Of.set(t,n.ei(L.Mt,n.ni)),e.il(t);var r=new zt(n.target,t,1,n.sequenceNumber);e.tl(r)}})),this.Jo.ho(n)},t.prototype.el=function(t){var e=this;Ae(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.Of.has(t)?(this.Of.delete(t),this.Ff.removeTarget(t),[2,this.Jo.ul(t,n)]):[2]}))}))}))})),r},t.prototype.Xf=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.sl()?[4,this.kf.yo(this.Nf.length>0?this.Nf[this.Nf.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.Nf.length&&this.Wf.va(),[3,4]);case 2:return this.ol(t),[4,this.Xf()];case 3:e.sent(),e.label=4;case 4:return this.hl()&&this.cl(),[2]}}))}))},t.prototype.sl=function(){return this.xf()&&this.Nf.length<10},t.prototype.al=function(){return this.Nf.length},t.prototype.ol=function(t){Ae(this.sl(),"addToWritePipeline called when pipeline is full"),this.Nf.push(t),this.Wf.fa()&&this.Wf.Ca&&this.Wf.Pa(t.mutations)},t.prototype.hl=function(){return this.xf()&&!this.Wf.aa()&&this.Nf.length>0},t.prototype.cl=function(){Ae(this.hl(),"startWriteStream() called when shouldStartWriteStream() is false."),this.Wf.start()},t.prototype.zf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.Wf.Na(),[2]}))}))},t.prototype.Jf=function(){var t=this;return this.kf.so(this.Wf.lastStreamToken).then((function(){for(var e=0,n=t.Nf;e<n.length;e++)t.Wf.Pa(n[e].mutations)})).catch(rn)},t.prototype.Va=function(t,e){var n=this;Ae(this.Nf.length>0,"Got result for empty write pipeline");var r=this.Nf.shift(),i=Ve.from(r,t,e,this.Wf.lastStreamToken);return this.Jo.fl(i).then((function(){return n.Xf()}))},t.prototype.Kf=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&Ae(!this.hl(),"Write stream was stopped gracefully while still needed."),t&&this.Nf.length>0?[2,(this.Wf.Ca?this.ll(t):this.dl(t)).then((function(){e.hl()&&e.cl()}))]:[2]}))}))},t.prototype.dl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return Wt(t.code)?(ke("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.Wf.lastStreamToken),this.Wf.lastStreamToken=L.Mt,[2,this.kf.so(L.Mt).catch(rn)]):[2]}))}))},t.prototype.ll=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){return Wt(i=t.code)&&i!==d.ABORTED?(e=this.Nf.shift(),this.Wf.da(),[2,this.Jo.vl(e.batchId,t).then((function(){return n.Xf()}))]):[2];var i}))}))},t.prototype.wl=function(){return new Nr(this.mf)},t.prototype.Lf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Mf.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.ml=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.xf()?(ke("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Lf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.pl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.$f()];case 3:e.sent(),this.Mf.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),Mr=function(t){this.key=t},Lr=function(t){this.key=t},Fr=function(){function t(t,e){this.query=t,this.bl=e,this.gl=null,this._i=!1,this.yl=ee(),this.fi=ee(),this._l=new ie(t.Bn.bind(t))}return Object.defineProperty(t.prototype,"Il",{get:function(){return this.bl},enumerable:!0,configurable:!0}),t.prototype.Tl=function(t,e){var n=this,r=e?e.El:new oe,i=e?e._l:this._l,o=e?e.fi:this.fi,s=i,l=!1,a=this.query.Kn()&&i.size===this.query.limit?i.last():null,u=this.query.Jn()&&i.size===this.query.limit?i.first():null;if(t.ct((function(t,e){var c=i.get(t),h=e instanceof It?e:null;h&&(Ae(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!c&&n.fi.has(c.key),p=!!h&&(h.nn||n.fi.has(h.key)&&h.hasCommittedMutations),f=!1;c&&h?c.data().isEqual(h.data())?d!==p&&(r.track({type:3,doc:h}),f=!0):n.Dl(c,h)||(r.track({type:2,doc:h}),f=!0,(a&&n.query.Bn(h,a)>0||u&&n.query.Bn(h,u)<0)&&(l=!0)):!c&&h?(r.track({type:0,doc:h}),f=!0):c&&!h&&(r.track({type:1,doc:c}),f=!0,(a||u)&&(l=!0)),f&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.Kn()||this.query.Jn())for(;s.size>this.query.limit;){var c=this.query.Kn()?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return Ae(!l||!e,"View was refilled using docs that themselves needed refilling."),{_l:s,El:r,ic:l,fi:o}},t.prototype.Dl=function(t,e){return t.nn&&e.hasCommittedMutations&&!e.nn},t.prototype.Is=function(t,e,n){var r=this;Ae(!t.ic,"Cannot apply changes that need a refill");var i=this._l;this._l=t._l,this.fi=t.fi;var o=t.El.ci();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.Bn(t.doc,e.doc)})),this.Rl(n);var s=e?this.Sl():[],l=0===this.yl.size&&this._i?1:0,a=l!==this.gl;return this.gl=l,0!==o.length||a?{snapshot:new se(this.query,t._l,i,o,t.fi,0===l,a,!1),Al:s}:{Al:s}},t.prototype.Cl=function(t){return this._i&&"Offline"===t?(this._i=!1,this.Is({_l:this._l,El:new oe,fi:this.fi,ic:!1},!1)):{Al:[]}},t.prototype.Pl=function(t){return!this.bl.has(t)&&!!this._l.has(t)&&!this._l.get(t).nn},t.prototype.Rl=function(t){var e=this;t&&(t.Ii.forEach((function(t){return e.bl=e.bl.add(t)})),t.Ti.forEach((function(t){return Ae(e.bl.has(t),"Modified document "+t+" not found in view.")})),t.Ei.forEach((function(t){return e.bl=e.bl.delete(t)})),this._i=t._i)},t.prototype.Sl=function(){var t=this;if(!this._i)return[];var e=this.yl;this.yl=ee(),this._l.forEach((function(e){t.Pl(e.key)&&(t.yl=t.yl.add(e.key))}));var n=[];return e.forEach((function(e){t.yl.has(e)||n.push(new Lr(e))})),this.yl.forEach((function(t){e.has(t)||n.push(new Mr(t))})),n},t.prototype.Vl=function(t){this.bl=t.ko,this.yl=ee();var e=this.Tl(t.documents);return this.Is(e,!0)},t.prototype.kl=function(){return se.vi(this.query,this._l,this.fi,0===this.gl)},t}(),Ur=function(){function t(t,e,n,r){this.Or=t,this.Nl=e,this.updateFunction=n,this.xr=r,this.Ol=5,this.ca=new Dn(this.Or,"retry_transaction")}return t.prototype.run=function(){this.Fl()},t.prototype.Fl=function(){var t=this;this.ca.ea((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(r){return t=this.Nl.wl(),(e=this.Ul(t))&&e.then((function(e){n.Or.Qr((function(){return t.commit().then((function(){n.xr.resolve(e)})).catch((function(t){n.jl(t)}))}))})).catch((function(t){n.jl(t)})),[2]}))}))}))},t.prototype.Ul=function(t){try{var e=this.updateFunction(t);return!F(e)&&e.catch&&e.then?e:(this.xr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.xr.reject(t),null}},t.prototype.jl=function(t){var e=this;this.Ol>0&&this.xl(t)?(this.Ol-=1,this.Or.Qr((function(){return e.Fl(),Promise.resolve()}))):this.xr.reject(t)},t.prototype.xl=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Wt(e)}return!1},t}(),Vr=function(t,e,n){this.query=t,this.targetId=e,this.view=n},jr=function(t){this.key=t,this.Ll=!1},qr=function(){function t(t,e,n,r,i){this.kf=t,this.Nl=e,this.Ml=n,this.currentUser=r,this.ql=i,this.Bl=null,this.Ql=new je((function(t){return t.canonicalId()})),this.Gl=new Map,this.Wl=[],this.zl=new k(I.F),this.Kl=new Map,this.Jl=new Ze,this.Hl={},this.Yl=new Map,this.Xl=kn.Tc(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){Ae(null!==t,"SyncEngine listener cannot be null"),Ae(null===this.Bl,"SyncEngine already has a subscriber."),this.Bl=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Zl("listen()"),(r=this.Ql.get(t))?(this.Ml.ph(e=r.targetId),n=r.view.kl(),[3,4]):[3,1];case 1:return[4,this.kf.Eo(t.qn())];case 2:return i=o.sent(),s=this.Ml.ph(i.targetId),[4,this.td(t,e=i.targetId,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.Nl.listen(i),o.label=4;case 4:return this.Bl.Ra([n]),[2,e]}}))}))},t.prototype.td=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,l,a,u;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.kf.Co(t,!0)];case 1:return r=o.sent(),i=new Fr(t,r.ko),s=i.Tl(r.documents),l=ae.yi(e,n&&"Offline"!==this.onlineState),Ae(0===(a=i.Is(s,!0===this.isPrimary,l)).Al.length,"View returned limbo docs before target ack from the server."),Ae(!!a.snapshot,"applyChanges for new view should always return a snapshot"),u=new Vr(t,e,i),this.Ql.set(t,u),this.Gl.has(e)?this.Gl.get(e).push(t):this.Gl.set(e,[t]),[2,a.snapshot]}}))}))},t.prototype.nd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.kf.Co(t.query,!0)];case 1:return e=r.sent(),n=t.view.Vl(e),this.isPrimary&&this.ed(t.targetId,n.Al),[2,n]}}))}))},t.prototype.nl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("unlisten()"),Ae(!!(e=this.Ql.get(t)),"Trying to unlisten on query not found:"+t),(n=this.Gl.get(e.targetId)).length>1?(this.Gl.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),this.Ql.delete(t),[2]):this.isPrimary?(this.Ml.gh(e.targetId),this.Ml.lh(e.targetId)?[3,2]:[4,this.kf.Ao(e.targetId,!1).then((function(){r.Ml._h(e.targetId),r.Nl.nl(e.targetId),r.rd(e.targetId)})).catch(rn)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.rd(e.targetId),[4,this.kf.Ao(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Zl("write()"),[4,this.kf.zs(t)];case 1:return n=r.sent(),this.Ml.dh(n.batchId),this.ud(n.batchId,e),[4,this.sd(n.ds)];case 2:return r.sent(),[4,this.Nl.Xf()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Ur(t,this.Nl,e,n).run()},t.prototype.ho=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.ho(t)];case 2:return e=r.sent(),t.wi.forEach((function(t,e){var r=n.Kl.get(e);r&&(Ae(t.Ii.size+t.Ti.size+t.Ei.size<=1,"Limbo resolution for single document contains multiple changes."),t.Ii.size>0?r.Ll=!0:t.Ti.size>0?Ae(r.Ll,"Received change for limbo target document without add."):t.Ei.size>0&&(Ae(r.Ll,"Received remove for limbo target document without add."),r.Ll=!1))})),[4,this.sd(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,rn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Cl=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this.Zl("applyOnlineStateChange()");var n=[];this.Ql.forEach((function(e,r){var i=r.view.Cl(t);Ae(0===i.Al.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.Bl.od(t),this.Bl.Ra(n),this.onlineState=t,this.isPrimary&&this.Ml.Eh(t)}},t.prototype.ul=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,l,a=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Zl("rejectListens()"),this.Ml.Ih(t,"rejected",e),n=this.Kl.get(t),(r=n&&n.key)?(this.zl=this.zl.remove(r),this.Kl.delete(t),this.hd(),i=(i=new k(I.F)).ut(r,new kt(r,w.V())),s=ee().add(r),l=new le(w.MIN,new Map,new A(Re),i,s),[2,this.ho(l)]):[3,1];case 1:return[4,this.kf.Ao(t,!1).then((function(){return a.rd(t,e)})).catch(rn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.Nh=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("applyBatchState()"),[4,this.kf.Js(t)];case 1:return null===(r=i.sent())?(ke("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Nl.Xf()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.ad(t,n||null),this.kf.Fo(t)):Pe("Unknown batchState: "+e),i.label=4;case 4:return[4,this.sd(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.fl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl("applySuccessfulWrite()"),this.ad(e=t.batch.batchId,null),this.fd(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.Ys(t)];case 2:return n=r.sent(),this.Ml.wh(e,"acknowledged"),[4,this.sd(n)];case 3:return r.sent(),[3,6];case 4:return[4,rn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vl=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl("rejectFailedWrite()"),this.ad(t,e),this.fd(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.no(t)];case 2:return n=r.sent(),this.Ml.wh(t,"rejected",e),[4,this.sd(n)];case 3:return r.sent(),[3,6];case 4:return[4,rn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.ld=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Nl.xf()||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.kf.ro()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.Yl.get(e)||[]).push(t),this.Yl.set(e,n),[2])}}))}))},t.prototype.fd=function(t){(this.Yl.get(t)||[]).forEach((function(t){t.resolve()})),this.Yl.delete(t)},t.prototype.dd=function(t){this.Yl.forEach((function(e){e.forEach((function(e){e.reject(new p(d.CANCELLED,t))}))})),this.Yl.clear()},t.prototype.ud=function(t,e){var n=this.Hl[this.currentUser.i()];n||(n=new k(Re)),n=n.ut(t,e),this.Hl[this.currentUser.i()]=n},t.prototype.ad=function(t,e){var n=this.Hl[this.currentUser.i()];if(n){var r=n.get(t);r&&(Ae(t===n.ot(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.Hl[this.currentUser.i()]=n}},t.prototype.rd=function(t,e){var n=this;void 0===e&&(e=null),this.Ml.gh(t),Ae(this.Gl.has(t)&&0!==this.Gl.get(t).length,"There are no queries mapped to target id "+t);for(var r=0,i=this.Gl.get(t);r<i.length;r++){var o=i[r];this.Ql.delete(o),e&&this.Bl.vd(o,e)}if(this.Gl.delete(t),this.isPrimary){var s=this.Jl.as(t);this.Jl.hs(t),s.forEach((function(t){n.Jl.fs(t)||n.wd(t)}))}},t.prototype.wd=function(t){var e=this.zl.get(t);null!==e&&(this.Nl.nl(e),this.zl=this.zl.remove(t),this.Kl.delete(e),this.hd())},t.prototype.ed=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Mr?(this.Jl.es(i.key,t),this.md(i)):i instanceof Lr?(ke("SyncEngine","Document no longer in limbo: "+i.key),this.Jl.us(i.key,t),this.Jl.fs(i.key)||this.wd(i.key)):Pe("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.md=function(t){var e=t.key;this.zl.get(e)||(ke("SyncEngine","New document in limbo: "+e),this.Wl.push(e),this.hd())},t.prototype.hd=function(){for(;this.Wl.length>0&&this.zl.size<this.ql;){var t=this.Wl.shift(),e=this.Xl.next();this.Kl.set(e,new jr(t)),this.zl=this.zl.ut(t,e),this.Nl.listen(new zt(Pt.Cn(t.path).qn(),e,2,Be.Nr))}},t.prototype.pd=function(){return this.zl},t.prototype.bd=function(){return this.Wl},t.prototype.sd=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.Ql.forEach((function(o,l){i.push(Promise.resolve().then((function(){var e=l.view.Tl(t);return e.ic?s.kf.Co(l.query,!1).then((function(t){return l.view.Tl(t.documents,e)})):e})).then((function(t){var i=e&&e.wi.get(l.targetId),o=l.view.Is(t,!0===s.isPrimary,i);if(s.ed(l.targetId,o.Al),o.snapshot){s.isPrimary&&s.Ml.Ih(l.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var a=qe.Ar(l.targetId,o.snapshot);r.push(a)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.Bl.Ra(n),[4,this.kf.bo(r)];case 2:return o.sent(),[2]}}))}))},t.prototype.Zl=function(t){Ae(null!==this.Bl,"Trying to call "+t+" before calling subscribe().")},t.prototype.ml=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.dd("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.kf.Ms(t)]):[3,3];case 1:return n=r.sent(),this.Ml.Ms(t,n.Gs,n.Ws),[4,this.sd(n.Qs)];case 2:r.sent(),r.label=3;case 3:return[4,this.Nl.ml()];case 4:return r.sent(),[2]}}))}))},t.prototype.pl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Nl.pl(!0)]);case 1:return o.sent(),i=this.Ml.fh(),[4,this.gd(i.K())];case 2:for(e=o.sent(),n=0,r=e;n<r.length;n++)this.Nl.listen(r[n]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,i=[],s=Promise.resolve(),this.Gl.forEach((function(t,e){l.Ml.yh(e)?i.push(e):s=s.then((function(){return l.rd(e),l.kf.Ao(e,!0)})),l.Nl.nl(e)})),[4,s]);case 4:return o.sent(),[4,this.gd(i)];case 5:return o.sent(),this.yd(),[4,this.Nl.pl(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.yd=function(){var t=this;this.Kl.forEach((function(e,n){t.Nl.nl(n)})),this.Jl.cs(),this.Kl=new Map,this.zl=new k(I.F)},t.prototype.gd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,l,a,u,c,h,d,p,f;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(l=void 0,(a=this.Gl.get(s=i[r]))&&0!==a.length?[4,this.kf.Ao(s,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.kf.Eo(a[0].qn())];case 3:l=o.sent(),u=0,c=a,o.label=4;case 4:return u<c.length?(Ae(!!(d=this.Ql.get(h=c[u])),"No query view found for "+h),[4,this.nd(d)]):[3,7];case 5:(p=o.sent()).snapshot&&n.push(p.snapshot),o.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return Ae(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.kf.xo(s)];case 9:return Ae(!!(f=o.sent()),"Target for id "+s+" not found"),[4,this.kf.Eo(f)];case 10:return l=o.sent(),[4,this.td(this._d(f),s,!1)];case 11:o.sent(),o.label=12;case 12:e.push(l),o.label=13;case 13:return r++,[3,1];case 14:return this.Bl.Ra(n),[2,e]}}))}))},t.prototype._d=function(t){return new Pt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.Oo=function(){return this.kf.Oo()},t.prototype.Oh=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return ke("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.Gl.has(t))return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.kf.Lo()];case 2:return r=o.sent(),i=le.gi(t,"current"===e),[4,this.sd(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.kf.Ao(t,!0)];case 5:return o.sent(),this.rd(t,n),[3,7];case 6:Pe("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.Fh=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,l,a,u,c,h,d=this;return o.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(Ae(!this.Gl.has(h=r[n]),"Trying to add an already active target"),[4,this.kf.xo(h)]):[3,6];case 2:return Ae(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.kf.Eo(i)];case 3:return s=p.sent(),[4,this.td(this._d(i),s.targetId,!1)];case 4:p.sent(),this.Nl.listen(s),p.label=5;case 5:return n++,[3,1];case 6:l=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return a.Gl.has(t)?[4,a.kf.Ao(t,!1).then((function(){d.Nl.nl(t),d.rd(t)})).catch(rn)]:[2,"continue"];case 1:return e.sent(),[2]}}))},a=this,u=0,c=e,p.label=7;case 7:return u<c.length?[5,l(h=c[u])]:[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.kf.jo(!0),this.Nl.enableNetwork()},t.prototype.disableNetwork=function(){return this.kf.jo(!1),this.Nl.disableNetwork()},t.prototype.he=function(t){var e=this.Kl.get(t);if(e&&e.Ll)return ee().add(e.key);var n=ee(),r=this.Gl.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],l=this.Ql.get(s);Ae(!!l,"No query view found for "+s),n=n.Ft(l.view.Il)}return n},t}(),Br=function(){this.Id=null,this.targetId=0,this.listeners=[]},zr=function(){function t(t){this.Jo=t,this.Td=new je((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.Ed=new Set,this.Jo.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.Td.get(e);return r||(n=!0,r=new Br,this.Td.set(e,r)),r.listeners.push(t),Ae(!t.Cl(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.Id&&t.Dd(r.Id)&&this.Rd(),n?this.Jo.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.nl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){return n=!1,(r=this.Td.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.Td.delete(e),[2,this.Jo.nl(e)]):[2]}))}))},t.prototype.Ra=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.Td.get(i.query);if(o){for(var s=0,l=o.listeners;s<l.length;s++)l[s].Dd(i)&&(e=!0);o.Id=i}}e&&this.Rd()},t.prototype.vd=function(t,e){var n=this.Td.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.Td.delete(t)},t.prototype.od=function(t){this.onlineState=t;var e=!1;this.Td.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Cl(t)&&(e=!0)})),e&&this.Rd()},t.prototype.Sd=function(t){this.Ed.add(t),t.next()},t.prototype.Ad=function(t){this.Ed.delete(t)},t.prototype.Rd=function(){this.Ed.forEach((function(t){t.next()}))},t}(),Hr=function(){function t(t,e,n){this.query=t,this.Cd=e,this.Pd=!1,this.Vd=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Dd=function(t){if(Ae(t.docChanges.length>0||t.li,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new se(t.query,t.docs,t.ai,e,t.fi,t.fromCache,t.li,!0)}var o=!1;return this.Pd?this.kd(t)&&(this.Cd.next(t),o=!0):this.Nd(t,this.onlineState)&&(this.Od(t),o=!0),this.Vd=t,o},t.prototype.onError=function(t){this.Cd.error(t)},t.prototype.Cl=function(t){this.onlineState=t;var e=!1;return this.Vd&&!this.Pd&&this.Nd(this.Vd,t)&&(this.Od(this.Vd),e=!0),e},t.prototype.Nd=function(t,e){return Ae(!this.Pd,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.Fd&&"Offline"!==e?(Ae(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.M()||"Offline"===e)},t.prototype.kd=function(t){return t.docChanges.length>0||!!(t.li||this.Vd&&this.Vd.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Od=function(t){Ae(!this.Pd,"Trying to raise initial events for second time"),t=se.vi(t.query,t.docs,t.fi,t.fromCache),this.Pd=!0,this.Cd.next(t)},t}(),Wr=function(){function t(t,e,n,r){this.platform=t,this.Ud=e,this.credentials=n,this.Or=r,this.clientId=Ne.pr()}return t.prototype.start=function(t,e){var n=this;this.jd();var r=new ze,i=new ze,o=!1;return this.credentials.v((function(s){o?n.Or.Qr((function(){return n.ml(s)})):(o=!0,n.xd(t,e,s,i).then((function(){return n.Ld(s)})).then(r.resolve,r.reject))})),this.Or.Qr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.jd(),this.Or.enqueue((function(){return t.Jo.enableNetwork()}))},t.prototype.xd=function(t,e,n,r){return o.__awaiter(this,void 0,void 0,(function(){var i;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.initialize(this.Or,this.Ud,this.platform,this.clientId,n,e)];case 1:return o.sent(),this.persistence=t.Jc(),this.Md=t.Kc(),this.Ml=t.Hc(),r.resolve(),[3,3];case 2:if(i=o.sent(),r.reject(i),!this.qd(i))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),[2,this.xd(new Rn,{zc:!1},n,r)];case 3:return[2]}}))}))},t.prototype.qd=function(t){return"FirebaseError"===t.name?t.code===d.FAILED_PRECONDITION||t.code===d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.jd=function(){if(this.Or.Yr)throw new p(d.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ld=function(t){var e=this;return ke("FirestoreClient","Initializing. user=",t.uid),this.platform.Bd(this.Ud).then((function(n){return o.__awaiter(e,void 0,void 0,(function(){var e,r,i,s,l,a=this;return o.__generator(this,(function(u){switch(u.label){case 0:return e=new vn,this.kf=new nn(this.persistence,e,t),[4,this.kf.start()];case 1:return u.sent(),r=this.platform.Qd(),i=this.platform.Gd(this.Ud.ae),s=new Un(this.Or,n,this.credentials,i),l=function(t){return a.Jo.Cl(t,1)},this.Nl=new Dr(this.kf,s,this.Or,(function(t){return a.Jo.Cl(t,0)}),r),this.Jo=new qr(this.kf,this.Nl,this.Ml,t,100),this.Ml.Ho=l,this.Nl.Jo=this.Jo,this.Ml.Jo=this.Jo,this.Wd=new zr(this.Jo),[4,this.Ml.start()];case 2:return u.sent(),[4,this.Nl.start()];case 3:return u.sent(),[4,this.persistence.jc((function(t){return o.__awaiter(a,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Jo.pl(t)];case 1:return e.sent(),t&&!this.Md.qu?this.Md.start(this.kf):t||this.Md.stop(),[2]}}))}))}))];case 4:return u.sent(),[4,this.persistence.xc((function(){return o.__awaiter(a,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return u.sent(),[2]}}))}))}))},t.prototype.ml=function(t){return this.Or.ru(),ke("FirestoreClient","Credential Changed. Current user: "+t.uid),this.Jo.ml(t)},t.prototype.disableNetwork=function(){var t=this;return this.jd(),this.Or.enqueue((function(){return t.Jo.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Or.nu((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Md.stop(),[4,this.Nl.shutdown()];case 1:return t.sent(),[4,this.Ml.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.m(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.jd();var e=new ze;return this.Or.Qr((function(){return t.Jo.ld(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.jd();var i=new Hr(t,e,n);return this.Or.Qr((function(){return r.Wd.listen(i)})),i},t.prototype.nl=function(t){var e=this;this.zd||this.Or.Qr((function(){return e.Wd.nl(t)}))},t.prototype.Kd=function(t){var e=this;return this.jd(),this.Or.enqueue((function(){return e.kf.Io(t)})).then((function(t){if(t instanceof It)return t;if(t instanceof kt)return null;throw new p(d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.Jd=function(t){var e=this;return this.jd(),this.Or.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.kf.Co(t,!0)];case 1:return e=i.sent(),n=new Fr(t,e.ko),r=n.Tl(e.documents),[2,n.Is(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.jd();var n=new ze;return this.Or.Qr((function(){return e.Jo.write(t,n)})),n.promise},t.prototype.ae=function(){return this.Ud.ae},t.prototype.Sd=function(t){var e=this;this.jd(),this.Or.Qr((function(){return e.Wd.Sd(t),Promise.resolve()}))},t.prototype.Ad=function(t){this.zd||this.Wd.Ad(t)},Object.defineProperty(t.prototype,"zd",{get:function(){return this.Or.Yr},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.jd();var n=new ze;return this.Or.Qr((function(){return e.Jo.runTransaction(e.Or,t,n),Promise.resolve()})),n.promise},t}(),Gr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Hd(this.observer.next,t)},t.prototype.error=function(t){this.Hd(this.observer.error,t)},t.prototype.Yd=function(){this.muted=!0},t.prototype.Hd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Kr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Qr=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.Xd=n,this.converter=r}return t.prototype.$d=function(t){switch(z(t)){case 0:return null;case 1:return t.booleanValue;case 2:return J(t.integerValue||t.doubleValue);case 3:return this.Zd(t.timestampValue);case 4:return this.tv(t);case 5:return t.stringValue;case 6:return new ar(X(t.bytesValue));case 7:return this.nv(t.referenceValue);case 8:return new _r(t.geoPointValue.latitude,t.geoPointValue.longitude);case 9:return this.iv(t.arrayValue);case 10:return this.ev(t.mapValue);default:throw Pe("Invalid value type: "+JSON.stringify(t))}},t.prototype.ev=function(t){var e=this,n={};return D(t.fields||{},(function(t,r){n[t]=e.$d(r)})),n},t.prototype.iv=function(t){var e=this;return(t.values||[]).map((function(t){return e.$d(t)}))},t.prototype.tv=function(t){switch(this.Xd){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return j(n)?t(n):n}(t);return null==e?null:this.$d(e);case"estimate":return this.Zd(q(t));default:return null}},t.prototype.Zd=function(t){var e=Y(t),n=new b(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.nv=function(t){var e=E.H(t);Ae(Ce(e),"ReferenceValue is not valid "+t);var n=new Fe(e.get(1),e.get(3)),r=new I(e.j(5));return n.isEqual(this.firestore.rv)||xe("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.rv.projectId+"/"+this.firestore.rv.database+") instead."),new ti(r,this.firestore,this.converter)},t}(),Yr=Je.Nu,Jr=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new p(d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Gn("settings","non-empty string","host",t.host),this.host=t.host,Kn("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(tr("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),Kn("settings","object","credentials",t.credentials),this.credentials=t.credentials,Kn("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?xe("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&xe("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,Kn("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Je.Fu;else{if(t.cacheSizeBytes!==Yr&&t.cacheSizeBytes<Je.Ou)throw new p(d.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Je.Ou);this.cacheSizeBytes=t.cacheSizeBytes}Kn("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Xr=function(){function t(e,n,r){var i=this;if(void 0===r&&(r=new Rn),this.uv=null,this.sv=new We,this.INTERNAL={delete:function(){return o.__awaiter(i,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.ov(),[4,this.hv.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.uv=s,this.rv=t.cv(s),this.av=s.name,this.fv=new m(n)}else{var l=e;if(!l.projectId)throw new p(d.INVALID_ARGUMENT,"Must provide projectId");this.rv=new Fe(l.projectId,l.database),this.av="[DEFAULT]",this.fv=new g}this.lv=r,this.dv=new Jr({}),this.vv=this.wv(this.rv)}return t.prototype.settings=function(t){if(jn("Firestore.settings",arguments,1),Hn("Firestore.settings","object",1,t),pi(t,"persistence"))throw new p(d.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Jr(t);if(this.hv&&!this.dv.isEqual(e))throw new p(d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.dv=e,void 0!==e.credentials&&(this.fv=_(e.credentials))},t.prototype.enableNetwork=function(){return this.ov(),this.hv.enableNetwork()},t.prototype.disableNetwork=function(){return this.ov(),this.hv.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.hv)throw new p(d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&xe("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.mv(this.lv,{zc:!0,cacheSizeBytes:this.dv.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){if(void 0!==this.hv&&!this.hv.zd)throw new p(d.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new ze,this.sv.Xr((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.pv(),[4,this.lv.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),[2,t.promise]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"bv",{get:function(){return this.ov(),this.hv.zd},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ov(),this.hv.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ov(),Kr(t)?this.gv(t):(Hn("Firestore.onSnapshotsInSync","function",1,t),this.gv({next:t}))},t.prototype.gv=function(t){var e=this,n=new Gr({next:function(){t.next&&t.next()},error:function(t){throw Pe("Uncaught Error in onSnapshotsInSync")}});return this.hv.Sd(n),function(){n.Yd(),e.hv.Ad(n)}},t.prototype.ov=function(){return this.hv||this.mv(new Rn,{zc:!1}),this.hv},t.prototype.pv=function(){return new Le(this.rv,this.av,this.dv.host,this.dv.ssl,this.dv.forceLongPolling)},t.prototype.mv=function(t,e){Ae(!!this.dv.host,"FirestoreSettings.host is not set"),Ae(!this.hv,"configureClient() called multiple times");var n=this.pv();return this.hv=new Wr(Ee.xt(),n,this.fv,this.sv),this.hv.start(t,e)},t.prototype.wv=function(t){var e=new we(t,{de:Ee.xt().de});return new Ir(e,(function(e){if(e instanceof ti){var n=t,r=e.firestore.rv;if(!r.isEqual(n))throw new p(d.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Sr(t,e.yv)}return e}))},t.cv=function(t){if(!pi(t.options,"projectId"))throw new p(d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new p(d.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Fe(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.uv)throw new p(d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.uv},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return jn("Firestore.collection",arguments,1),Hn("Firestore.collection","non-empty string",1,t),this.ov(),new si(E.H(t),this)},t.prototype.doc=function(t){return jn("Firestore.doc",arguments,1),Hn("Firestore.doc","non-empty string",1,t),this.ov(),ti._v(E.H(t),this)},t.prototype.collectionGroup=function(t){if(jn("Firestore.collectionGroup",arguments,1),Hn("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new p(d.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ov(),new ii(new Pt(E.Y,t),this)},t.prototype.runTransaction=function(t){var e=this;return jn("Firestore.runTransaction",arguments,1),Hn("Firestore.runTransaction","function",1,t),this.ov().transaction((function(n){return t(new $r(e,n))}))},t.prototype.batch=function(){return this.ov(),new Zr(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(Se()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(jn("Firestore.setLogLevel",arguments,1),Hn("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":Ie(s.LogLevel.DEBUG);break;case"error":Ie(s.LogLevel.ERROR);break;case"silent":Ie(s.LogLevel.SILENT);break;default:throw new p(d.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Iv=function(){return this.dv.timestampsInSnapshots},t}(),$r=function(){function t(t,e){this.Tv=t,this.Ev=e}return t.prototype.get=function(t){var e=this;jn("Transaction.get",arguments,1);var n=ci("Transaction.get",t,this.Tv);return this.Ev.lookup([n.yv]).then((function(t){if(!t||1!==t.length)return Pe("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof kt)return new ni(e.Tv,n.yv,null,!1,!1,n.Dv);if(r instanceof It)return new ni(e.Tv,n.yv,r,!1,!1,n.Dv);throw Pe("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){Bn("Transaction.set",arguments,2,3);var r=ci("Transaction.set",t,this.Tv);n=li("Transaction.set",n);var i=di(r.Dv,e,"Transaction.set"),o=i[0],s=i[1],l=n.merge||n.mergeFields?this.Tv.vv.uf(s,o,n.mergeFields):this.Tv.vv.ef(s,o);return this.Ev.set(r.yv,l),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof cr?(qn("Transaction.update",arguments,3),r=ci("Transaction.update",t,this.Tv),i=this.Tv.vv.af("Transaction.update",e,n,o)):(jn("Transaction.update",arguments,2),r=ci("Transaction.update",t,this.Tv),i=this.Tv.vv.sf("Transaction.update",e)),this.Ev.update(r.yv,i),this},t.prototype.delete=function(t){jn("Transaction.delete",arguments,1);var e=ci("Transaction.delete",t,this.Tv);return this.Ev.delete(e.yv),this},t}(),Zr=function(){function t(t){this.Tv=t,this.Rv=[],this.Sv=!1}return t.prototype.set=function(t,e,n){Bn("WriteBatch.set",arguments,2,3),this.Av();var r=ci("WriteBatch.set",t,this.Tv);n=li("WriteBatch.set",n);var i=di(r.Dv,e,"WriteBatch.set"),o=i[0],s=i[1],l=n.merge||n.mergeFields?this.Tv.vv.uf(s,o,n.mergeFields):this.Tv.vv.ef(s,o);return this.Rv=this.Rv.concat(l.Ka(r.yv,mt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Av(),"string"==typeof e||e instanceof cr?(qn("WriteBatch.update",arguments,3),r=ci("WriteBatch.update",t,this.Tv),i=this.Tv.vv.af("WriteBatch.update",e,n,o)):(jn("WriteBatch.update",arguments,2),r=ci("WriteBatch.update",t,this.Tv),i=this.Tv.vv.sf("WriteBatch.update",e)),this.Rv=this.Rv.concat(i.Ka(r.yv,mt.exists(!0))),this},t.prototype.delete=function(t){jn("WriteBatch.delete",arguments,1),this.Av();var e=ci("WriteBatch.delete",t,this.Tv);return this.Rv=this.Rv.concat(new wt(e.yv,mt.NONE)),this},t.prototype.commit=function(){return this.Av(),this.Sv=!0,this.Rv.length>0?this.Tv.ov().write(this.Rv):Promise.resolve()},t.prototype.Av=function(){if(this.Sv)throw new p(d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ti=function(){function t(t,e,n){this.yv=t,this.firestore=e,this.Dv=n,this.hv=this.firestore.ov()}return t._v=function(e,n,r){if(e.length%2!=0)throw new p(d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.J()+" has "+e.length);return new t(new I(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.yv.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new si(this.yv.path.L(),this.firestore,this.Dv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.yv.path.J()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(jn("DocumentReference.collection",arguments,1),Hn("DocumentReference.collection","non-empty string",1,t),!t)throw new p(d.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=E.H(t);return new si(this.yv.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.yv.isEqual(e.yv)&&this.Dv===e.Dv},t.prototype.set=function(t,e){Bn("DocumentReference.set",arguments,1,2),e=li("DocumentReference.set",e);var n=di(this.Dv,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.vv.uf(i,r,e.mergeFields):this.firestore.vv.ef(i,r);return this.hv.write(o.Ka(this.yv,mt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof cr?(qn("DocumentReference.update",arguments,2),n=this.firestore.vv.af("DocumentReference.update",t,e,r)):(jn("DocumentReference.update",arguments,1),n=this.firestore.vv.sf("DocumentReference.update",t)),this.hv.write(n.Ka(this.yv,mt.exists(!0)))},t.prototype.delete=function(){return jn("DocumentReference.delete",arguments,0),this.hv.write([new wt(this.yv,mt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Bn("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Kr(t[i])||(tr("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),Kn("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Kr(t[i])?n=t[i]:(Hn("DocumentReference.onSnapshot","function",i,t[i]),Wn("DocumentReference.onSnapshot","function",i+1,t[i+1]),Wn("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Cv(o,n)},t.prototype.Cv=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Gr({next:function(t){if(e.next){Ae(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n.yv);e.next(new ni(n.firestore,n.yv,r,t.fromCache,t.hasPendingWrites,n.Dv))}},error:r}),o=this.hv.listen(Pt.Cn(this.yv.path),i,t);return function(){i.Yd(),n.hv.nl(o)}},t.prototype.get=function(t){var e=this;return Bn("DocumentReference.get",arguments,0,1),ui("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ov().Kd(e.yv).then((function(t){n(new ni(e.firestore,e.yv,t,!0,t instanceof It&&t.nn,e.Dv))}),r):e.Pv(n,r,t)}))},t.prototype.Pv=function(t,e,n){var r=this.Cv({includeMetadataChanges:!0,Fd:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new p(d.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new p(d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.yv,this.firestore,e)},t}(),ei=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ni=function(){function t(t,e,n,r,i,o){this.Tv=t,this.yv=e,this.Vv=n,this.kv=r,this.Nv=i,this.Dv=o}return t.prototype.data=function(t){if(Bn("DocumentSnapshot.data",arguments,0,1),t=ai("DocumentSnapshot.data",t),this.Vv){if(this.Dv){var e=new ri(this.Tv,this.yv,this.Vv,this.kv,this.Nv);return this.Dv.fromFirestore(e,t)}var n=new Qr(this.Tv,this.Tv.Iv(),t.serverTimestamps,void 0);return n.$d(this.Vv.yn())}},t.prototype.get=function(t,e){if(Bn("DocumentSnapshot.get",arguments,1,2),e=ai("DocumentSnapshot.get",e),this.Vv){var n=this.Vv.data().field(Or("DocumentSnapshot.get",t));if(null!==n){var r=new Qr(this.Tv,this.Tv.Iv(),e.serverTimestamps,this.Dv);return r.$d(n)}}},Object.defineProperty(t.prototype,"id",{get:function(){return this.yv.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ti(this.yv,this.Tv,this.Dv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Vv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ei(this.Nv,this.kv)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","DocumentSnapshot",1,e);return this.Tv===e.Tv&&this.kv===e.kv&&this.yv.isEqual(e.yv)&&(null===this.Vv?null===e.Vv:this.Vv.isEqual(e.Vv))&&this.Dv===e.Dv},t}(),ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return Ae(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(ni),ii=function(){function t(t,e,n){this.Ov=t,this.firestore=e,this.Dv=n}return t.prototype.where=function(e,n,r){jn("Query.where",arguments,3),Zn("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];Yn("Query.where",o,2,n);var s=Or("Query.where",e),l=At.H(n);if(s.$()){if(l===At.ARRAY_CONTAINS||l===At.ARRAY_CONTAINS_ANY)throw new p(d.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+l.toString()+"' queries on FieldPath.documentId().");if(l===At.IN){this.Fv(r,l);for(var a=[],u=0,c=r;u<c.length;u++){var h=c[u];a.push(this.Uv(h))}i={arrayValue:{values:a}}}else i=this.Uv(r)}else l!==At.IN&&l!==At.ARRAY_CONTAINS_ANY||this.Fv(r,l),i=this.firestore.vv.ff("Query.where",r,l===At.IN);var f=Nt.create(s,l,i);return this.jv(f),new t(this.Ov.kn(f),this.firestore,this.Dv)},t.prototype.orderBy=function(e,n){var r;if(Bn("Query.orderBy",arguments,1,2),Wn("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Ut.ASCENDING;else{if("desc"!==n)throw new p(d.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Ut.DESCENDING}if(null!==this.Ov.startAt)throw new p(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.Ov.endAt)throw new p(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Or("Query.orderBy",e),o=new jt(i,r);return this.xv(o),new t(this.Ov.On(o),this.firestore,this.Dv)},t.prototype.limit=function(e){return jn("Query.limit",arguments,1),Hn("Query.limit","number",1,e),nr("Query.limit",1,e),new t(this.Ov.Fn(e),this.firestore,this.Dv)},t.prototype.limitToLast=function(e){return jn("Query.limitToLast",arguments,1),Hn("Query.limitToLast","number",1,e),nr("Query.limitToLast",1,e),new t(this.Ov.Un(e),this.firestore,this.Dv)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qn("Query.startAt",arguments,1);var i=this.Lv("Query.startAt",e,n,!0);return new t(this.Ov.jn(i),this.firestore,this.Dv)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qn("Query.startAfter",arguments,1);var i=this.Lv("Query.startAfter",e,n,!1);return new t(this.Ov.jn(i),this.firestore,this.Dv)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qn("Query.endBefore",arguments,1);var i=this.Lv("Query.endBefore",e,n,!0);return new t(this.Ov.xn(i),this.firestore,this.Dv)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qn("Query.endAt",arguments,1);var i=this.Lv("Query.endAt",e,n,!1);return new t(this.Ov.xn(i),this.firestore,this.Dv)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","Query",1,e);return this.firestore===e.firestore&&this.Ov.isEqual(e.Ov)},t.prototype.withConverter=function(e){return new t(this.Ov,this.firestore,e)},t.prototype.Lv=function(t,e,n,r){if(Zn(t,1,e),e instanceof ni){if(n.length>0)throw new p(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new p(d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.Mv(i.Vv,r)}var o=[e].concat(n);return this.qv(t,o,r)},t.prototype.Mv=function(t,e){for(var n=[],r=0,i=this.Ov.orderBy;r<i.length;r++){var o=i[r];if(o.field.$())n.push($(this.firestore.rv,t.key));else{var s=t.field(o.field);if(j(s))throw new p(d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var l=o.field.J();throw new p(d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}n.push(s)}}return new Vt(n,e)},t.prototype.qv=function(t,e,n){var r=this.Ov.En;if(e.length>r.length)throw new p(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.$()){if("string"!=typeof s)throw new p(d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.Ov.Yn()&&-1!==s.indexOf("/"))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var l=this.Ov.path.child(E.H(s));if(!I.nt(l))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var a=new I(l);i.push($(this.firestore.rv,a))}else{var u=this.firestore.vv.ff(t,s);i.push(u)}}return new Vt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Bn("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Kr(t[i])||(tr("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),Kn("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Kr(t[i])?n=t[i]:(Hn("Query.onSnapshot","function",i,t[i]),Wn("Query.onSnapshot","function",i+1,t[i+1]),Wn("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Bv(this.Ov),this.Cv(r,n)},t.prototype.Cv=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Gr({next:function(t){e.next&&e.next(new oi(n.firestore,n.Ov,t,n.Dv))},error:r}),o=this.firestore.ov(),s=o.listen(this.Ov,i,t);return function(){i.Yd(),o.nl(s)}},t.prototype.Bv=function(t){if(t.Jn()&&0===t.En.length)throw new p(d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return Bn("Query.get",arguments,0,1),ui("Query.get",t),this.Bv(this.Ov),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ov().Jd(e.Ov).then((function(t){n(new oi(e.firestore,e.Ov,t,e.Dv))}),r):e.Pv(n,r,t)}))},t.prototype.Pv=function(t,e,n){var r=this.Cv({includeMetadataChanges:!0,Fd:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new p(d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.Uv=function(t){if("string"==typeof t){if(""===t)throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.Ov.Yn()&&-1!==t.indexOf("/"))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.Ov.path.child(E.H(t));if(!I.nt(e))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return $(this.firestore.rv,new I(e))}if(t instanceof ti)return $(this.firestore.rv,t.yv);throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+$n(t)+".")},t.prototype.Fv=function(t,e){if(!Array.isArray(t)||0===t.length)throw new p(d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.jv=function(t){if(t instanceof Nt){var e=[At.ARRAY_CONTAINS,At.ARRAY_CONTAINS_ANY],n=[At.IN,At.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Nn()){var o=this.Ov.Pn();if(null!==o&&!o.isEqual(t.field))throw new p(d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.Ov.Vn();null!==s&&this.Qv(t.field,s)}else if(i||r){var l=null;if(i&&(l=this.Ov.Hn(n)),null===l&&r&&(l=this.Ov.Hn(e)),null!=l)throw new p(d.INVALID_ARGUMENT,l===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+l.toString()+"' filters.")}}},t.prototype.xv=function(t){if(null===this.Ov.Vn()){var e=this.Ov.Pn();null!==e&&this.Qv(e,t.field)}},t.prototype.Qv=function(t,e){if(!e.isEqual(t))throw new p(d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),oi=function(){function t(t,e,n,r){this.Tv=t,this.Gv=e,this.Wv=n,this.Dv=r,this.zv=null,this.Kv=null,this.metadata=new ei(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Wv.docs.M()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Wv.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Bn("QuerySnapshot.forEach",arguments,1,2),Hn("QuerySnapshot.forEach","function",1,t),this.Wv.docs.forEach((function(r){t.call(e,n.Jv(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new ii(this.Gv,this.Tv,this.Dv)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(tr("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Kn("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Wv.di)throw new p(d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.zv&&this.Kv===e||(this.zv=function(t,e,n,r){if(n.ai.M()){var i,o=0;return n.docChanges.map((function(e){var s=new ri(t,e.doc.key,e.doc,n.fromCache,n.fi.has(e.doc.key),r);return Ae(0===e.type,"Invalid event type for first snapshot"),Ae(!i||n.query.Bn(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}}))}var s=n.ai;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new ri(t,e.doc.key,e.doc,n.fromCache,n.fi.has(e.doc.key),r),o=-1,l=-1;return 0!==e.type&&(Ae((o=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),1!==e.type&&(l=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:hi(e.type),doc:i,oldIndex:o,newIndex:l}}))}(this.Tv,e,this.Wv,this.Dv),this.Kv=e),this.zv},t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","QuerySnapshot",1,e);return this.Tv===e.Tv&&this.Gv.isEqual(e.Gv)&&this.Wv.isEqual(e.Wv)&&this.Dv===e.Dv},t.prototype.Jv=function(t){return new ri(this.Tv,t.key,t,this.metadata.fromCache,this.Wv.fi.has(t.key),this.Dv)},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(oi.prototype.docChanges,t,{get:function(){return function(){throw new p(d.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var si=function(t){function e(e,n,r){var i=t.call(this,Pt.Cn(e),n,r)||this;if(i.Hv=e,e.length%2!=1)throw new p(d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.J()+" has "+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ov.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ov.path.L();return t.M()?null:new ti(new I(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ov.path.J()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(Bn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Ne.pr()),Hn("CollectionReference.doc","non-empty string",1,t),""===t)throw new p(d.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=E.H(t);return ti._v(this.Ov.path.child(e),this.firestore,this.Dv)},e.prototype.add=function(t){jn("CollectionReference.add",arguments,1);var e=this.Dv?this.Dv.toFirestore(t):t;Hn("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Hv,this.firestore,t)},e}(ii);function li(t,e){if(void 0===e)return{merge:!1};if(tr(t,e,["merge","mergeFields"]),Kn(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+$n(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+$n(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof cr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new p(d.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ai(t,e){return void 0===e?{}:(tr(t,e,["serverTimestamps"]),Qn(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ui(t,e){Wn(t,"object",1,e),e&&(tr(t,e,["source"]),Qn(t,0,"source",e.source,["default","server","cache"]))}function ci(t,e,n){if(e instanceof ti){if(e.firestore!==n)throw new p(d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw er(t,"DocumentReference",1,e)}function hi(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe("Unknown change type: "+t)}}function di(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function pi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var fi=or(Xr,"Use firebase.firestore() instead."),gi=or($r,"Use firebase.firestore().runTransaction() instead."),mi=or(Zr,"Use firebase.firestore().batch() instead."),yi=or(ti,"Use firebase.firestore().doc() instead."),vi=or(ni),_i=or(ri),bi=or(ii),wi=or(oi),Ci=or(si,"Use firebase.firestore().collection() instead."),Ei=function(){function t(e){this.db=e,12.2===t.Yv(l.getUA())&&xe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Xv=function(e,n,r){return Ae(t.th(),"IndexedDB not supported in current environment."),ke("SimpleDb","Opening database:",e),new Ge((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new p(d.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new p(d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){ke("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,Gi).next((function(){ke("SimpleDb","Database upgrade to version "+Gi+" complete")}))}})).wu()},t.delete=function(t){return ke("SimpleDb","Removing database:",t),ki(window.indexedDB.deleteDatabase(t)).wu()},t.th=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.$v())return!0;if(void 0===window.navigator)return!1;var e=l.getUA(),n=t.Yv(e),r=0<n&&n<10,i=t.Zv(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.$v=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.tw)},t.nw=function(t,e){return t.store(e)},t.Yv=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Zv=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.iw=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,l,a;return o.__generator(this,(function(u){switch(u.label){case 0:r="readonly"===t,i=0,s=function(){var t,s,a,u;return o.__generator(this,(function(o){switch(o.label){case 0:++i,t=Si.open(l.db,r?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(s=n(t).catch((function(e){return t.abort(e),Ge.reject(e)})).wu()).catch((function(){})),[4,t.ew];case 2:return o.sent(),[2,{value:s}];case 3:return ke("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(a=o.sent()).message,u="FirebaseError"!==a.name&&i<3),u?[3,4]:[2,{value:Promise.reject(a)}];case 4:return[2]}}))},l=this,u.label=1;case 1:return[5,s()];case 2:return"object"==typeof(a=u.sent())?[2,a.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Ti=function(){function t(t){this.rw=t,this.uw=!1,this.sw=null}return Object.defineProperty(t.prototype,"fu",{get:function(){return this.uw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ow",{get:function(){return this.sw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.rw=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.uw=!0},t.prototype.hw=function(t){this.sw=t},t.prototype.delete=function(){return ki(this.rw.delete())},t}(),Si=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.cw=new ze,this.transaction.oncomplete=function(){e.cw.resolve()},this.transaction.onabort=function(){t.error?e.cw.reject(t.error):e.cw.resolve()},this.transaction.onerror=function(t){var n=Oi(t.target.error);e.cw.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"ew",{get:function(){return this.cw.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.cw.reject(t),this.aborted||(ke("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return Ae(!!e,"Object store not part of transaction: "+t),new Ii(e)},t}(),Ii=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ke("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ki(n)},t.prototype.add=function(t){return ke("SimpleDb","ADD",this.store.name,t,t),ki(this.store.add(t))},t.prototype.get=function(t){var e=this;return ki(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ke("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ke("SimpleDb","DELETE",this.store.name,t),ki(this.store.delete(t))},t.prototype.count=function(){return ke("SimpleDb","COUNT",this.store.name),ki(this.store.count())},t.prototype.aw=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.fw(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.lw=function(t,e){ke("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.dw=!1;var r=this.cursor(n);return this.fw(r,(function(t,e,n){return n.delete()}))},t.prototype.vw=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.fw(r,e)},t.prototype.ww=function(t){var e=this.cursor({});return new Ge((function(n,r){e.onerror=function(t){var e=Oi(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.fw=function(t,e){var n=[];return new Ge((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ti(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ge){var l=s.catch((function(t){return o.done(),Ge.reject(t)}));n.push(l)}o.fu?r():null===o.ow?i.continue():i.continue(o.ow)}else r()}})).next((function(){return Ge.pu(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(Ae(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.dw?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ki(t){return new Ge((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Oi(t.target.error);n(e)}}))}var xi=!1;function Oi(t){var e=Ei.Yv(l.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new p("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xi||(xi=!0,setTimeout((function(){throw r}),0)),r}}return t}var Pi=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Bh=n,this.Cs=r,this.mw={}}return t.pw=function(e,n,r,i){return Ae(""!==e.uid,"UserID must not be an empty string."),new t(e.t()?e.uid:"",n,r,i)},t.prototype.oc=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ri(t).vw({index:Xi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ys=function(t,e,n){return this.bw(t).next((function(e){return e.lastStreamToken=n.toBase64(),Mi(t).put(e)}))},t.prototype.uo=function(t){return this.bw(t).next((function(t){return L.fromBase64String(t.lastStreamToken)}))},t.prototype.so=function(t,e){return this.bw(t).next((function(n){return n.lastStreamToken=e.toBase64(),Mi(t).put(n)}))},t.prototype.Ks=function(t,e,n,r){var i=this,o=Di(t),s=Ri(t);return s.add({}).next((function(l){Ae("number"==typeof l,"Auto-generated key is not a number");for(var a=new Ue(l,e,n,r),u=i.serializer.gw(i.userId,a),c=[],h=new A((function(t,e){return Re(t.J(),e.J())})),d=0,p=r;d<p.length;d++){var f=p[d],g=$i.key(i.userId,f.key.path,l);h=h.add(f.key.path.L()),c.push(s.put(u)),c.push(o.put(g,$i.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Bh.rc(t,e))})),t.Lh((function(){i.mw[l]=a.keys()})),Ge.pu(c).next((function(){return a}))}))},t.prototype.io=function(t,e){var n=this;return Ri(t).get(e).next((function(t){return t?(Ae(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.yw(t)):null}))},t.prototype.Hs=function(t,e){var n=this;return this.mw[e]?Ge.resolve(this.mw[e]):this.io(t,e).next((function(t){if(t){var r=t.keys();return n.mw[e]=r,r}return null}))},t.prototype._o=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ri(t).vw({index:Xi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ae(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.yw(e)),i.done()})).next((function(){return o}))},t.prototype.ro=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ri(t).vw({index:Xi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qs=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ri(t).aw(Xi.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.yw(t)}))}))},t.prototype.Qh=function(t,e){var n=this,r=$i.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Di(t).vw({range:i},(function(r,i,s){var l=r[0],a=r[2],u=Cn(r[1]);if(l===n.userId&&e.path.isEqual(u))return Ri(t).get(a).next((function(t){if(!t)throw Pe("Dangling document-mutation reference found: "+r+" which points to "+a);Ae(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+a),o.push(n.serializer.yw(t))}));s.done()})).next((function(){return o}))},t.prototype.zh=function(t,e){var n=this,r=new A(Re),i=[];return e.forEach((function(e){var o=$i.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),l=Di(t).vw({range:s},(function(t,i,o){var s=t[0],l=t[2],a=Cn(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(l):o.done()}));i.push(l)})),Ge.pu(i).next((function(){return n._w(t,r)}))},t.prototype.Xh=function(t,e){var n=this;Ae(!e.Tn(),"Document queries shouldn't go down this path"),Ae(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=$i.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),l=new A(Re);return Di(t).vw({range:s},(function(t,e,o){var s=t[0],a=t[2],u=Cn(t[1]);s===n.userId&&r.G(u)?u.length===i&&(l=l.add(a)):o.done()})).next((function(){return n._w(t,l)}))},t.prototype._w=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ri(t).get(e).next((function(t){if(null===t)throw Pe("Dangling document-mutation reference found, which points to "+e);Ae(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.yw(t))})))})),Ge.pu(i).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this;return Ni(t.Iw,this.userId,e).next((function(r){return t.Lh((function(){n.Uo(e.batchId)})),Ge.forEach(r,(function(e){return n.Cs.lc(t,e)}))}))},t.prototype.Uo=function(t){delete this.mw[t]},t.prototype.to=function(t){var e=this;return this.oc(t).next((function(n){if(!n)return Ge.resolve();var r=IDBKeyRange.lowerBound($i.prefixForUser(e.userId)),i=[];return Di(t).vw({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Cn(t[1]);i.push(o)}else r.done()})).next((function(){Ae(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.J()})))}))}))},t.prototype.fs=function(t,e){return Ai(t,this.userId,e)},t.prototype.bw=function(t){var e=this;return Mi(t).get(this.userId).next((function(t){return t||new Ji(e.userId,-1,"")}))},t}();function Ai(t,e,n){var r=$i.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Di(t).vw({range:o,dw:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ni(t,e,n){var r=t.store(Xi.store),i=t.store($i.store),o=[],s=IDBKeyRange.only(n.batchId),l=0,a=r.vw({range:s},(function(t,e,n){return l++,n.delete()}));o.push(a.next((function(){Ae(1===l,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=$i.key(e,d.key.path,n.batchId);o.push(i.delete(p)),u.push(d.key)}return Ge.pu(o).next((function(){return u}))}function Ri(t){return vo.nw(t,Xi.store)}function Di(t){return vo.nw(t,$i.store)}function Mi(t){return vo.nw(t,Ji.store)}var Li=function(){function t(t,e){this.Cs=t,this.serializer=e,this.Sc=kn.Ic()}return t.prototype.Ro=function(t){var e=this;return this.Tw(t).next((function(n){return n.highestTargetId=e.Sc.after(n.highestTargetId),e.Ew(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.oo=function(t){return this.Tw(t).next((function(t){return w.P(new b(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ac=function(t){return Vi(t.Iw)},t.prototype.wo=function(t,e,n){var r=this;return this.Tw(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.O()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ew(t,i)}))},t.prototype.So=function(t,e){var n=this;return this.Cc(t,e).next((function(){return n.Tw(t).next((function(r){return r.targetCount+=1,n.Dw(e,r),n.Ew(t,r)}))}))},t.prototype.do=function(t,e){return this.Cc(t,e)},t.prototype.Pc=function(t,e){var n=this;return this.Vc(t,e.targetId).next((function(){return Fi(t).delete(e.targetId)})).next((function(){return n.Tw(t)})).next((function(e){return Ae(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Ew(t,e)}))},t.prototype.Ju=function(t,e,n){var r=this,i=0,o=[];return Fi(t).vw((function(s,l){var a=r.serializer.Rw(l);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Pc(t,a)))})).next((function(){return Ge.pu(o)})).next((function(){return i}))},t.prototype.$i=function(t,e){var n=this;return Fi(t).vw((function(t,r){var i=n.serializer.Rw(r);e(i)}))},t.prototype.Tw=function(t){return Ui(t.Iw)},t.prototype.Ew=function(t,e){return(n=t,vo.nw(n,oo.store)).put(oo.key,e);var n},t.prototype.Cc=function(t,e){return Fi(t).put(this.serializer.Sw(e))},t.prototype.Dw=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.kc=function(t){return this.Tw(t).next((function(t){return t.targetCount}))},t.prototype.Do=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Fi(t).vw({range:i,index:ro.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.Rw(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.ao=function(t,e,n){var r=this,i=[],o=ji(t);return e.forEach((function(e){var s=_n(e.path);i.push(o.put(new io(n,s))),i.push(r.Cs.es(t,e))})),Ge.pu(i)},t.prototype.co=function(t,e,n){var r=this,i=ji(t);return Ge.forEach(e,(function(e){var o=_n(e.path);return Ge.pu([i.delete([n,o]),r.Cs.us(t,e)])}))},t.prototype.Vc=function(t,e){var n=ji(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Po=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ji(t),i=ee();return r.vw({range:n,dw:!0},(function(t,e,n){var r=Cn(t[1]),o=new I(r);i=i.add(o)})).next((function(){return i}))},t.prototype.fs=function(t,e){var n=_n(e.path),r=IDBKeyRange.bound([n],[Me(n)],!1,!0),i=0;return ji(t).vw({index:io.documentTargetsIndex,dw:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.ce=function(t,e){var n=this;return Fi(t).get(e).next((function(t){return t?n.serializer.Rw(t):null}))},t}();function Fi(t){return vo.nw(t,ro.store)}function Ui(t){return Ei.nw(t,oo.store).get(oo.key).next((function(t){return Ae(null!==t,"Missing metadata row."),t}))}function Vi(t){return Ui(t).next((function(t){return t.highestListenSequenceNumber}))}function ji(t){return vo.nw(t,io.store)}var qi=function(){function t(t,e){this.serializer=t,this.Bh=e}return t.prototype.ms=function(t,e,n){return zi(t).put(Hi(e),n)},t.prototype.bs=function(t,e){var n=zi(t),r=Hi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Aw(t,r)}))},t.prototype.gs=function(t,e){var n=this;return zi(t).get(Hi(e)).next((function(t){return n.Cw(t)}))},t.prototype.Pw=function(t,e){var n=this;return zi(t).get(Hi(e)).next((function(t){var e=n.Cw(t);return e?{vc:e,size:Wi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Yt();return this.Vw(t,e,(function(t,e){var i=n.Cw(e);r=r.ut(t,i)})).next((function(){return r}))},t.prototype.kw=function(t,e){var n=this,r=Yt(),i=new k(I.F);return this.Vw(t,e,(function(t,e){var o=n.Cw(e);o?(r=r.ut(t,o),i=i.ut(t,Wi(e))):(r=r.ut(t,null),i=i.ut(t,0))})).next((function(){return{Nw:r,Ow:i}}))},t.prototype.Vw=function(t,e,n){if(e.M())return Ge.resolve();var r=IDBKeyRange.bound(e.first().path.K(),e.last().path.K()),i=e.ft(),o=i.bt();return zi(t).vw({range:r},(function(t,e,r){for(var s=I.rt(t);o&&I.F(o,s)<0;)n(o,null),o=i.bt();o&&o.isEqual(s)&&(n(o,e),o=i.gt()?i.bt():null),o?r.hw(o.path.K()):r.done()})).next((function(){for(;o;)n(o,null),o=i.gt()?i.bt():null}))},t.prototype.Vo=function(t,e,n){var r=this;Ae(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Xt(),o=e.path.length+1,s={};if(n.isEqual(w.MIN)){var l=e.path.K();s.range=IDBKeyRange.lowerBound(l)}else{var a=e.path.K(),u=this.serializer.Fw(n);s.range=IDBKeyRange.lowerBound([a,u],!0),s.index=eo.collectionReadTimeIndex}return zi(t).vw(s,(function(t,n,s){if(t.length===o){var l=r.serializer.Uw(n);e.path.G(l.key.path)?l instanceof It&&e.matches(l)&&(i=i.ut(l.key,l)):s.done()}})).next((function(){return i}))},t.prototype.Lo=function(t,e){var n=this,r=Qt(),i=this.serializer.Fw(e),o=zi(t),s=IDBKeyRange.lowerBound(i,!0);return o.vw({index:eo.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Uw(e);r=r.ut(o.key,o),i=e.readTime})).next((function(){return{Mo:r,readTime:n.serializer.jw(i)}}))},t.prototype.qo=function(t){var e=this,n=zi(t),r=w.MIN;return n.vw({index:eo.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.jw(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Xs=function(e){return new t.mc(this,!!e&&e.$s)},t.prototype.pc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Bi(t).get(no.key).next((function(t){return Ae(!!t,"Missing document cache metadata"),t}))},t.prototype.Aw=function(t,e){return Bi(t).put(no.key,e)},t.prototype.Cw=function(t){if(t){var e=this.serializer.Uw(t);return e instanceof kt&&e.version.isEqual(w.V())?null:e}return null},t.mc=function(t){function e(e,n){var r=t.call(this)||this;return r.bc=e,r.$s=n,r.xw=new je((function(t){return t.toString()})),r}return o.__extends(e,t),e.prototype.Is=function(t){var e=this,n=[],r=0,i=new A((function(t,e){return Re(t.J(),e.J())}));return this.ds.forEach((function(o,s){var l=e.xw.get(o);if(Ae(void 0!==l,"Cannot modify a document that wasn't read (for "+o+")"),s){Ae(!e.readTime.isEqual(w.MIN),"Cannot add a document with a read time of zero");var a=e.bc.serializer.Lw(s,e.readTime);i=i.add(o.path.L());var u=Wi(a);r+=u-l,n.push(e.bc.ms(t,o,a))}else if(r-=l,e.$s){var c=e.bc.serializer.Lw(new kt(o,w.V()),e.readTime);n.push(e.bc.ms(t,o,c))}else n.push(e.bc.bs(t,o))})),i.forEach((function(r){n.push(e.bc.Bh.rc(t,r))})),n.push(this.bc.updateMetadata(t,r)),Ge.pu(n)},e.prototype.ys=function(t,e){var n=this;return this.bc.Pw(t,e).next((function(t){return null===t?(n.xw.set(e,0),null):(n.xw.set(e,t.size),t.vc)}))},e.prototype._s=function(t,e){var n=this;return this.bc.kw(t,e).next((function(t){var e=t.Nw;return t.Ow.forEach((function(t,e){n.xw.set(t,e)})),e}))},e}(en),t}();function Bi(t){return vo.nw(t,no.store)}function zi(t){return vo.nw(t,eo.store)}function Hi(t){return t.path.K()}function Wi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Pe("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Gi=10,Ki=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ae(n<r&&n>=0&&r<=Gi,"Unexpected schema upgrade from v"+n+" to v"+r+".");var o=new Si(e);n<1&&r>=1&&(function(t){t.createObjectStore(Yi.store)}(t),function(t){t.createObjectStore(Ji.store,{keyPath:Ji.keyPath}),t.createObjectStore(Xi.store,{keyPath:Xi.keyPath,autoIncrement:!0}).createIndex(Xi.userMutationsIndex,Xi.userMutationsKeyPath,{unique:!0}),t.createObjectStore($i.store)}(t),lo(t),function(t){t.createObjectStore(eo.store)}(t));var s=Ge.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(io.store),t.deleteObjectStore(ro.store),t.deleteObjectStore(oo.store)}(t),lo(t)),s=s.next((function(){return function(t){var e=t.store(oo.store),n=new oo(0,0,w.MIN.O(),0);return e.put(oo.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Xi.store).aw().next((function(n){t.deleteObjectStore(Xi.store),t.createObjectStore(Xi.store,{keyPath:Xi.keyPath,autoIncrement:!0}).createIndex(Xi.userMutationsIndex,Xi.userMutationsKeyPath,{unique:!0});var r=e.store(Xi.store),i=n.map((function(t){return r.put(t)}));return Ge.pu(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ao.store,{keyPath:ao.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(no.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(eo.store);e.createIndex(eo.readTimeIndex,eo.readTimeIndexPath,{unique:!1}),e.createIndex(eo.collectionReadTimeIndex,eo.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(eo.store).vw((function(t,n){e+=Wi(n)})).next((function(){var n=new no(e);return t.store(no.store).put(no.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ji.store),r=t.store(Xi.store);return n.aw().next((function(n){return Ge.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.aw(Xi.userMutationsIndex,i).next((function(r){return Ge.forEach(r,(function(r){Ae(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.yw(r);return Ni(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(io.store),n=t.store(eo.store);return Vi(t).next((function(t){var r=[];return n.vw((function(n,i){var o=new E(n),s=function(t){return[0,_n(t)]}(o);r.push(e.get(s).next((function(n){return n?Ge.resolve():function(n){return e.put(new io(0,_n(n),t))}(o)})))})).next((function(){return Ge.pu(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(so.store,{keyPath:so.keyPath});var n=e.store(so.store),r=new Tn,i=function(t){if(r.add(t)){var e=t.B(),i=t.L();return n.put({collectionId:e,parent:_n(i)})}};return e.store(eo.store).vw({dw:!0},(function(t,e){var n=new E(t);return i(n.L())})).next((function(){return e.store($i.store).vw({dw:!0},(function(t,e){var n=Cn(t[1]);return i(n.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ro.store);return n.vw((function(t,r){var i=e.serializer.Rw(r),o=e.serializer.Sw(i);return n.put(o)}))},t}(),Qi=function(t,e){this.seconds=t,this.nanoseconds=e},Yi=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),Ji=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Xi=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),$i=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_n(e)]},t.key=function(t,e,n){return[t,_n(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Zi=function(t,e){this.path=t,this.readTime=e},to=function(t,e){this.path=t,this.version=e},eo=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),no=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),ro=function(){function t(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),io=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,Ae(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),oo=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),so=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function lo(t){t.createObjectStore(io.store,{keyPath:io.keyPath}).createIndex(io.documentTargetsIndex,io.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ro.store,{keyPath:ro.keyPath}).createIndex(ro.queryTargetsIndexName,ro.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(oo.store)}var ao=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),uo=o.__spreadArrays([Ji.store,Xi.store,$i.store,eo.store,ro.store,Yi.store,oo.store,io.store],[ao.store]),co=o.__spreadArrays(uo,[no.store]),ho=o.__spreadArrays(co,[so.store]),po=function(){function t(){this.Mw=new Tn}return t.prototype.rc=function(t,e){var n=this;if(Ae(e.length%2==1,"Expected a collection path."),!this.Mw.has(e)){var r=e.B(),i=e.L();t.Lh((function(){n.Mw.add(e)}));var o={collectionId:r,parent:_n(i)};return fo(t).put(o)}return Ge.resolve()},t.prototype.Yh=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Me(e),""],!1,!0);return fo(t).aw(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Cn(o.parent))}return n}))},t}();function fo(t){return vo.nw(t,so.store)}var go=function(){function t(t){this.qw=t}return t.prototype.Uw=function(t){if(t.document)return this.qw.Ae(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=I.rt(t.noDocument.path),n=this.Bw(t.noDocument.readTime);return new kt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=I.rt(t.unknownDocument.path),n=this.Bw(t.unknownDocument.version),new xt(e,n)):Pe("Unexpected DbRemoteDocument")},t.prototype.Lw=function(t,e){var n=this.Fw(e),r=t.key.path.L().K();if(t instanceof It){var i=this.qw.Se(t),o=t.hasCommittedMutations;return new eo(null,null,i,o,n,r)}if(t instanceof kt){var s=t.key.path.K(),l=this.Qw(t.version);return o=t.hasCommittedMutations,new eo(null,new Zi(s,l),null,o,n,r)}if(t instanceof xt){s=t.key.path.K();var a=this.Qw(t.version);return new eo(new to(s,a),null,null,!0,n,r)}return Pe("Unexpected MaybeDocument")},t.prototype.Fw=function(t){var e=t.O();return[e.seconds,e.nanoseconds]},t.prototype.jw=function(t){var e=new b(t[0],t[1]);return w.P(e)},t.prototype.Qw=function(t){var e=t.O();return new Qi(e.seconds,e.nanoseconds)},t.prototype.Bw=function(t){var e=new b(t.seconds,t.nanoseconds);return w.P(e)},t.prototype.gw=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.qw.Fe(t)})),i=e.mutations.map((function(t){return n.qw.Fe(t)}));return new Xi(t,e.batchId,e.gr.toMillis(),r,i)},t.prototype.yw=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.qw.Le(t)})),r=t.mutations.map((function(t){return e.qw.Le(t)})),i=b.fromMillis(t.localWriteTimeMs);return new Ue(t.batchId,i,n,r)},t.prototype.Gw=function(t){var e=[];return t.forEach((function(t){e.push(_n(t.path))})),e},t.prototype.Ww=function(t){for(var e=ee(),n=0,r=t;n<r.length;n++)e=e.add(new I(Cn(r[n])));return e},t.prototype.Rw=function(t){var e,n=this.Bw(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Bw(t.lastLimboFreeSnapshotVersion):w.MIN;return e=void 0!==t.query.documents?this.qw.ze(t.query):this.qw.Xe(t.query),new zt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,L.fromBase64String(t.resumeToken))},t.prototype.Sw=function(t){Ae(0===t.ti,"Only queries with purpose 0 may be stored, got "+t.ti);var e,n=this.Qw(t.ni),r=this.Qw(t.lastLimboFreeSnapshotVersion);e=t.target.Tn()?this.qw.We(t.target):this.qw.Ke(t.target);var i=t.resumeToken.toBase64();return new ro(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),mo="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",yo=function(t){function e(e,n){var r=t.call(this)||this;return r.Iw=e,r.fo=n,r}return o.__extends(e,t),e}(mn),vo=function(){function t(e,n,r,i,o,s,l,a){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.zo=s,this.zw=a,this.Fc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Kw=null,this.inForeground=!1,this.Jw=null,this.Hw=null,this.Yw=Number.NEGATIVE_INFINITY,this.Xw=function(t){return Promise.resolve()},this.Cs=new wo(this,o),this.$w=n+t.Zw,this.serializer=new go(l),this.document=i.document,this.Os=new Li(this.Cs,this.serializer),this.Bh=new po,this.qh=new qi(this.serializer,this.Bh),!i.window||!i.window.localStorage)throw new p(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.tm=this.window.localStorage}return t.nw=function(t,e){if(t instanceof yo)return Ei.nw(t.Iw,e);throw Pe("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.nm=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!t.th())throw new p(d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.im,e.zo,e.serializer,e.zw)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return Ae(!this.qu,"IndexedDbPersistence double-started!"),Ae(null!==this.window,"Expected 'window' to be defined"),Ei.Xv(this.$w,Gi,new Ki(this.serializer)).then((function(e){return t.em=e,t.rm()})).then((function(){return t.um(),t.sm(),t.om(),t.em.runTransaction("readonly",[oo.store],(function(t){return Vi(t)}))})).then((function(e){t.Oc=new Be(e,t.zw)})).then((function(){t.Fc=!0})).catch((function(e){return t.em&&t.em.close(),Promise.reject(e)}))},t.prototype.jc=function(t){var e=this;return this.Xw=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.qu?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.xc=function(t){var e=this;this.em.iw((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.jo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.zo.Qr((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.qu?[4,this.rm()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.rm=function(){var t=this;return this.em.runTransaction("readwrite",ho,(function(e){return bo(e).put(new ao(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.hm(e).next((function(e){e||(t.isPrimary=!1,t.zo.Qr((function(){return t.Xw(!1)})))}))})).next((function(){return t.cm(e)})).next((function(n){return t.isPrimary&&!n?t.am(e).next((function(){return!1})):!!n&&t.fm(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.zo.Qr((function(){return t.Xw(e)})),t.isPrimary=e}))},t.prototype.hm=function(t){var e=this;return _o(t).get(Yi.key).next((function(t){return Ge.resolve(e.lm(t))}))},t.prototype.dm=function(t){return bo(t).delete(this.clientId)},t.prototype.vm=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.wm(this.Yw,18e5)?[3,2]:(this.Yw=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.nw(n,ao.store);return r.aw().next((function(t){var n=e.mm(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Ge.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.pm(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.om=function(){var t=this;this.Hw=this.zo.iu("client_metadata_refresh",4e3,(function(){return t.rm().then((function(){return t.vm()})).then((function(){return t.om()}))}))},t.prototype.lm=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.cm=function(t){var e=this;return _o(t).get(Yi.key).next((function(n){if(null!==n&&e.wm(n.leaseTimestampMs,5e3)&&!e.bm(n.ownerId)){if(e.lm(n)&&e.networkEnabled)return!0;if(!e.lm(n)){if(!n.allowTabSynchronization)throw new p(d.FAILED_PRECONDITION,mo);return!1}}return!(!e.networkEnabled||!e.inForeground)||bo(t).aw().next((function(t){return void 0===e.mm(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ke("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.Fc=!1,this.gm(),this.Hw&&(this.Hw.cancel(),this.Hw=null),this.ym(),this._m(),[4,this.em.runTransaction("readwrite",[Yi.store,ao.store],(function(e){return t.am(e).next((function(){return t.dm(e)}))}))];case 1:return e.sent(),this.em.close(),this.Im(),[2]}}))}))},t.prototype.mm=function(t,e){var n=this;return t.filter((function(t){return n.wm(t.updateTimeMs,e)&&!n.bm(t.clientId)}))},t.prototype.Oo=function(){var t=this;return this.em.runTransaction("readonly",[ao.store],(function(e){return bo(e).aw().next((function(e){return t.mm(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.th()?[4,Ei.delete(e+t.Zw)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Fc},enumerable:!0,configurable:!0}),t.prototype.Vs=function(t){return Ae(this.qu,"Cannot initialize MutationQueue before persistence is started."),Pi.pw(t,this.serializer,this.Bh,this.Cs)},t.prototype.Fs=function(){return Ae(this.qu,"Cannot initialize TargetCache before persistence is started."),this.Os},t.prototype.Ns=function(){return Ae(this.qu,"Cannot initialize RemoteDocumentCache before persistence is started."),this.qh},t.prototype.js=function(){return Ae(this.qu,"Cannot initialize IndexManager before persistence is started."),this.Bh},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ke("IndexedDbPersistence","Starting transaction:",t),this.em.runTransaction("readonly"===e?"readonly":"readwrite",ho,(function(o){return r=new yo(o,i.Oc.next()),"readwrite-primary"===e?i.hm(o).next((function(t){return!!t||i.cm(o)})).next((function(e){if(!e)throw xe("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.zo.Qr((function(){return i.Xw(!1)})),new p(d.FAILED_PRECONDITION,gn);return n(r)})).next((function(t){return i.fm(o).next((function(){return t}))})):i.Tm(o).next((function(){return n(r)}))})).then((function(t){return r.Mh(),t}))},t.prototype.Tm=function(t){var e=this;return _o(t).get(Yi.key).next((function(t){if(null!==t&&e.wm(t.leaseTimestampMs,5e3)&&!e.bm(t.ownerId)&&!e.lm(t)&&!t.allowTabSynchronization)throw new p(d.FAILED_PRECONDITION,mo)}))},t.prototype.fm=function(t){var e=new Yi(this.clientId,this.allowTabSynchronization,Date.now());return _o(t).put(Yi.key,e)},t.th=function(){return Ei.th()},t.Em=function(t){var e=t.ae.projectId;return t.ae.br||(e+="."+t.ae.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.am=function(t){var e=this,n=_o(t);return n.get(Yi.key).next((function(t){return e.lm(t)?(ke("IndexedDbPersistence","Releasing primary lease."),n.delete(Yi.key)):Ge.resolve()}))},t.prototype.wm=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(xe("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.um=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jw=function(){t.zo.Qr((function(){return t.inForeground="visible"===t.document.visibilityState,t.rm()}))},this.document.addEventListener("visibilitychange",this.Jw),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ym=function(){this.Jw&&(Ae(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Jw),this.Jw=null)},t.prototype.sm=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Kw=function(){t.gm(),t.zo.Qr((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Kw))},t.prototype._m=function(){this.Kw&&(Ae("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Kw),this.Kw=null)},t.prototype.bm=function(t){try{var e=null!==this.tm.getItem(this.pm(t));return ke("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return xe("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.gm=function(){try{this.tm.setItem(this.pm(this.clientId),String(Date.now()))}catch(t){xe("Failed to set zombie client id.",t)}},t.prototype.Im=function(){try{this.tm.removeItem(this.pm(this.clientId))}catch(t){}},t.prototype.pm=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Zw="main",t}();function _o(t){return t.store(Yi.store)}function bo(t){return t.store(ao.store)}var wo=function(){function t(t,e){this.db=t,this.Bc=null,this.ju=new $e(this,e)}return t.prototype.Wu=function(t){var e=this.Dm(t);return this.db.Fs().kc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dm=function(t){var e=0;return this.Ku(t,(function(t){e++})).next((function(){return e}))},t.prototype.$i=function(t,e){return this.db.Fs().$i(t,e)},t.prototype.Ku=function(t,e){return this.Rm(t,(function(t,n){return e(n)}))},t.prototype.As=function(t){this.Bc=t},t.prototype.es=function(t,e){return Co(t,e)},t.prototype.us=function(t,e){return Co(t,e)},t.prototype.Ju=function(t,e,n){return this.db.Fs().Ju(t,e,n)},t.prototype.lc=function(t,e){return Co(t,e)},t.prototype.Sm=function(t,e){return this.Bc.fs(e)?Ge.resolve(!0):function(t,e){var n=!1;return Mi(t).ww((function(r){return Ai(t,r,e).next((function(t){return t&&(n=!0),Ge.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Hu=function(t,e){var n=this,r=this.db.Ns().Xs(),i=[],o=0;return this.Rm(t,(function(s,l){if(l<=e){var a=n.Sm(t,s).next((function(e){if(!e)return o++,r.gs(t,s).next((function(){return r.bs(s),ji(t).delete([0,_n(s.path)])}))}));i.push(a)}})).next((function(){return Ge.pu(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.ii(t.fo);return this.db.Fs().do(t,n)},t.prototype.vo=function(t,e){return Co(t,e)},t.prototype.Rm=function(t,e){var n,r=ji(t),i=Be.Nr;return r.vw({index:io.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Be.Nr&&e(new I(Cn(n)),i),i=s,n=o):i=Be.Nr})).next((function(){i!==Be.Nr&&e(new I(Cn(n)),i)}))},t.prototype.Xu=function(t){return this.db.Ns().pc(t)},t}();function Co(t,e){return ji(t).put(function(t,e){return new io(0,_n(t.path),e)}(e,t.fo))}var Eo=function(){function t(){}return t.prototype.initialize=function(t,e,n,r,i,s){return o.__awaiter(this,void 0,void 0,(function(){var l,a,u;return o.__generator(this,(function(o){switch(o.label){case 0:if(Ae(s.zc,"IndexedDbPersistenceProvider can only provide durable persistence"),Ae(!this.persistence,"configure() already called"),l=vo.Em(e),a=new we(e.ae,{de:Ee.xt().de}),!pn.th(n))throw new p(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return this.Ml=s.synchronizeTabs?new pn(t,n,l,r,i):new fn,u=this,[4,vo.nm({allowTabSynchronization:s.synchronizeTabs,persistenceKey:l,clientId:r,platform:n,zo:t,serializer:a,im:Je.Pu(s.cacheSizeBytes),zw:this.Ml})];case 1:return u.persistence=o.sent(),this.Md=new Xe(this.persistence.Cs.ju,t),[2]}}))}))},t.prototype.Jc=function(){return Ae(!!this.persistence,"initialize() not called"),this.persistence},t.prototype.Hc=function(){return Ae(!!this.Ml,"initialize() not called"),this.Ml},t.prototype.Kc=function(){return Ae(!!this.Md,"initialize() not called"),this.Md},t.prototype.clearPersistence=function(t){var e=vo.Em(t);return vo.clearPersistence(e)},t}(),To={Firestore:fi,GeoPoint:_r,Timestamp:b,Blob:ur,Transaction:gi,WriteBatch:mi,DocumentReference:yi,DocumentSnapshot:vi,Query:bi,QueryDocumentSnapshot:_i,QuerySnapshot:wi,CollectionReference:Ci,FieldPath:cr,FieldValue:vr,setLogLevel:Xr.setLogLevel,CACHE_SIZE_UNLIMITED:Yr},So=function(){function t(){}return t.prototype.jf=function(t){},t.prototype.shutdown=function(){},t}(),Io=function(){function t(){var t=this;this.Am=function(){return t.Cm()},this.Pm=function(){return t.Vm()},this.km=[],this.Nm()}return t.prototype.jf=function(t){this.km.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Am),window.removeEventListener("offline",this.Pm)},t.prototype.Nm=function(){window.addEventListener("online",this.Am),window.addEventListener("offline",this.Pm)},t.prototype.Cm=function(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.km;t<e.length;t++)(0,e[t])(0)},t.prototype.Vm=function(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.km;t<e.length;t++)(0,e[t])(1)},t.th=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ko=function(){function t(t){this.Om=t.Om,this.Fm=t.Fm}return t.prototype.Ea=function(t){Ae(!this.Um,"Called onOpen on stream twice!"),this.Um=t},t.prototype.ga=function(t){Ae(!this.jm,"Called onClose on stream twice!"),this.jm=t},t.prototype.onMessage=function(t){Ae(!this.xm,"Called onMessage on stream twice!"),this.xm=t},t.prototype.close=function(){this.Fm()},t.prototype.send=function(t){this.Om(t)},t.prototype.Lm=function(){Ae(void 0!==this.Um,"Cannot call onOpen because no callback was set"),this.Um()},t.prototype.Mm=function(t){Ae(void 0!==this.jm,"Cannot call onClose because no callback was set"),this.jm(t)},t.prototype.qm=function(t){Ae(void 0!==this.xm,"Cannot call onMessage because no callback was set"),this.xm(t)},t}(),xo={BatchGetDocuments:"batchGet",Commit:"commit"},Oo="gl-js/ fire/"+c,Po=function(){function t(t){this.ae=t.ae,this.Bm=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Qm=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=Oo},t.prototype.Ua=function(t,e,n){var r=this,i=this.Gm(t);return new Promise((function(s,l){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();ke("Connection","XHR received:",JSON.stringify(e)),s(e);break;case u.ErrorCode.TIMEOUT:ke("Connection",'RPC "'+t+'" timed out'),l(new p(d.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(ke("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status.toLowerCase().replace("_","-"),Object.values(d).indexOf(o)>=0?o:d.UNKNOWN);l(new p(i,r.message))}else l(new p(d.UNKNOWN,"Server responded with status "+a.getStatus()))}else ke("Connection",'RPC "'+t+'" failed'),l(new p(d.UNAVAILABLE,"Connection failed."));break;default:Pe('RPC "'+t+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{ke("Connection",'RPC "'+t+'" completed.')}var o}));var c=o.__assign({},e);delete c.database;var h=JSON.stringify(c);ke("Connection","XHR sending: ",i+" "+h);var f={"Content-Type":"text/plain"};r.Qm(f,n),a.send(i,"POST",h,f,15)}))},t.prototype.ja=function(t,e,n){return this.Ua(t,e,n)},t.prototype.Da=function(t,e){var n=[this.Bm,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ae.projectId+"/databases/"+this.ae.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Qm(i.initMessageHeaders,e),l.isMobileCordova()||l.isReactNative()||l.isElectron()||l.isIE()||l.isUWP()||l.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ke("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),a=!1,c=!1,h=new ko({Om:function(t){c?ke("Connection","Not sending because WebChannel is closed:",t):(a||(ke("Connection","Opening WebChannel transport."),s.open(),a=!0),ke("Connection","WebChannel sending:",t),s.send(t))},Fm:function(){return s.close()}}),f=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u.WebChannel.EventType.OPEN,(function(){c||ke("Connection","WebChannel transport opened.")})),f(u.WebChannel.EventType.CLOSE,(function(){c||(c=!0,ke("Connection","WebChannel transport closed"),h.Mm())})),f(u.WebChannel.EventType.ERROR,(function(t){c||(c=!0,ke("Connection","WebChannel transport errored:",t),h.Mm(new p(d.UNAVAILABLE,"The operation could not be completed")))})),f(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ae(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ke("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ht[t];if(void 0!==e)return Gt(e)}(i),l=r.message;void 0===o&&(o=d.INTERNAL,l="Unknown error status: "+i+" with message "+r.message),c=!0,h.Mm(new p(o,l)),s.close()}else ke("Connection","WebChannel received:",n),h.qm(n)}})),setTimeout((function(){h.Lm()}),0),h},t.prototype.Gm=function(t){var e=xo[t];return Ae(void 0!==e,"Unknown REST mapping for: "+t),this.Bm+"/v1/projects/"+this.ae.projectId+"/databases/"+this.ae.database+"/documents:"+e},t}(),Ao=window.crypto||window.__PRIVATE_msCrypto,No=function(){function t(){this.de=!0,this.xa="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.Bd=function(t){return Promise.resolve(new Po(t))},t.prototype.Qd=function(){return Io.th()?new Io:new So},t.prototype.Gd=function(t){return new we(t,{de:!0})},t.prototype.mr=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype.randomBytes=function(t){if(t<=0)return new Uint8Array;var e=new Uint8Array(t);return Ao.getRandomValues(e),e},t}();function Ro(t){!function(t,e){t.INTERNAL.registerComponent(new a.Component("firestore",(function(t){return function(t,e){return new Xr(t,e,new Eo)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(o.__assign({},To)))}(t),t.registerVersion("@firebase/firestore","1.13.1")}Ee.wr(new No),Ro(i),e.__PRIVATE_registerFirestore=Ro},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("mrSG"),l=n("zVF4"),a=n("q/0M"),u=n("S+S0"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),l.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:l.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return l.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new h},p=d("localStorage"),f=d("sessionStorage"),g=new a.Logger("@firebase/database"),m=(i=1,function(){return i++}),y=function(t){var e=l.stringToByteArray(t),n=new l.Sha1;n.update(e);var r=n.digest();return l.base64.encodeByteArray(r)},v=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?l.stringify(o):o,r+=" "}return r},_=null,b=!0,w=function(t,e){l.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=a.LogLevel.VERBOSE,_=g.log.bind(g),e&&f.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,f.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===_&&!0===f.get("logging_enabled")&&w(!0)),_){var n=v.apply(null,t);_(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,s.__spread([t],e))}},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,s.__spread(t));g.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,s.__spread(t));throw g.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,s.__spread(t));g.warn(n)},k=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",O="[MAX_NAME]",P=function(t,e){if(t===e)return 0;if(t===x||e===O)return-1;if(e===x||t===O)return 1;var n=Q(t),r=Q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},A=function(t,e){return t===e?0:t<e?-1:1},N=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+l.stringify(e))},R=function t(e){if("object"!=typeof e||null===e)return l.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=l.stringify(n[o]),i+=":",i+=t(e[n[o]]);return i+"}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,F,U,V,j,q,B,z,H,W,G=function(t){var e,n,r,i,o;l.assert(!k(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var a=s.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(a.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},K=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(t){if(K.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Y=function(t){try{t()}catch(e){setTimeout((function(){throw I("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},J=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),$=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=l.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=l.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=l.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Z=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(l.assert("string"==typeof t,"typeof type must == string"),l.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return M(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),tt=function(t){var e=et(t),n=e.namespace;return"firebase"===e.domain&&S(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Z(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!==e.subdomain),path:new X(e.pathString)}},et=function(t){var e="",n="",r="",i="",o="",l=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=s.__values(t.split("&")),o=i.next();!o.done;o=i.next()){var l=o.value;if(0!==l.length){var a=l.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):I("Invalid query segment '"+l+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(l="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=t.length;var f=e.split(".");3===f.length?(n=f[1],o=r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,c).toLowerCase()&&(n="localhost"),"ns"in p&&(o=p.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:l,scheme:a,pathString:i,namespace:o}},nt=/[\[\].#$\/\u0000-\u001F\u007F]/,rt=/[\[\].#$\u0000-\u001F\u007F]/,it=function(t){return"string"==typeof t&&0!==t.length&&!nt.test(t)},ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!k(t)||t&&"object"==typeof t&&l.contains(t,".sv")},lt=function(t,e,n,r,i){i&&void 0===n||at(l.errorPrefix(t,e,i),n,r)},at=function t(e,n,r){var i=r instanceof X?new $(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(k(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&l.stringLength(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,s=!1;if(M(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!it(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),o&&s)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ut=function(t,e,n,r,i){if(!i||void 0!==n){var o=l.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];M(n,(function(t,e){var n=new X(t);if(at(o,e,r.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!it(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},ct=function(t,e,n,r){if(!r||void 0!==n){if(k(n))throw new Error(l.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(l.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ht=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(l.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},dt=function(t,e,n,r){if(!(r&&void 0===n||it(n)))throw new Error(l.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pt=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(l.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ft=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pt(t,e,n,r)},gt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},mt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!it(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ot(t)}(r))throw new Error(l.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(l.errorPrefix(t,e,r)+"must be a boolean.")},vt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){l.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),l.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new l.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){l.validateArgCount("OnDisconnect.remove",0,1,arguments.length),gt("OnDisconnect.remove",this.path_),l.validateCallback("OnDisconnect.remove",1,t,!0);var e=new l.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){l.validateArgCount("OnDisconnect.set",1,2,arguments.length),gt("OnDisconnect.set",this.path_),lt("OnDisconnect.set",1,t,this.path_,!1),l.validateCallback("OnDisconnect.set",2,e,!0);var n=new l.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){l.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),gt("OnDisconnect.setWithPriority",this.path_),lt("OnDisconnect.setWithPriority",1,t,this.path_,!1),ct("OnDisconnect.setWithPriority",2,e,!1),l.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new l.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(l.validateArgCount("OnDisconnect.update",1,2,arguments.length),gt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("OnDisconnect.update",1,t,this.path_,!1),l.validateCallback("OnDisconnect.update",2,e,!0);var i=new l.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return l.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bt=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F=0,U=[],function(t){var e,n=t===F;F=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);l.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===U[e];e--)U[e]=0;U[e]++}else for(e=0;e<12;e++)U[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(U[e]);return l.assert(20===i.length,"nextPushId: Length should be 20."),i}),wt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ct=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new wt(x,t),r=new wt(x,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return wt.MIN},t}(),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return V},set:function(t){V=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw l.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(O,V)},e.prototype.makePost=function(t,e){return l.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new wt(t,V)},e.prototype.toString=function(){return".key"},e}(Ct),Tt=new Et,St=function(t){return"number"==typeof t?"number:"+G(t):"string:"+t},It=function(t){if(t.isLeafNode()){var e=t.val();l.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&l.contains(e,".sv"),"Priority must be a string or number.")}else l.assert(t===j||t.isEmpty(),"priority of unexpected type.");l.assert(t===j||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},kt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,l.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),It(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return q},set:function(t){q=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(l.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+St(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?G(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(l.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return l.assert(i>=0,"Unknown leaf type: "+n),l.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),xt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(O,new kt("[PRIORITY-POST]",z))},e.prototype.makePost=function(t,e){var n=B(t);return new wt(e,new kt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ct)),Ot=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ot(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ot(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new At,t}(),Rt=Math.log(2),Dt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Rt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,s=function(e,r){var i=o-e,s=o;o-=e;var a=function e(r,i){var o,s,l=i-r;if(0===l)return null;if(1===l)return o=t[r],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,null,null);var a=parseInt(l/2,10)+r,u=e(r,a),c=e(a+1,i);return o=t[a],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,u,c)}(i+1,s),u=t[i],c=n?n(u):u;l(new Pt(c,u.node,r,null,a))},l=function(t){r?(r.left=t,r=t):(i=t,r=t)},a=0;a<e.count;++a){var u=e.nextBitIsOne(),c=Math.pow(2,e.count-(a+1));u?s(c,Pt.BLACK):(s(c,Pt.BLACK),s(c,Pt.RED))}return i}(new Dt(t.length));return new Nt(r||e,i)},Lt={},Ft=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return l.assert(Lt&&xt,"ChildrenNode.ts has not been loaded"),H=H||new t({".priority":Lt},{".priority":xt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=l.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null},t.prototype.hasIndex=function(t){return l.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){l.assert(e!==Tt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(wt.Wrap),u=a.getNext();u;)o=o||e.isDefinedOn(u.node),i.push(u),u=a.getNext();r=o?Mt(i,e.getCompare()):Lt;var c=e.toString(),h=s.__assign({},this.indexSet_);h[c]=e;var d=s.__assign({},this.indexes_);return d[c]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(l.map(this.indexes_,(function(t,i){var o=l.safeGet(r.indexSet_,i);if(l.assert(o,"Missing index implementation for "+i),t===Lt){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(wt.Wrap),u=a.getNext();u;)u.name!==e.name&&s.push(u),u=a.getNext();return s.push(e),Mt(s,o.getCompare())}return Lt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new wt(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(l.map(this.indexes_,(function(t){if(t===Lt)return t;var r=n.get(e.name);return r?t.remove(new wt(e.name,r)):t})),this.indexSet_)},t}();function Ut(t,e){return P(t.name,e.name)}function Vt(t,e){return P(t,e)}var jt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&It(this.priorityNode_),this.children_.isEmpty()&&l.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return W||(W=new t(new Nt(Vt),null,Ft.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||W},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?W:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(l.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new wt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?W:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;l.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(xt,(function(s,l){n[s]=l.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var l in n)s[l]=n[l];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+St(this.getPriority().val())+":"),this.forEachChild(xt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new wt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,wt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,wt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qt?-1:0},t.prototype.withIndex=function(e){if(e===Tt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Tt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(xt),r=e.getIterator(xt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Tt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),qt=new(function(t){function e(){return t.call(this,new Nt(Vt),jt.EMPTY_NODE,Ft.Default)||this}return s.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return jt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(jt));function Bt(t,e){if(void 0===e&&(e=null),null===t)return jt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),l.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new kt(t,Bt(e));if(t instanceof Array){var n=jt.EMPTY_NODE;return M(t,(function(e,r){if(l.contains(t,e)&&"."!==e.substring(0,1)){var i=Bt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Bt(e))}var r=[],i=!1;if(M(t,(function(t,e){if("."!==t.substring(0,1)){var n=Bt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new wt(t,n)))}})),0===r.length)return jt.EMPTY_NODE;var o=Mt(r,Ut,(function(t){return t.name}),Vt);if(i){var s=Mt(r,xt.getCompare());return new jt(o,Bt(e),new Ft({".priority":s},{".priority":xt}))}return new jt(o,Bt(e),Ft.Default)}Object.defineProperties(wt,{MIN:{value:new wt(x,jt.EMPTY_NODE)},MAX:{value:new wt(O,qt)}}),Et.__EMPTY_NODE=jt.EMPTY_NODE,kt.__childrenNodeConstructor=jt,j=qt,z=qt,function(t){B=t}(Bt);var zt,Ht=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return wt.MAX},e.prototype.makePost=function(t,e){var n=Bt(t);return new wt(e,n)},e.prototype.toString=function(){return".value"},e}(Ct)),Wt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,l.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Bt(t),r=jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new wt(e,r)},e.prototype.maxPost=function(){var t=jt.EMPTY_NODE.updateChild(this.indexPath_,qt);return new wt(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Ct),Gt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return l.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return l.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return l.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return l.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){l.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),pt("DataSnapshot.child",1,e,!1);var n=new X(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,xt)},t.prototype.hasChild=function(t){l.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),pt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return l.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(l.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),l.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),xt))}))},t.prototype.hasChildren=function(){return l.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return l.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return l.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Kt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+l.stringify(this.snapshot.exportVal())},t}(),Qt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Yt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Kt("value",this,new Gt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){l.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Jt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return l.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.createEvent=function(t,e){l.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Kt(t.type,this,new Gt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){l.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],l=i[0];return!(l!==s||e.callbacks_[s]&&this.callbacks_[l]&&e.callbacks_[s]!==this.callbacks_[l])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return l.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Tt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==x)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===xt){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(l.assert(t.getIndex()instanceof Wt||t.getIndex()===Ht,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return l.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){l.validateArgCount("Query.on",2,4,arguments.length),ht("Query.on",1,e,!1),l.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Yt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Jt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){l.validateArgCount("Query.off",0,3,arguments.length),ht("Query.off",1,t,!0),l.validateCallback("Query.off",2,e,!0),l.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new Yt(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Jt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;l.validateArgCount("Query.once",1,4,arguments.length),ht("Query.once",1,e,!1),l.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),a=!0,u=new l.Deferred;u.promise.catch((function(){}));var c=function t(r){a&&(a=!1,o.off(e,t),n&&n.bind(s.context)(r),u.resolve(r))};return this.on(e,c,(function(t){o.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(l.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(l.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(l.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Wt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){l.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){l.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(xt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){l.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Ht);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),l.validateArgCount("Query.startAt",0,2,arguments.length),lt("Query.startAt",1,e,this.path,!0),dt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),l.validateArgCount("Query.endAt",0,2,arguments.length),lt("Query.endAt",1,e,this.path,!0),dt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(l.validateArgCount("Query.equalTo",1,2,arguments.length),lt("Query.equalTo",1,t,this.path,!1),dt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return l.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return l.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=R(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(l.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,l.validateCallback(t,3,r.cancel,!0),r.context=n,l.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(l.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),$t=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Zt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),te=function(t,e,n){return t&&"object"==typeof t?(l.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ee(t[".sv"],e,n):"object"==typeof t[".sv"]?ne(t[".sv"],e):void l.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ee=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:l.assert(!1,"Unexpected server value: "+t)}},ne=function(t,e,n){t.hasOwnProperty("increment")||l.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&l.assert(!1,"Unexpected increment value: "+r);var i=e.node();if(l.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},re=function(t,e,n,r){return oe(e,new Zt(n,t),r)},ie=function(t,e,n){return oe(t,new $t(e),n)};function oe(t,e,n){var r,i=t.getPriority().val(),o=te(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,l=te(s.getValue(),e,n);return l!==s.getValue()||o!==s.getPriority().val()?new kt(l,Bt(o)):t}var a=t;return r=a,o!==a.getPriority().val()&&(r=r.updatePriority(new kt(o))),a.forEachChild(xt,(function(t,i){var o=oe(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var se,le,ae=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(xt,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new X(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ue=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ce=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,l.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),he=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ue.ACK_USER_WRITE,this.source=ce.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return l.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return l.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),de=function(){function t(t,e){void 0===e&&(se||(se=new Nt(A)),e=se),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return M(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new X(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),pe=function(){function t(t,e){this.source=t,this.path=e,this.type=ue.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),fe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ue.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ge=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ue.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new fe(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return l.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),me=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ye=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new me(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new me(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new me(jt.EMPTY_NODE,!1,!1),new me(jt.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),_e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){l.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,s)):l.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(xt,(function(t,r){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(xt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve.childChangedChange(e,r,i))}else n.trackChildChange(ve.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?jt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;l.assert(e===ve.CHILD_ADDED||e===ve.CHILD_CHANGED||e===ve.CHILD_REMOVED,"Only child changes supported for tracking"),l.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===ve.CHILD_ADDED&&i===ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===ve.CHILD_REMOVED&&i===ve.CHILD_ADDED)this.changeMap.delete(n);else if(e===ve.CHILD_REMOVED&&i===ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,r.oldSnap));else if(e===ve.CHILD_CHANGED&&i===ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!==ve.CHILD_CHANGED||i!==ve.CHILD_CHANGED)throw l.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),we=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ce=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new me(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ee=function(t,e){this.viewCache=t,this.changes=e},Te=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){l.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),l.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,s,a=new be;if(n.type===ue.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,a):(l.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,s,a))}else if(n.type===ue.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,a):(l.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,s,a))}else if(n.type===ue.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,a):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,a)}else{if(n.type!==ue.LISTEN_COMPLETE)throw l.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,a)}var d=a.getChanges();return t.maybeAddValueEvent_(e,o,d),new Ee(o,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(e.isEmpty())if(l.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof jt?u:jt.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"===d){l.assert(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();a=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,a);s=null!=f?this.filter_.updatePriority(p,f):o.getNode()}else{var g=e.popFront(),m=void 0;if(o.isCompleteForChild(d)){a=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);m=null!=y?o.getNode().getImmediateChild(d).updateChild(g,y):o.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());s=null!=m?this.filter_.updateChild(o.getNode(),d,m,g,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var l,a=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())l=u.updateFullNode(a.getNode(),n,null);else if(u.filtersNodes()&&!a.isFiltered()){var c=a.getNode().updateChild(e,n);l=u.updateFullNode(a.getNode(),c,null)}else{var h=e.getFront();if(!a.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=a.getNode().getImmediateChild(h).updateChild(d,n);l=".priority"===h?u.updatePriority(a.getNode(),p):u.updateChild(a.getNode(),h,p,d,we,null)}var f=t.updateServerSnap(l,a.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),g=new Ce(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,l,a=t.getEventCache(),u=new Ce(r,t,i);if(e.isEmpty())l=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(l,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)l=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(l,a.isFullyInitialized(),a.isFiltered());else{var h=e.popFront(),d=a.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):jt.EMPTY_NODE}if(d.equals(p))s=t;else{var g=this.filter_.updateChild(a.getNode(),c,p,h,u,o);s=t.updateEventSnap(g,a.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var l=this,a=e;return r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(a=l.applyUserOverwrite_(a,c,u,i,o,s))})),r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(a=l.applyUserOverwrite_(a,c,u,i,o,s))})),a},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var l=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var a,u=t;a=e.isEmpty()?n:de.Empty.setTree(e,n);var c=t.getServerCache().getNode();return a.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var a=t.getServerCache().getNode().getImmediateChild(e),h=l.applyMerge_(a,n);u=l.applyServerOverwrite_(u,new X(e),h,r,i,o,s)}})),a.children.inorderTraversal((function(e,n){var a=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!a){var h=t.getServerCache().getNode().getImmediateChild(e),d=l.applyMerge_(h,n);u=l.applyServerOverwrite_(u,new X(e),d,r,i,o,s)}})),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),l=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,l.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var a=de.Empty;return l.getNode().forEachChild(Tt,(function(t,e){a=a.set(new X(t),e)})),this.applyServerMerge_(t,e,a,r,i,s,o)}return t}var u=de.Empty;return n.foreach((function(t,n){var r=e.child(t);l.isCompleteForPath(r)&&(u=u.set(t,l.getNode().getChild(r)))})),this.applyServerMerge_(t,e,u,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,we,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new Ce(n,t,r),a=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();l.assert(h instanceof jt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(a,c=c,i)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=a.getImmediateChild(d)),(u=null!=p?this.filter_.updateChild(a,d,p,e.popFront(),s,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(a,d,jt.EMPTY_NODE,e.popFront(),s,i):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Se=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ve.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ve.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw l.assertionError("Should only compare child_ events.");var n=new wt(t.childName,t.snapshotNode),r=new wt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ie=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new _e(n.getIndex()),i=n.getNodeFilter();this.processor_=new Te(i);var o=e.getServerCache(),s=e.getEventCache(),l=r.updateFullNode(jt.EMPTY_NODE,o.getNode(),null),a=i.updateFullNode(jt.EMPTY_NODE,s.getNode(),null),u=new me(l,o.isFullyInitialized(),r.filtersNodes()),c=new me(a,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ye(c,u),this.eventGenerator_=new Se(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){l.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ue.MERGE&&null!==t.source.queryId&&(l.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),l.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),l.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(xt,(function(t,e){n.push(ve.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),ke=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return l.assert(le,"Reference.ts has not been loaded"),le},set:function(t){l.assert(!le,"__referenceConstructor has already been defined"),le=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return l.assert(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var u=[];try{for(var c=s.__values(this.views.values()),h=c.next();!h.done;h=c.next())u=u.concat((a=h.value).applyOperation(t,e,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var l=n.calcCompleteEventCache(i?r:null),a=!1;l?a=!0:r instanceof jt?(l=n.calcCompleteEventChildren(r),a=!1):(l=jt.EMPTY_NODE,a=!1);var u=new ye(new me(l,a,!1),new me(r,i,!1));s=new Ie(t,u),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,l=e.queryIdentifier(),a=[],u=[],c=this.hasCompleteView();if("default"===l)try{for(var h=s.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=s.__read(d.value,2),g=f[0];u=u.concat((p=f[1]).removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(g),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery()))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(p=this.views.get(l))&&(u=u.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(l),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery())));return c&&!this.hasCompleteView()&&a.push(new t.__referenceConstructor(e.repo,e.path)),{removed:a,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=s.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=s.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(t)}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=s.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),xe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new de(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=X.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var l=new de(n);return new t(this.writeTree_.setTree(e,l))},t.prototype.addWrites=function(t,e){var n=this;return M(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,de.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(xt,(function(e,n){t.push(new wt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new wt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new de(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(l.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(X.Empty,this.writeTree_,t)},t.Empty=new t(new de(null)),t}(),Oe=function(){function t(){this.visibleWrites_=xe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Pe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){l.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){l.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));l.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var a=this.allWrites_[s];a.visible&&(s>=n&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(o=!0)),s--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||jt.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var l=this.visibleWrites_.childCompoundWrite(e);return l.isEmpty()?n:null!=n||l.hasCompleteWrite(X.Empty)?l.apply(n||jt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=jt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(xt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(xt,(function(t,e){var r=i.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){l.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,l=this.visibleWrites_.childCompoundWrite(t),a=l.getCompleteNode(X.Empty);if(null!=a)s=a;else{if(null==e)return[];s=l.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&u.length<r;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=xe.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=X.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=X.relativePath(s,n),r=r.addWrite(X.Empty,o.snap.getChild(a)));else{if(!o.children)throw l.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))a=X.relativePath(n,s),r=r.addWrites(a,o.children);else if(s.contains(n))if((a=X.relativePath(s,n)).isEmpty())r=r.addWrites(X.Empty,o.children);else{var u=l.safeGet(o.children,a.getFront());if(u){var c=u.getChild(a.popFront());r=r.addWrite(X.Empty,c)}}}}}return r},t}(),Pe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ae=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=de.Empty,this.pendingWriteTree_=new Oe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new fe(ce.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=de.fromObject(e);return this.applyOperationToSyncPoints_(new ge(ce.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=de.Empty;return null!=n.snap?r=r.set(X.Empty,!0):M(n.children,(function(t,e){r=r.set(new X(t),e)})),this.applyOperationToSyncPoints_(new he(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new fe(ce.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=de.fromObject(e);return this.applyOperationToSyncPoints_(new ge(ce.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new pe(ce.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,l=o.queryId,a=X.relativePath(s,e),u=new fe(ce.forServerTaggedQuery(l),a,n);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,l=o.queryId,a=X.relativePath(s,e),u=de.fromObject(n),c=new ge(ce.forServerTaggedQuery(l),a,u);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,l=X.relativePath(o,e),a=new pe(ce.forServerTaggedQuery(s),l);return this.applyTaggedOperation_(o,a)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=X.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,a=this.syncPointTree_.get(r);a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(X.Empty)):(a=new ke,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=i?s=!0:(s=!1,i=jt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);l.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(r),p=a.addEventRegistration(e,n,d,i,s);if(!u&&!o){var f=a.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),l=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var a=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=a.removed;l=a.events;var c=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],m=g.getQuery(),y=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),y.hashFn,y.onComplete)}}!h&&u.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return l},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=X.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),M(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(r);if(i)l.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),M(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||jt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return l.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);l.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var o=[],s=t.path.getFront(),l=t.operationForChild(s),a=e.children.get(s);if(a&&l){var u=n?n.getImmediateChild(s):null,c=r.child(s);o=o.concat(this.applyOperationHelper_(l,a,u,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var l=n?n.getImmediateChild(e):null,a=r.child(e),u=t.operationForChild(e);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,l,a)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=jt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Re=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';I(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),De=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),l.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return l.deepCopy(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new De),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Le=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=s.__assign({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Fe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Le(t);var n=1e4+2e4*Math.random();J(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,(function(e,i){i>0&&l.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),J(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ue=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ve(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ve=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&C("event: "+e.toString()),Y(n)}}},t.prototype.getPath=function(){return this.path_},t}(),je=function(){function t(t){this.allowedEvents_=t,this.listeners_={},l.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=s.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){l.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),qe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return l.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(je),Be=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||l.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return l.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(je),ze=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Y((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),He=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ze(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(l.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new We((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=s.__read(t,5),i=r[0],o=r[1],l=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=l;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=s.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(l.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=l.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=l.base64Encode(e),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!l.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=l.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),We=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,l.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){C("frame writing exception"),a.stack&&C(a.stack),C(a)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;l.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ge="",Ke=null;"undefined"!=typeof MozWebSocket?Ke=MozWebSocket:"undefined"!=typeof WebSocket&&(Ke=WebSocket);var Qe=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!l.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(l.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Ge+"/"+process.platform+"/"+(l.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Ke(this.connURL,[],r)}else this.mySock=new Ke(this.connURL)}catch(a){this.log_("Error instantiating WebSocket.");var s=a.message||a.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ke&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=l.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(l.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=l.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ye=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[He,Qe]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Qe&&Qe.isAvailable(),o=i&&!Qe.previouslyFailed();if(e.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Qe];else{var l=this.transports_=[];try{for(var a=s.__values(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&l.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Je=function(){function t(t,e,n,r,i,o,s){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Ye(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=J((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=N("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?T("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),J((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):J((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Xe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),$e=function(t){function e(n,r,i,o,s,a){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=s,u.authOverride_=a,u.id=e.nextPersistentConnectionId_++,u.log_=E("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=1e3,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,a&&!l.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),qe.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Be.getInstance().on("online",u.onOnline_,u),u}return s.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(l.stringify(i)),l.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),l.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),l.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var l=s.d,a=s.s;e.warnOnListenWarnings_(l,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==a&&n.removeListen_(i,o),t.onComplete&&t.onComplete(a,l))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&l.contains(t,"w")){var n=l.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||l.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=l.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),l.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+l.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):T("Unrecognized action received from server: "+l.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;l.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,a=!1,u=null,c=function(){u?u.close():(a=!0,r())};this.realtime_={close:c,sendRequest:function(t){l.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){a?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new Je(i,o.repoInfo_,t,n,r,(function(t){I(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(t){o.log_("Failed to get token: "+t),a||(l.CONSTANTS.NODE_ADMIN&&I(t),c())}))}},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],l.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return R(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new X(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=s.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var l=o.value;try{for(var a=(n=void 0,s.__values(l.values())),u=a.next();!u.done;u=a.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";l.CONSTANTS.NODE_ADMIN?e="admin_node":l.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Ge.replace(/\./g,"-")]=1,l.isMobileCordova()?t["framework.cordova"]=1:l.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Be.getInstance().currentlyOnline();return l.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Xe),Ze=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return s.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(l.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var a=e.getListenId_(t,r),u={};this.listens_[a]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),l.safeGet(o.listens_,a)===u&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+l.querystring(e);r.log_("Sending REST request for "+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=l.jsonEval(a.responseText)}catch(e){I("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&I("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))},e}(Xe),tn=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ae,this.persistentConnection_=null;var o=new Re(n,r);if(this.stats_=Me.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{l.stringify(s)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new $e(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Me.getOrCreateReporter(t,(function(){return new Fe(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Ne,this.infoSyncTree_=new Ae({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ae({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=l.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=Bt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var u=l.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=Bt(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),r=Bt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Bt(e,n),l=this.serverSyncTree_.calcCompleteEventCache(t),a=ie(s,l,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,a,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||I("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(M(e,(function(e,n){i=!1,s[e]=re(t.child(e),Bt(n),r.serverSyncTree_,o)})),i)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var l=this.getNextWriteId_(),a=this.serverSyncTree_.applyUserMerge(t,s,l);this.eventQueue_.queueEvents(a),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||I("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(l,!o),a=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(a,s),r.callOnCompleteCallback(n,e,i)})),M(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ae;this.onDisconnect_.forEachTree(X.Empty,(function(r,i){var o=re(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(X.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new ae,this.eventQueue_.raiseEventsForChangedPath(X.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Bt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Bt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(l.isEmpty(e))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&M(e,(function(e,n){var i=Bt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Le(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);M(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,s.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Y((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!0,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new wt(e,n))||(n=jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=jt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(jt.EMPTY_NODE);var i=this;return e.forEachChild(xt,(function(t,e){i.matches(new wt(t,e))||(r=r.updateImmediateChild(t,jt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new wt(e,n))||(n=jt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(jt.EMPTY_NODE);var l=void 0,a=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(l,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,a)<=0?o++:r=r.updateImmediateChild(s.name,jt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;l.assert(a.numChildren()===this.limit_,"");var u=new wt(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var d=a.getImmediateChild(e),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name===e||a.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:o(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(ve.childChangedChange(e,n,d)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve.childRemovedChange(e,d));var g=a.updateImmediateChild(e,jt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(ve.childAddedChange(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&o(c,u)>=0?(null!=i&&(i.trackChildChange(ve.childRemovedChange(c.name,c.node)),i.trackChildChange(ve.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,jt.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return l.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return l.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return l.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return l.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return l.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==xt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===xt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new _e(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===xt?e=n.PRIORITY_INDEX:this.index_===Ht?e=n.VALUE_INDEX:this.index_===Tt?e=n.KEY_INDEX:(l.assert(this.index_ instanceof Wt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=l.stringify(e),this.startSet_&&(r[n.START_AT]=l.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+l.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=l.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+l.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return s.__extends(e,t),e.prototype.getKey=function(){return l.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return l.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?ft("Reference.child",1,t,!1):pt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){l.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){l.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){l.validateArgCount("Reference.set",1,2,arguments.length),gt("Reference.set",this.path),lt("Reference.set",1,t,this.path,!1),l.validateCallback("Reference.set",2,e,!0);var n=new l.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(l.validateArgCount("Reference.update",1,2,arguments.length),gt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("Reference.update",1,t,this.path,!1),l.validateCallback("Reference.update",2,e,!0);var i=new l.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(l.validateArgCount("Reference.setWithPriority",2,3,arguments.length),gt("Reference.setWithPriority",this.path),lt("Reference.setWithPriority",1,t,this.path,!1),ct("Reference.setWithPriority",2,e,!1),l.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new l.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return l.validateArgCount("Reference.remove",0,1,arguments.length),gt("Reference.remove",this.path),l.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(l.validateArgCount("Reference.transaction",1,3,arguments.length),gt("Reference.transaction",this.path),l.validateCallback("Reference.transaction",1,t,!1),l.validateCallback("Reference.transaction",2,e,!0),yt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new l.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _t(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){l.validateArgCount("Reference.setPriority",1,2,arguments.length),gt("Reference.setPriority",this.path),ct("Reference.setPriority",1,t,!1),l.validateCallback("Reference.setPriority",2,e,!0);var n=new l.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){l.validateArgCount("Reference.push",0,2,arguments.length),gt("Reference.push",this.path),lt("Reference.push",1,t,this.path,!0),l.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=bt(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return gt("Reference.onDisconnect",this.path),new vt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Xt);Xt.__referenceConstructor=on,ke.__referenceConstructor=on;var sn=function(){this.children={},this.childCount=0,this.value=null},ln=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new sn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof X?e:new X(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,l.safeGet(r.node_.children,i)||new sn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){l.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;M(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=l.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),an=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ln},tn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new on(this,t);o.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:m(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new Gt(s.currentInputSnapshot,new on(this,s.path),xt);s.onComplete(null,!1,c)}}else{at("transaction failed: Data returned ",u,s.path),s.status=an.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(s),h.setValue(d);var p=void 0;"object"==typeof u&&null!==u&&l.contains(u,".priority")?(p=l.safeGet(u,".priority"),l.assert(st(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||jt.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),g=Bt(u,p),y=ie(g,a,f);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||jt.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);l.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===an.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),a=0;a<e.length;a++){var u=e[a];l.assert(u.status===an.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=an.SENT,u.retryCount++;var c=X.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var h=o.val(!0),d=t;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=an.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var l=e[s].currentOutputSnapshotResolved,a=new on(n,e[s].path),u=new Gt(l,a,xt);o.push(e[s].onComplete.bind(null,null,!0,u))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),s=0;s<o.length;s++)Y(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status=e[s].status===an.SENT_NEEDS_ABORT?an.NEEDS_ABORT:an.RUN;else for(I("transaction at "+d.toString()+" failed: "+r),s=0;s<e.length;s++)e[s].status=an.NEEDS_ABORT,e[s].abortReason=r;n.rerunTransactions_(t)}}),s)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===an.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var s=t[o],a=X.relativePath(e,s.path),u=!1,c=void 0;if(l.assert(null!==a,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===an.NEEDS_ABORT)u=!0,c=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===an.RUN)if(s.retryCount>=tn.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){at("transaction failed: Data returned ",d,s.path);var p=Bt(d);"object"==typeof d&&null!=d&&l.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=s.currentWriteId,g=this.generateServerValues(),m=ie(p,h,g);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(f),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,m,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[o].status=an.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===c){var y=new on(this,t[o].path),v=new Gt(t[o].currentInputSnapshot,y,xt);n.push(t[o].onComplete.bind(null,null,!1,v))}else n.push(t[o].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Y(n[o]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==an.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===an.SENT_NEEDS_ABORT||(e[o].status===an.SENT?(l.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=an.SENT_NEEDS_ABORT,e[o].abortReason="set"):(l.assert(e[o].status===an.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)Y(n[o])}};var un,cn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return un||(un=new t),un},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=s.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var l=o.value;try{for(var a=(n=void 0,s.__values(Object.keys(this.repos_[l]))),u=a.next();!u.done;u=a.next())this.repos_[l][u.value].interrupt()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=s.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var l=o.value;try{for(var a=(n=void 0,s.__values(Object.keys(this.repos_[l]))),u=a.next();!u.done;u=a.next())this.repos_[l][u.value].resume()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&S("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=tt(r),o=i.repoInfo,s=void 0;return"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s&&(o=(i=tt(r="http://"+s+"?ns="+o.namespace)).repoInfo),mt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,e).database},t.prototype.deleteRepo=function(t){var e=l.safeGet(this.repos_,t.app.name);e&&l.safeGet(e,t.repoInfo_.toURLString())===t||S("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=l.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=l.safeGet(r,t.toURLString());return i&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new tn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),hn=function(){function t(t){this.repo_=t,t instanceof tn||S("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(t,X.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),l.validateArgCount("database.ref",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),l.validateArgCount(e,1,1,arguments.length);var n=tt(t);mt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&S(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&S("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){l.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){l.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},_increment:function(t){return{".sv":{increment:t}}}},t}(),dn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.database.checkDeleted_("delete"),cn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),pn=Object.freeze({__proto__:null,forceLongPolling:function(){Qe.forceDisallow(),He.forceAllow()},forceWebSockets:function(){He.forceDisallow()},isWebSocketsAvailable:function(){return Qe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),fn=$e;$e.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},$e.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var gn=Object.freeze({__proto__:null,DataConnection:fn,RealTimeConnection:Je,hijackHash:function(t){var e=$e.prototype.put;return $e.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){$e.prototype.put=e}},ConnectionTarget:Z,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){cn.getInstance().forceRestClient(t)}}),mn=hn.ServerValue;function yn(e){Ge=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new u.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return cn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:on,Query:Xt,Database:hn,DataSnapshot:Gt,enableLogging:w,INTERNAL:pn,ServerValue:mn,TEST_ACCESS:gn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.5.25"),l.isNodeSdk()&&(t.exports=n)}yn(o),e.DataSnapshot=Gt,e.Database=hn,e.OnDisconnect=vt,e.Query=Xt,e.Reference=on,e.ServerValue=mn,e.enableLogging=w,e.registerDatabase=yn},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),l=s[1],a=this.normalizeInstanceIdentifier(s[0]);try{var u=this.getOrInitializeService(a);l.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=l,e.Provider=s},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.13.2","app"),t.exports=i},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return l})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return T})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function l(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function l(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,l=o.length;s<l;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||l(t,e)}))})}function l(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(a,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,l=o.length;s<l;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return p}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),l={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){var e="string"==typeof t?l[t]:t;o.forEach((function(t){t.logLevel=e}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=l[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var l=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:l,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),l=n("S+S0"),a=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.ErrorFactory("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new a.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new l.ComponentContainer(e.name),this._addComponent(new l.Component("app",(function(){return a}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var f=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var l=o.name;if("string"!=typeof l||!l)throw c.create("bad-app-name",{appName:String(l)});if(s.contains(e,l))throw c.create("duplicate-app",{appName:l});var a=new t(n,o,r);return e[l]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(a.join(" "))}u(new l.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});a.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.13.2",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function u(l){var a,u,h=l.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===l.type?r[h]:null;if(n.set(h,l),"PUBLIC"===l.type){var p=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==l.serviceProps&&s.deepExtend(p,l.serviceProps),r[h]=p,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,l.multipleInstances?t:[])}}try{for(var f=o.__values(Object.keys(e)),g=f.next();!g.done;g=f.next())e[g.value]._addComponent(l)}catch(m){a={error:m}}finally{try{g&&!g.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}return"PUBLIC"===l.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var v=f;!function(t,e){t.INTERNAL.registerComponent(new l.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.1",void 0),t.registerVersion("fire-js","")}(v),e.default=v,e.firebase=v},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return lr})),n.d(e,"EventType",(function(){return ar})),n.d(e,"WebChannel",(function(){return ur})),n.d(e,"XhrIo",(function(){return cr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function l(t){return"string"==typeof t}function a(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[g]||(this[g]=++m))},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var O,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function A(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var R=s.navigator;if(R){var D=R.userAgent;if(D){O=D;break t}}O=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}V[" "]=c;var j,q,B=A(O,"Opera"),z=A(O,"Trident")||A(O,"MSIE"),H=A(O,"Edge"),W=H||z,G=A(O,"Gecko")&&!(A(O.toLowerCase(),"webkit")&&!A(O,"Edge"))&&!(A(O,"Trident")||A(O,"MSIE"))&&!A(O,"Edge"),K=A(O.toLowerCase(),"webkit")&&!A(O,"Edge");function Q(){var t=s.document;return t?t.documentMode:void 0}t:{var Y="",J=(q=O,G?/rv:([^\);]+)(\)|;)/.exec(q):H?/Edge\/([\d\.]+)/.exec(q):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):K?/WebKit\/(\S+)/.exec(q):B?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(J&&(Y=J?J[1]:""),z){var X=Q();if(null!=X&&X>parseFloat(Y)){j=String(X);break t}}j=Y}var $,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=P(String(j)).split("."),r=P(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",l=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==s[0].length&&0==l[0].length)break;e=N(0==s[1].length?0:parseInt(s[1],10),0==l[1].length?0:parseInt(l[1],10))||N(0==s[2].length,0==l[2].length)||N(s[2],l[2]),s=s[3],l=l[3]}while(0==e)}return 0<=e}))}var et=s.document;$=et&&z?Q()||("CSS1Compat"==et.compatMode?parseInt(j,10):5):void 0;var nt=!z||9<=Number($),rt=z&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{V(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:lt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},C(st,ot);var lt={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var at="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=T(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ft(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),mt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(d(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Tt(r),e&&e[at]?e.Aa(n,r,f(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(d(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=Tt(n),t&&t[at]?t.za(e,n,f(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!nt)return null;var l=Ct(t);if(l||(t[gt]=l=new dt(t)),(n=l.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(t){if(!a(t)&&t&&!t.X){var e=t.src;if(e&&e[at])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(pt(n,t),0==n.b&&(n.src=null,e[gt]=null)):ht(t)}}}function bt(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&_t(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||u("window.event"),this))}function Ct(t){return(t=t[gt])instanceof dt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(t){return"function"==h(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function St(){E.call(this),this.c=new dt(this),this.J=this,this.B=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var l=s.listener,a=s.da||s.src;s.Z&&pt(t.c,s),i=!1!==l.call(a,r)&&i}}return i&&0!=r.Ia}C(St,E),St.prototype[at]=!0,(r=St.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(d(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=Tt(r),e&&e[at]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ft(s=e.a[n],r,i,o))&&(ht(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,r,i,o)),(r=-1<e?n[e]:null)&&_t(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(l(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;U(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=It(s,r,!0,t)&&i}if(i=It(s=t.a=n,r,!0,t)&&i,i=It(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=It(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(St.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=s.JSON.stringify;function xt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Ot(){this.b=this.a=null}xt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Pt,At=new xt((function(){return new Rt}),(function(t){t.reset()}));function Nt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Dt(t){s.setTimeout((function(){throw t}),0)}function Mt(t,e){Pt||function(){var t=s.Promise.resolve(void 0);Pt=function(){t.then(Ut)}}(),Lt||(Pt(),Lt=!0),Ft.add(t,e)}Ot.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new Ot;function Ut(){for(var t;t=Nt();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=At;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Vt(t,e){St.call(this),this.b=t||1,this.a=e||s,this.f=_(this.gb,this),this.g=w()}function jt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Bt(t,e,n){E.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.$a,this),this.a=[]}function zt(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){E.call(this),this.b=t,this.a={}}C(Vt,St),(r=Vt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(jt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Vt.N.G.call(this),jt(this),delete this.a},C(Bt,E),(r=Bt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){Bt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},C(Ht,E);var Wt=[];function Gt(t,e,n,r){d(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Qt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Kt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new St;function Jt(t){ot.call(this,"serverreachability",t)}function Xt(t){Yt.dispatchEvent(new Jt(Yt,t))}function $t(t){ot.call(this,"statevent",t)}function Zt(t){Yt.dispatchEvent(new $t(Yt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}C(Jt,ot),C($t,ot),C(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,le={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ae(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=de,this.P=new Vt(t=W?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(ae,ot),C(ue,ot),C(ce,ie),se=new ce;var de=45e3,pe={},fe={};function ge(t,e,n){t.F=1,t.f=je(Re(e)),t.l=n,t.H=!0,ye(t,null)}function me(t,e,n,r){t.F=1,t.f=je(Re(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=w(),be(t),t.D=Re(t.f),Ve(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Bt(_(t.Ja,t,t.a),t.J)),Gt(t.I,t.a,"readystatechange",t.cb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ve(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=_e(t,n);if(i==fe){4==e&&(t.c=4,Zt(14),r=!1);break}if(i==pe){t.c=4,Zt(15),r=!1;break}Se(t,i)}4==e&&0==n.length&&(t.c=1,Zt(16),r=!1),t.b=t.b&&r,r||(Te(t),Ee(t))}function _e(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.A=r+n,e))}function be(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.ab,t),e)}function Ce(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Ee(t){t.g.Ca()||t.m||t.g.na(t)}function Te(t){Ce(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,jt(t.P),Kt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Se(t,e){try{t.g.Fa(t,e),Xt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||l(t))S(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(l(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ke(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ke)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t,e){Pe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Oe(t))}function Oe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!W&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),Ce(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Dn(this.a,"X-HTTP-Initial-Response");if(s&&!x(s)){var l=s;break e}}l=null}if(!l){this.b=!1,this.c=3,Zt(12),Te(this),Ee(this);break t}this.s=!0,Se(this,l)}this.H?(ve(this,e,o),W&&this.b&&3==e&&(Gt(this.I,this.P,"tick",this.bb),this.P.start())):Se(this,o),4==e&&Te(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),Te(this),Ee(this)}}}catch(a){}},r.bb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(Ce(this),ve(this,t,e),this.b&&4!=t&&be(this))}},r.cancel=function(){this.m=!0,Te(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),Zt(17)),Te(this),this.c=2,Ee(this)):we(this,this.R-t)},(r=ke.prototype).C=function(){Oe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Oe(this),this.a.concat()},r.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},r.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ne(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Ne?(this.h=void 0!==e?e:t.h,De(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Ae))?(this.h=!!e,De(this,n[1]||"",!0),this.j=qe(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=qe(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=qe(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Re(t){return new Ne(t)}function De(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?qe(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Je(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Ze(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=Be(e,Ke)),t.c=new Ye(e,t.h))}function Ue(t,e,n){t.c.set(e,n)}function Ve(t,e,n){d(n)||(n=[String(n)]),Ze(t.c,e,n)}function je(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return l(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ne.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?Ge:We,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Be(n,Qe)),t.join("")},Ne.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?De(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(A(i,"./")||A(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var l=i[s++];"."==l?r&&s==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,We=/[#\?:]/g,Ge=/[#\?]/g,Ke=/[#\?@]/g,Qe=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Je(t){t.a||(t.a=new ke,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Je(t),e=en(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe(t.a,e))}function $e(t,e){return Je(t),e=en(t,e),Pe(t.a.b,e)}function Ze(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),k(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new ke(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Gn(t.a,t,!1)):(Zt(11),Gn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),Zt(4),Ve(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ue(e,n,r),me(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new ke}function ln(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[g]||(t[g]=++m)):e.charAt(0)+t}function an(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Ye.prototype).add=function(t,e){Je(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Je(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Je(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Je(this);var e=[];if(l(t))$e(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return Je(this),this.c=null,$e(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},C((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Dn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Dn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Yn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!z||10<=Number($))&&(this.c=200,this.b.cancel(),Zt(11),Gn(this.a,this,!0))):(Zt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Zt(11),Gn(this.a,this,!0)):(Zt(10),Gn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Yn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(ln(t),t)},sn.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(A(e,"spdy")||A(e,"quic")||A(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(gn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=ln(e),t=Pe(t.a.a.b,e)):t=!1,t}function gn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=ln(e),n=Pe(t.a.a.b,n)),n&&xe(t.a.a,ln(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return S(t.a.C(),(function(t){e=e.concat(t.j)})),e}return k(t.c)}function vn(){}function _n(){this.a=new vn}function bn(t,e,n){var r=n||"";try{Ie(t,(function(t,n){var i=t;f(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var Cn=s.JSON.parse;function En(t){St.call(this),this.headers=new ke,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Tn,this.D=this.F=!1}C(En,St);var Tn="",Sn=/^https?$/i,In=["POST","PUT"];function kn(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,On(t),An(t)}function On(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Pn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))qt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var l=String(t.A).match(Ae)[1]||null;if(!l&&s.self&&s.self.location){var a=s.self.location.protocol;l=a.substr(0,a.length-1)}i=!Sn.test(l?l.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Rn(t)?t.a.statusText:""}catch(c){u=""}t.f=u+" ["+t.T()+"]",On(t)}}finally{An(t)}}}function An(t,e){if(t.a){Nn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Nn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Dn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ue(t,e,n),t}function Ln(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Un(t),3==t.u){var e=t.P++,n=Re(t.B);Ue(n,"SID",t.H),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Bn(t,n),(e=new he(t,e,void 0)).F=2,e.f=je(Re(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),be(e)}Jn(t)}function Un(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Kn(t),t.b.cancel(),t.h&&(a(t.h)&&s.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.f.push(new an(t.Qa++,e)),3==t.u&&jn(t)}function jn(t){dn(t.b)||t.h||(t.h=!0,Mt(t.Ha,t),t.A=0)}function qn(t,e){var n;n=e?e.W:t.P++;var r=Re(t.B);Ue(r,"SID",t.H),Ue(r,"RID",n),Ue(r,"AID",t.O),Bn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),gn(t.b,n),ge(n,r,e)}function Bn(t,e){t.c&&Ie({},(function(t,n){Ue(e,n,t)}))}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?_(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var l=!0,a=0;a<n;a++){var u=i[a].b,c=i[a].a;if(0>(u-=o))o=Math.max(0,i[a].b-100),l=!1;else try{bn(c,s,"req"+u+"_")}catch(h){r&&r(c)}}if(l){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Mt(t.Ga,t),t.v=0)}function Wn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(_(t.Ga,t),Qn(t,t.v)),t.v++,0))}function Gn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),jn(t)}function Kn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Qn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=_(t.eb,t);n||(n=new Ne("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||De(n,"https"),je(n)),function(t,e){var n=new Qt;if(s.Image){var r=new Image;r.onload=b(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(wn,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.u=0,t.c&&t.c.ta(e),Jn(t),Un(t)}function Jn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,k(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var r=function(t){return t instanceof Ne?Re(t):new Ne(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Ne(null,void 0);return t&&De(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,(function(t,e){Ue(r,e,t)})),n=t.I,(e=t.j)&&n&&Ue(r,e,n),Ue(r,"VER",t.wa),Bn(t,r),r}function $n(){}function Zn(){if(z&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function tr(t,e){St.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=En.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=_(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void xn(this,o)}t=n||"";var i=new ke(this.headers);r&&Ie(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=kn,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=T(In,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&a(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ba,this)):this.m=qt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){xn(this,o)}},r.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),An(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),An(this,!0)),En.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Pn(this):this.Za())},r.Za=function(){Pn(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(q){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},r.ya=function(){return this.h},r.Xa=function(){return l(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?U(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&l(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ue(i=Re(this.B),"RID",t),Ue(i,"CVER",22),this.o&&this.j&&Ue(i,"X-HTTP-Session-Id",this.j),Bn(this,i),this.g&&r&&Mn(i,this.g,r),gn(this.b,n),this.W?(Ue(i,"$req",e),Ue(i,"SID","null"),n.S=!0,ge(n,i,null)):ge(n,i,e),this.u=2}}else 3==this.u&&(t?qn(this,t):0==this.f.length||dn(this.b)||qn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);Ue(t,"RID","rpc"),Ue(t,"SID",this.H),Ue(t,"CI",this.ia?"0":"1"),Ue(t,"AID",this.O),Bn(this,t),Ue(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Kn(this),this.a.cancel(),this.a=null}Wn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Ya,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&Kn(this),!x(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&a(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Dn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Dn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ue(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ce(r),be(r)),this.a=r):Hn(this),0<this.f.length&&jn(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Wn(this),Zt(19))},r.na=function(t){var e=null;if(this.a==t){Kn(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),jn(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(_(t.Ha,t,e),Qn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Wn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.eb=function(t){Zt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new En(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=$n.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},Zn.prototype.a=function(t,e){return new tr(t,e)},C(tr,St),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Zt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ve(e,"MODE","init"),!t.a.o&&t.a.j&&Ve(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Wa=function(t){if(l(t)){var e={};e.__data__=t,Vn(this.a,e)}else this.h?((e={}).__data__=kt(t),Vn(this.a,e)):Vn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},C(er,ae),C(nr,ue),C(rr,$n),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=b((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Zn);Zn.prototype.createWebChannel=Zn.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",St.prototype.listen=St.prototype.za,En.prototype.listenOnce=En.prototype.Aa,En.prototype.getLastError=En.prototype.Xa,En.prototype.getLastErrorCode=En.prototype.ya,En.prototype.getStatus=En.prototype.T,En.prototype.getResponseJson=En.prototype.Ua,En.prototype.getResponseText=En.prototype.aa,En.prototype.send=En.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:En},sr=or.createWebChannelTransport,lr=or.ErrorCode,ar=or.EventType,ur=or.WebChannel,cr=or.XhrIo;e.default=or},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t})}const l={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},a=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((t,e)=>"".concat(e+1,") ").concat(t.toString())).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let l=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++l<c&&i[l]||null;if(r(o))try{o.call(this)}catch(d){e=!0,t=d instanceof h?p(d.errors):[d]}if(a(s))for(l=-1,c=s.length;++l<c;){const n=s[l];if(u(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof h?t=t.concat(p(d.errors)):t.push(d)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function p(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!t){this.destination=l;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new g(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class m extends g{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==l&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function _(...t){return b(t)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[f])return t[f]()}return t||e||n?new g(t,e,n):new g(l)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.prototype=Object.create(Error.prototype);const T=E;class S extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class I extends g{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new I(this)}lift(t){const e=new x(this,this);return e.operator=t,e}next(t){if(this.closed)throw new T;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new T;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new T;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new T;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new T;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new x(t,e),t})();class x extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function O(t){return t&&"function"==typeof t.schedule}class P extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},N=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",D=t=>e=>{const n=t[R]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},M=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},L=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function F(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const U=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return M(t);if(L(t))return A(t);if(F(t))return N(t);if(t&&"function"==typeof t[R])return D(t);{const e=u(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(e," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")}};function V(t,e,n,r,i=new P(t,n,r)){if(!i.closed)return U(e)(i)}class j extends g{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function q(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(t,e))}}class B{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new z(t,this.project,this.thisArg))}}class z extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function H(t,e){return new w(e?n=>{const r=new d;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:A(t))}function W(t,e){if(!e)return t instanceof w?t:new w(U(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w(e?n=>{const r=new d;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:M(t))}(t,e);if(F(t))return function(t,e){return new w(e?n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:N(t))}(t,e);if(L(t))return H(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[R](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r}:D(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function G(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(G((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))}}class Q extends j{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new P(this,void 0,void 0);this.destination.add(r),V(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(t){return t}function J(t=Number.POSITIVE_INFINITY){return G(Y,t)}function X(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return O(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:J(e)(H(t,n))}function $(){return function(t){return t.lift(new Z(t))}}class Z{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new tt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class tt extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const et=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new rt(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}refCount(){return $()(this)}}.prototype,nt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}};class rt extends I{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function it(){return new k}function ot(){return t=>{return $()((e=it,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,nt);return r.source=t,r.subjectFactory=n,r})(t));var e}}function st(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const lt=st("Inject",t=>({token:t})),at=st("Optional"),ut=st("Self"),ct=st("SkipSelf");var ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function dt(t){for(let e in t)if(t[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){const e=t[gt];return e&&e.token===t?e:null}const gt=dt({ngInjectableDef:dt});function mt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const yt=dt({__forward_ref__:dt});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return mt(this())},t}function _t(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(yt)&&e.__forward_ref__===vt?e():t}const bt="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,Ct="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et="undefined"!=typeof global&&global,Tt=bt||Et||wt||Ct;class St{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken ".concat(this._desc)}}const It=new St("INJECTOR",-1),kt=new Object,xt=/\n/gm,Ot=dt({provide:String,useValue:dt});let Pt=void 0;function At(t){const e=Pt;return Pt=t,e}function Nt(t,e=ht.Default){return function(t,e=ht.Default){if(void 0===Pt)throw new Error("inject() must be called from an injection context");return null===Pt?function(t,e,n){const r=ft(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ht.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(mt(t),"]"))}(t,0,e):Pt.get(t,e&ht.Optional?null:void 0,e)}(t,e)}class Rt{get(t,e=kt){if(e===kt){const e=new Error("NullInjectorError: No provider for ".concat(mt(t),"!"));throw e.name="NullInjectorError",e}return e}}function Dt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=mt(e);if(e instanceof Array)i=e.map(mt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):mt(r)))}i="{".concat(t.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(xt,"\n  "))}class Mt{}class Lt{}function Ft(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ut(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Vt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),jt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt);function qt(t){return t.ngDebugContext}function Bt(t){return t.ngOriginalError}function zt(t,...e){t.error(...e)}class Ht{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||zt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?qt(t)?qt(t):this._findContext(Bt(t)):null}_findOriginalError(t){let e=Bt(t);for(;e&&Bt(e);)e=Bt(e);return e}}let Wt=!0,Gt=!1;function Kt(){return Gt=!0,Wt}class Qt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Jt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xt(t){return(t=String(t)).match(Yt)||t.match(Jt)?t:(Kt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function $t(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zt(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const te=$t("area,br,col,hr,img,wbr"),ee=$t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ne=$t("rp,rt"),re=Zt(ne,ee),ie=Zt(te,Zt(ee,$t("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zt(ne,$t("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),re),oe=$t("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),se=$t("srcset"),le=Zt(oe,se,$t("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$t("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ae=$t("script,style,template");class ue{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ie.hasOwnProperty(e))return this.sanitizedSomething=!0,!ae.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!le.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;oe[o]&&(s=Xt(s)),se[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Xt(t.trim())).join(", ")),this.buf.push(" ",e,'="',de(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ie.hasOwnProperty(e)&&!te.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(de(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}const ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,he=/([^\#-~ |!])/g;function de(t){return t.replace(/&/g,"&amp;").replace(ce,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(he,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pe;function fe(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ge=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class me{}const ye=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ve=/^url\(([^)]+)\)$/;function _e(t){var e;return e=t.replace(/[$@]/g,"_"),"ng-reflect-".concat(t=e.replace(be,(...t)=>"-"+t[1].toLowerCase()))}const be=/([A-Z])/g;function we(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Ce=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ee(),t})();const Ee=(...t)=>{},Te=new St("The presence of this token marks an injector as being the root injector."),Se=function(t,e,n){return new Ae(t,e,n)};let Ie=(()=>{class t{static create(t,e){return Array.isArray(t)?Se(t,e,""):Se(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=kt,t.NULL=new Rt,t.ngInjectableDef=pt({token:t,providedIn:"any",factory:()=>Nt(It)}),t.__NG_ELEMENT_ID__=-1,t})();const ke=function(t){return t},xe=[],Oe=ke,Pe=function(){return Array.prototype.slice.call(arguments)};class Ae{constructor(t,e=Ie.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Ie,{token:Ie,fn:ke,deps:xe,value:this,useNew:!1}),r.set(It,{token:It,fn:ke,deps:xe,value:this,useNew:!1}),function t(e,n){if(n)if((n=_t(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Re("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Re("Unexpected provider",n);{let t=_t(n.provide);const r=function(t){const e=function(t){let e=xe;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=_t(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof at||n==at?r|=1:n instanceof ct||n==ct?r&=-3:n instanceof ut||n==ut?r&=-5:i=n instanceof lt?n.token:_t(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:_t(t.useExisting),options:6}];else if(!(n||Ot in t))throw Re("'deps' required",t);return e}(t);let n=ke,r=xe,i=!1,o=_t(t.provide);if(Ot in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=_t(t.useClass);else{if("function"!=typeof o)throw Re("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Pe)throw Ne(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Pe,value:xe});t=n,r.deps.push({token:t,options:6})}const i=e.get(t);if(i&&i.fn==Pe)throw Ne(t);e.set(t,r)}}}(r,t)}get(t,e,n=ht.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let l;if(!n||s&ht.SkipSelf)s&ht.Self||(l=i.get(e,o,ht.Default));else{if(l=n.value,l==Oe)throw Error("\u0275Circular dependency");if(l===xe){n.value=Oe;let e=void 0,o=n.useNew,s=n.fn,a=n.deps,u=xe;if(a.length){u=[];for(let e=0;e<a.length;e++){const n=a[e],o=n.options,s=2&o?r.get(n.token):void 0;u.push(t(n.token,s,r,s||4&o?i:Ie.NULL,1&o?null:Ie.THROW_IF_NOT_FOUND,ht.Default))}}n.value=l=o?new s(...u):s.apply(e,u)}}return l}(e,n,r,i,o,s)}catch(l){throw l instanceof Error||(l=new Error(l)),(l.ngTempTokenPath=l.ngTempTokenPath||[]).unshift(e),n&&n.value==Oe&&(n.value=xe),l}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=Dt("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(mt(n))),"StaticInjector[".concat(t.join(", "),"]")}}function Ne(t){return Re("Cannot mix multi providers and regular providers",t)}function Re(t,e){return new Error(Dt(t,e,"StaticInjectorError"))}const De=new St("AnalyzeForEntryComponents");let Me=null;function Le(){if(!Me){const t=Tt.Symbol;if(t&&t.iterator)Me=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Me=n)}}}return Me}function Fe(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ue(t,e){const n=je(t),r=je(e);if(n&&r)return function(t,e,n){const r=t[Le()](),i=e[Le()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ue);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Fe(t,e)}}class Ve{constructor(t){this.wrapped=t}static wrap(t){return new Ve(t)}static unwrap(t){return Ve.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ve}}function je(t){return!!qe(t)&&(Array.isArray(t)||!(t instanceof Map)&&Le()in t)}function qe(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Be(t){return!!t&&"function"==typeof t.then}function ze(t){return!!t&&"function"==typeof t.subscribe}class He{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class We{}function Ge(t){const e=Error("No component factory found for ".concat(mt(t),". Did you add it to @NgModule.entryComponents?"));return e[Ke]=t,e}const Ke="ngComponent";class Qe{resolveComponentFactory(t){throw Ge(t)}}let Ye=(()=>{class t{}return t.NULL=new Qe,t})();class Je{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ge(t);return new Xe(e,this._ngModule)}}class Xe extends We{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function $e(...t){}let Ze=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>tn(t),t})();const tn=$e;class en{}const nn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let rn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>on(),t})();const on=$e;class sn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ln=new sn("8.2.14");class an{constructor(){}supports(t){return je(t)}create(t){return new cn(t)}}const un=(t,e)=>e;class cn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||un}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<fn(n,r,i)?e:n,s=fn(o,r,i),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=l-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==l&&t(o,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!je(t))throw new Error("Error trying to diff '".concat(mt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Fe(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Fe(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Le()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Fe(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Fe(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Fe(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Fe(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new hn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class hn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Fe(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class pn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new dn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class gn{constructor(){}supports(t){return t instanceof Map||qe(t)}create(){return new mn}}class mn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||qe(t)))throw new Error("Error trying to diff '".concat(mt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new yn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Fe(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class yn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let vn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((n=t).name||typeof n,"'"));var n}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new an])}),t})(),_n=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new gn])}),t})();const bn=[new gn],wn=new vn([new an]),Cn=new _n(bn);let En=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Tn(t,Ze),t})();const Tn=$e;let Sn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>In(t,Ze),t})();const In=$e;function kn(t,e,n,r){let i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(e,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return xn(n,e),n}(i,t)}function xn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function On(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(t))}function Pn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function An(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Nn(t,e){return t.nodes[e]}function Rn(t,e){return t.nodes[e]}function Dn(t,e){return t.nodes[e]}function Mn(t,e){return t.nodes[e]}function Ln(t,e){return t.nodes[e]}const Fn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Un=()=>{},Vn=new Map;function jn(t){let e=Vn.get(t);return e||(e=mt(t)+"_"+Vn.size,Vn.set(t,e)),e}function qn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Bn=0;function zn(t,e,n,r){return!(!(2&t.state)&&Fe(t.oldValues[e.bindingIndex+n],r))}function Hn(t,e,n,r){return!!zn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Wn(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ue(i,r)){const o=e.bindings[n].name;throw kn(Fn.createDebugContext(t,e.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&t.state))}}function Gn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Kn(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Qn(t,e,n,r){try{return Gn(33554432&t.def.nodes[e].flags?Rn(t,e).componentView:t),Fn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Yn(t){return t.parent?Rn(t.parent,t.parentNodeDef.nodeIndex):null}function Jn(t){return t.parent?t.parentNodeDef.parent:null}function Xn(t,e){switch(201347067&e.flags){case 1:return Rn(t,e.nodeIndex).renderElement;case 2:return Nn(t,e.nodeIndex).renderText}}function $n(t,e){return t?"".concat(t,":").concat(e):e}function Zn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function tr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function er(t){return 1<<t%32}function nr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=er(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function rr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:jn(n)}})}function ir(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Vt.Native?Rn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const or=new WeakMap;function sr(t){let e=or.get(t);return e||(e=t(()=>Un),e.factory=t,or.set(t,e)),e}function lr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Xn(t,t.def.lastRenderRootNode))),ar(t,e,0,t.def.nodes.length-1,n,r,i)}function ar(t,e,n,r,i,o,s){for(let l=n;l<=r;l++){const n=t.def.nodes[l];11&n.flags&&cr(t,n,e,i,o,s),l+=n.childCount}}function ur(t,e,n,r,i,o){let s=t;for(;s&&!Zn(s);)s=s.parent;const l=s.parent,a=Jn(s),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const t=l.def.nodes[c];t.ngContentIndex===e&&cr(l,t,n,r,i,o),c+=t.childCount}if(!l.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)hr(t,s[e],n,r,i,o)}}function cr(t,e,n,r,i,o){if(8&e.flags)ur(t,e.ngContent.index,n,r,i,o);else{const s=Xn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&hr(t,s,n,r,i,o),32&e.bindingFlags&&hr(Rn(t,e.nodeIndex).componentView,s,n,r,i,o)):hr(t,s,n,r,i,o),16777216&e.flags){const s=Rn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)lr(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&ar(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function hr(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const dr=/^:([^:]+):(.+)$/;function pr(t){if(":"===t[0]){const e=t.match(dr);return[e[1],e[2]]}return["",t]}function fr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function gr(t,e,n,r,i,o,s,l,a,u,c,h,d,p,f,g,m,y,v,_){switch(t){case 1:return e+mr(n)+r;case 2:return e+mr(n)+r+mr(i)+o;case 3:return e+mr(n)+r+mr(i)+o+mr(s)+l;case 4:return e+mr(n)+r+mr(i)+o+mr(s)+l+mr(a)+u;case 5:return e+mr(n)+r+mr(i)+o+mr(s)+l+mr(a)+u+mr(c)+h;case 6:return e+mr(n)+r+mr(i)+o+mr(s)+l+mr(a)+u+mr(c)+h+mr(d)+p;case 7:return e+mr(n)+r+mr(i)+o+mr(s)+l+mr(a)+u+mr(c)+h+mr(d)+p+mr(f)+g;case 8:return e+mr(n)+r+mr(i)+o+mr(s)+l+mr(a)+u+mr(c)+h+mr(d)+p+mr(f)+g+mr(m)+y;case 9:return e+mr(n)+r+mr(i)+o+mr(s)+l+mr(a)+u+mr(c)+h+mr(d)+p+mr(f)+g+mr(m)+y+mr(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function mr(t){return null!=t?t.toString():""}const yr=new Object,vr=jn(Ie),_r=jn(It),br=jn(Mt);function wr(t,e,n,r){return n=_t(n),{index:-1,deps:rr(r,mt(e)),flags:t,token:e,value:n}}function Cr(t,e,n=Ie.THROW_IF_NOT_FOUND){const r=At(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case vr:case _r:case br:return t}const l=t._def.providersByKey[s];let a;if(l){let e=t._providers[l.index];return void 0===e&&(e=t._providers[l.index]=Er(t,l)),e===yr?void 0:e}if((a=ft(e.token))&&(i=t,null!=(o=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:e.token},t._providers[n]=yr,t._providers[n]=Er(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{At(r)}var i,o}function Er(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Cr(t,n[0]));case 2:return new e(Cr(t,n[0]),Cr(t,n[1]));case 3:return new e(Cr(t,n[0]),Cr(t,n[1]),Cr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Cr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Cr(t,n[0]));case 2:return e(Cr(t,n[0]),Cr(t,n[1]));case 3:return e(Cr(t,n[0]),Cr(t,n[1]),Cr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Cr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Cr(t,e.deps[0]);break;case 256:n=e.value}return n===yr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?yr:n}function Tr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Ut(n,e),Fn.dirtyParentQueries(r),Ir(r),r}function Sr(t,e,n){const r=e?Xn(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);lr(n,2,i,o,void 0)}function Ir(t){lr(t,3,null,null,void 0)}const kr=new Object;function xr(t,e,n,r,i,o){return new Or(t,e,n,r,i,o)}class Or extends We{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=sr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Fn.createRootView(t,e||[],n,i,r,kr),l=Dn(s,o).instance;return n&&s.renderer.setAttribute(Rn(s,0).renderElement,"ng-version",ln.full),new Pr(s,new Dr(s),l)}}class Pr extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Ze(Rn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Ur(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Ar(t,e,n){return new Nr(t,e,n)}class Nr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Ze(this._data.renderElement)}get injector(){return new Ur(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Jn(t),t=t.parent;return t?new Ur(t,e):new Ur(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Tr(this._data,t);Fn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Dr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof Xe||(i=o.get(Mt));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Ft(i,n,r),function(t,e){const n=Yn(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Fn.dirtyParentQueries(r),Sr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Ut(r,e),null==n&&(n=r.length),Ft(r,n,i),Fn.dirtyParentQueries(i),Ir(i),Sr(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Tr(this._data,t);e&&Fn.destroyView(e)}detach(t){const e=Tr(this._data,t);return e?new Dr(e):null}}function Rr(t){return new Dr(t)}class Dr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return lr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Gn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Fn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Fn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Fn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Ir(this._view),Fn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Mr(t,e){return new Lr(t,e)}class Lr extends En{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Dr(Fn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Ze(Rn(this._parentView,this._def.nodeIndex).renderElement)}}function Fr(t,e){return new Ur(t,e)}class Ur{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ie.THROW_IF_NOT_FOUND){return Fn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:jn(t)},e)}}function Vr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Rn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Nn(t,n.nodeIndex).renderText;if(20240&n.flags)return Dn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(e))}function jr(t){return new qr(t.renderer)}class qr{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=pr(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=pr(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Br(t,e,n,r){return new zr(t,e,n,r)}class zr{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Er(t,i))}}(this)}get(t,e=Ie.THROW_IF_NOT_FOUND,n=ht.Default){let r=0;return n&ht.SkipSelf?r|=1:n&ht.Self&&(r|=4),Cr(this,{token:t,tokenKey:jn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Ye)}destroy(){if(this._destroyed)throw new Error("The ng module ".concat(mt(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==yr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Hr=jn(class{}),Wr=jn(rn),Gr=jn(Ze),Kr=jn(Sn),Qr=jn(En),Yr=jn(Ce),Jr=jn(Ie),Xr=jn(It);function $r(t,e,n,r,i,o,s,l){const a=[];if(s)for(let c in s){const[t,e]=s[c];a[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(l)for(let c in l)u.push({type:1,propName:c,target:null,eventName:l[c]});return ti(t,e|=16384,n,r,i,i,o,a,u)}function Zr(t,e,n,r,i){return ti(-1,t,e,0,n,r,i)}function ti(t,e,n,r,i,o,s,l,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=nr(n);a||(a=[]),l||(l=[]),o=_t(o);const d=rr(s,mt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:l,bindingFlags:fr(l),outputs:a,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function ei(t,e){return oi(t,e)}function ni(t,e){let n=t;for(;n.parent&&!Zn(n);)n=n.parent;return si(n.parent,Jn(n),!0,e.provider.value,e.provider.deps)}function ri(t,e){const n=si(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!ze(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));{const n=o.subscribe(ii(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function ii(t,e,n){return r=>Qn(t,e,n,r)}function oi(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return si(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(ai(t,e,n,i[0]));case 2:return r(ai(t,e,n,i[0]),ai(t,e,n,i[1]));case 3:return r(ai(t,e,n,i[0]),ai(t,e,n,i[1]),ai(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=ai(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return ai(t,e.parent,n,r.deps[0]);case 256:return r.value}}function si(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(ai(t,e,n,i[0]));case 2:return new r(ai(t,e,n,i[0]),ai(t,e,n,i[1]));case 3:return new r(ai(t,e,n,i[0]),ai(t,e,n,i[1]),ai(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=ai(t,e,n,i[r]);return new r(...s)}}const li={};function ai(t,e,n,r,i=Ie.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===Yr&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let l=t;for(;l;){if(e)switch(s){case Hr:return jr(ui(l,e,n));case Wr:return ui(l,e,n).renderer;case Gr:return new Ze(Rn(l,e.nodeIndex).renderElement);case Kr:return Rn(l,e.nodeIndex).viewContainer;case Qr:if(e.element.template)return Rn(l,e.nodeIndex).template;break;case Yr:return Rr(ui(l,e,n));case Jr:case Xr:return Fr(l,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=Dn(l,t.nodeIndex);return e||(e={instance:oi(l,t)},l.nodes[t.nodeIndex]=e),e.instance}}n=Zn(l),e=Jn(l),l=l.parent,4&r.flags&&(l=null)}const a=o.root.injector.get(r.token,li);return a!==li||i===li?a:o.root.ngModule.injector.get(r.token,i)}function ui(t,e,n){let r;if(n)r=Rn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Zn(r);)r=r.parent;return r}function ci(t,e,n,r,i,o){if(32768&n.flags){const e=Rn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=Ve.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new He(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function hi(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&pi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=di(t,s,e,r)),s=s.parent}}function di(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&pi(t,i,e.flags&n,r++),i+=e.childCount}return r}function pi(t,e,n,r){const i=Dn(t,e);if(!i)return;const o=i.instance;o&&(Fn.setCurrentNode(t,e),1048576&n&&An(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&An(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const fi=new St("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>jt}),gi={},mi=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();var yi=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];class vi extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof d&&t.add(s),s}}function _i(){return this._results[Le()]()}class bi{constructor(){this.dirty=!0,this._results=[],this.changes=new vi,this.length=0;const t=Le(),e=bi.prototype;e[t]||(e[t]=_i)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const wi=new St("Application Initializer");class Ci{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Be(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Ei=new St("AppId");function Ti(){return"".concat(Si()).concat(Si()).concat(Si())}function Si(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ii=new St("Platform Initializer"),ki=new St("Platform ID"),xi=new St("appBootstrapListener");class Oi{log(t){console.log(t)}warn(t){console.warn(t)}}const Pi=new St("LocaleId");function Ai(){throw new Error("Runtime compiler is not loaded")}const Ni=Ai,Ri=Ai,Di=Ai,Mi=Ai;class Li{constructor(){this.compileModuleSync=Ni,this.compileModuleAsync=Ri,this.compileModuleAndAllComponentsSync=Di,this.compileModuleAndAllComponentsAsync=Mi}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Fi{}let Ui,Vi;const ji=function(){const t=Tt.wtf;return!(!t||(Ui=t.trace,!Ui)||(Vi=Ui.events,0))}();function qi(t,e){return null}const Bi=ji?function(t,e=null){return Vi.createScope(t,e)}:(t,e)=>qi,zi=ji?function(t,e){return Ui.leaveScope(t,e),e}:(t,e)=>e,Hi=Promise.resolve(0);function Wi(t){"undefined"==typeof Zone?Hi.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Gi{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vi(!1),this.onMicrotaskEmpty=new vi(!1),this.onStable=new vi(!1),this.onError=new vi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return Ji(e),t.invokeTask(r,i,o,s)}finally{Xi(e)}},onInvoke:(t,n,r,i,o,s,l)=>{try{return Ji(e),t.invoke(r,i,o,s,l)}finally{Xi(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Yi(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Qi,Ki,Ki);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ki(){}const Qi={};function Yi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ji(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xi(t){t._nesting--,Yi(t)}class $i{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vi,this.onMicrotaskEmpty=new vi,this.onStable=new vi,this.onError=new vi}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Zi{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),Wi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wi(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class to{constructor(){this._applications=new Map,no.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return no.findTestabilityInTree(this,t,e)}}let eo,no=new class{addToWindow(t){}findTestabilityInTree(t,e,n){return null}};const ro=new St("AllowMultipleToken");class io{constructor(t,e){this.name=t,this.token=e}}function oo(t,e,n=[]){const r="Platform: ".concat(e),i=new St(r);return(e=[])=>{let o=so();if(!o||o.injector.get(ro,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(eo&&!eo.destroyed&&!eo.injector.get(ro,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");eo=t.get(lo);const e=t.get(Ii,null);e&&e.forEach(t=>t())}(Ie.create({providers:t,name:r}))}return function(t){const e=so();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function so(){return eo&&!eo.destroyed?eo:null}class lo{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new $i:("zone.js"===t?void 0:t)||new Gi({enableLongStackTrace:Kt()}),e}(e?e.ngZone:void 0),r=[{provide:Gi,useValue:n}];return n.run(()=>{const e=Ie.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ht,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>co(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Be(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ci);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ao({},e);return function(t,e,n){return t.get(Fi).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(uo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(mt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ao(t,e){return Array.isArray(e)?e.reduce(ao,t):Object.assign({},t,e)}let uo=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Kt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),Wi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=X(s,l.pipe(ot()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof We?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof Xe?null:this._injector.get(Mt),i=n.create(Ie.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Zi,null);return o&&i.injector.get(to).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Kt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,zi(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;co(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(xi,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),co(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Bi("ApplicationRef#tick()"),t})();function co(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ho{}class po{}const fo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class go{constructor(t,e){this._compiler=t,this._config=e||fo}load(t){return this._compiler instanceof Li?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>mo(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>mo(t,e,r))}}function mo(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}class yo{constructor(t,e){this.name=t,this.callback=e}}class vo{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof _o&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class _o extends vo{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof _o&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof _o&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof _o&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof _o)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const bo=new Map,wo=function(t){return bo.get(t)||null};function Co(t){bo.set(t.nativeNode,t)}const Eo=oo(null,"core",[{provide:ki,useValue:"unknown"},{provide:lo,deps:[Ie]},{provide:to,deps:[]},{provide:Oi,deps:[]}]);function To(){return wn}function So(){return Cn}function Io(t){return t||"en-US"}function ko(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class xo{constructor(t){}}function Oo(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:l,matchedQueryIds:a}=nr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a,references:l,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?sr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Un},provider:null,text:null,query:null,ngContent:null}}function Po(t,e,n,r,i,o,s=[],l,a,u,c,h){u||(u=Un);const{matchedQueries:d,references:p,matchedQueryIds:f}=nr(n);let g=null,m=null;o&&([g,m]=pr(o)),l=l||[];const y=new Array(l.length);for(let b=0;b<l.length;b++){const[t,e,n]=l[b],[r,i]=pr(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}y[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}a=a||[];const v=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e]=a[b];v[b]={type:0,target:t,eventName:e,propName:null}}const _=(s=s||[]).map(([t,e])=>{const[n,r]=pr(t);return[n,r,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Vt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c".concat(Bn++):"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:fr(y),outputs:v,element:{ns:g,name:m,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Un},provider:null,text:null,query:null,ngContent:null}}function Ao(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=ir(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Vt.ShadowDom);if(r.attrs)for(let l=0;l<r.attrs.length;l++){const[t,e,n]=r.attrs[l];o.setAttribute(s,e,n,t)}return s}function No(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const o=n.outputs[i],s=Ro(t,n.nodeIndex,$n(o.target,o.eventName));let l=o.target,a=t;"component"===o.target&&(l=null,a=e);const u=a.renderer.listen(l||r,o.eventName,s);t.disposables[n.outputIndex+i]=u}}function Ro(t,e,n){return r=>Qn(t,e,n,r)}function Do(t,e,n,r){if(!Hn(t,e,n,r))return!1;const i=e.bindings[n],o=Rn(t,e.nodeIndex),s=o.renderElement,l=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let l=s?t.root.sanitizer.sanitize(s,o):o;l=null!=l?l.toString():null;const a=t.renderer;null!=o?a.setAttribute(n,i,l,r):a.removeAttribute(n,i,r)}(t,i,s,i.ns,l,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,l,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(ge.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,l,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,l,r)}return!0}function Mo(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:er(e),bindings:r},ngContent:null}}function Lo(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&tr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Ln(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Ln(t,n).setDirty(),n+=e.childCount}}function Fo(t,e){const n=Ln(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Uo(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Dn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Uo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let l=0;l<o.length;l++){const t=o[l];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Uo(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(Vo(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Rn(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Uo(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=Yn(o);s&&s===n&&Uo(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Uo(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function Vo(t,e,n){if(null!=n)switch(n){case 1:return Rn(t,e.nodeIndex).renderElement;case 0:return new Ze(Rn(t,e.nodeIndex).renderElement);case 2:return Rn(t,e.nodeIndex).template;case 3:return Rn(t,e.nodeIndex).viewContainer;case 4:return Dn(t,e.nodeIndex).instance}}function jo(t,e,n){const r=ir(t,e,n);r&&ur(t,n.ngContent.index,1,r,null,void 0)}function qo(t,e){return zo(32,t,new Array(e))}function Bo(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return zo(64,t,i)}function zo(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:fr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ho(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Wo(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=ir(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Go(t,e){return(null!=t?t.toString():"")+e.suffix}function Ko(t,e,n,r){let i=0,o=0,s=0,l=0,a=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,s|=t.flags,a|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(a|=t.element.template.nodeMatchedQueries)}if(Yo(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[jn(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[jn(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):l|=t.flags,t.childCount>0)u=t,Qo(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&Qo(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:l,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:n||Un,updateRenderer:r||Un,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:p}}function Qo(t){return 0!=(1&t.flags)&&null===t.element.name}function Yo(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(e.nodeIndex,"!"))}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(e.nodeIndex,"!"));if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(e.nodeIndex,"!"));if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(e.nodeIndex,"!"))}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(e.nodeIndex,"!"))}}function Jo(t,e,n,r){const i=Zo(t.root,t.renderer,t,e,n);return ts(i,t.component,r),es(i),i}function Xo(t,e,n){const r=Zo(t,t.renderer,null,null,e);return ts(r,n,n),es(r),r}function $o(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Zo(t.root,o,t,e.element.componentProvider,n)}function Zo(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function ts(t,e,n){t.component=e,t.context=n}function es(t){let e;Zn(t)&&(e=Rn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Fn.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Ao(t,e,o);let l=void 0;if(33554432&o.flags){const e=sr(o.element.componentView);l=Fn.createComponentView(t,o,e,n)}No(t,l,o,n),s={renderElement:n,componentView:l,viewContainer:null,template:o.element.template?Mr(t,o):void 0},16777216&o.flags&&(s.viewContainer=Ar(t,o,s));break;case 2:s=Wo(t,e,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:ei(t,o)});break;case 16:s={instance:ni(t,o)};break;case 16384:s=r[i],s||(s={instance:ri(t,o)}),32768&o.flags&&ts(Rn(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new bi;break;case 8:jo(t,e,o),s=void 0}r[i]=s}cs(t,us.CreateViewNodes),fs(t,201326592,268435456,0)}function ns(t){os(t),Fn.updateDirectives(t,1),hs(t,us.CheckNoChanges),Fn.updateRenderer(t,1),cs(t,us.CheckNoChanges),t.state&=-97}function rs(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Pn(t,0,256),os(t),Fn.updateDirectives(t,0),hs(t,us.CheckAndUpdate),fs(t,67108864,536870912,0);let e=Pn(t,256,512);hi(t,2097152|(e?1048576:0)),Fn.updateRenderer(t,0),cs(t,us.CheckAndUpdate),fs(t,134217728,536870912,0),e=Pn(t,512,768),hi(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Pn(t,768,1024)}function is(t,e,n,r,i,o,s,l,a,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,l,a,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&Do(t,e,0,n)&&(p=!0),d>1&&Do(t,e,1,r)&&(p=!0),d>2&&Do(t,e,2,i)&&(p=!0),d>3&&Do(t,e,3,o)&&(p=!0),d>4&&Do(t,e,4,s)&&(p=!0),d>5&&Do(t,e,5,l)&&(p=!0),d>6&&Do(t,e,6,a)&&(p=!0),d>7&&Do(t,e,7,u)&&(p=!0),d>8&&Do(t,e,8,c)&&(p=!0),d>9&&Do(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,s,l,a,u,c,h);case 2:return function(t,e,n,r,i,o,s,l,a,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&Hn(t,e,0,n)&&(d=!0),f>1&&Hn(t,e,1,r)&&(d=!0),f>2&&Hn(t,e,2,i)&&(d=!0),f>3&&Hn(t,e,3,o)&&(d=!0),f>4&&Hn(t,e,4,s)&&(d=!0),f>5&&Hn(t,e,5,l)&&(d=!0),f>6&&Hn(t,e,6,a)&&(d=!0),f>7&&Hn(t,e,7,u)&&(d=!0),f>8&&Hn(t,e,8,c)&&(d=!0),f>9&&Hn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Go(n,p[0])),f>1&&(d+=Go(r,p[1])),f>2&&(d+=Go(i,p[2])),f>3&&(d+=Go(o,p[3])),f>4&&(d+=Go(s,p[4])),f>5&&(d+=Go(l,p[5])),f>6&&(d+=Go(a,p[6])),f>7&&(d+=Go(u,p[7])),f>8&&(d+=Go(c,p[8])),f>9&&(d+=Go(h,p[9]));const g=Nn(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,s,l,a,u,c,h);case 16384:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=Dn(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&zn(t,e,0,n)&&(f=!0,g=ci(t,d,e,0,n,g)),m>1&&zn(t,e,1,r)&&(f=!0,g=ci(t,d,e,1,r,g)),m>2&&zn(t,e,2,i)&&(f=!0,g=ci(t,d,e,2,i,g)),m>3&&zn(t,e,3,o)&&(f=!0,g=ci(t,d,e,3,o,g)),m>4&&zn(t,e,4,s)&&(f=!0,g=ci(t,d,e,4,s,g)),m>5&&zn(t,e,5,l)&&(f=!0,g=ci(t,d,e,5,l,g)),m>6&&zn(t,e,6,a)&&(f=!0,g=ci(t,d,e,6,a,g)),m>7&&zn(t,e,7,u)&&(f=!0,g=ci(t,d,e,7,u,g)),m>8&&zn(t,e,8,c)&&(f=!0,g=ci(t,d,e,8,c,g)),m>9&&zn(t,e,9,h)&&(f=!0,g=ci(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&An(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,r,i,o,s,l,a,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&Hn(t,e,0,n)&&(p=!0),f>1&&Hn(t,e,1,r)&&(p=!0),f>2&&Hn(t,e,2,i)&&(p=!0),f>3&&Hn(t,e,3,o)&&(p=!0),f>4&&Hn(t,e,4,s)&&(p=!0),f>5&&Hn(t,e,5,l)&&(p=!0),f>6&&Hn(t,e,6,a)&&(p=!0),f>7&&Hn(t,e,7,u)&&(p=!0),f>8&&Hn(t,e,8,c)&&(p=!0),f>9&&Hn(t,e,9,h)&&(p=!0),p){const p=Mn(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=l),f>6&&(g[6]=a),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=o),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=l),f>6&&(g[d[6].name]=a),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,l);break;case 7:g=t.transform(r,i,o,s,l,a);break;case 8:g=t.transform(r,i,o,s,l,a,u);break;case 9:g=t.transform(r,i,o,s,l,a,u,c);break;case 10:g=t.transform(r,i,o,s,l,a,u,c,h)}}p.value=g}return p}(t,e,n,r,i,o,s,l,a,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,l,a,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Do(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Hn(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Go(n[t],r[t]);i=e.text.prefix+i;const o=Nn(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Dn(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let l=0;l<n.length;l++)zn(t,e,l,n[l])&&(o=!0,s=ci(t,r,e,l,n[l],s));return s&&i.ngOnChanges(s),65536&e.flags&&An(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Hn(t,e,o,n[o])&&(i=!0);if(i){const i=Mn(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function os(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Rn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Kn(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ss(t,e,n,r,i,o,s,l,a,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings.length;d>0&&Wn(t,e,0,n),d>1&&Wn(t,e,1,r),d>2&&Wn(t,e,2,i),d>3&&Wn(t,e,3,o),d>4&&Wn(t,e,4,s),d>5&&Wn(t,e,5,l),d>6&&Wn(t,e,6,a),d>7&&Wn(t,e,7,u),d>8&&Wn(t,e,8,c),d>9&&Wn(t,e,9,h)}(t,e,r,i,o,s,l,a,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Wn(t,e,r,n[r])}(t,e,r),!1}function ls(t,e){if(Ln(t,e.nodeIndex).dirty)throw kn(Fn.createDebugContext(t,e.nodeIndex),"Query ".concat(e.query.id," not dirty"),"Query ".concat(e.query.id," dirty"),0!=(1&t.state))}function as(t){if(!(128&t.state)){if(hs(t,us.Destroy),cs(t,us.Destroy),hi(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Yn(t);if(e){const n=e.template._projectedViews;n&&(Ut(n,n.indexOf(t)),Fn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Rn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Nn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Ln(t,n).destroy()}}(t),Zn(t)&&t.renderer.destroy(),t.state|=128}}const us=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function cs(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?ds(Rn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function hs(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Rn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)ds(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ds(t,e){const n=t.state;switch(e){case us.CheckNoChanges:0==(128&n)&&(12==(12&n)?ns(t):64&n&&ps(t,us.CheckNoChangesProjectedViews));break;case us.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ns(t):64&n&&ps(t,e));break;case us.CheckAndUpdate:0==(128&n)&&(12==(12&n)?rs(t):64&n&&ps(t,us.CheckAndUpdateProjectedViews));break;case us.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?rs(t):64&n&&ps(t,e));break;case us.Destroy:as(t);break;case us.CreateViewNodes:es(t)}}function ps(t,e){hs(t,e),cs(t,e)}function fs(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Fn.setCurrentNode(t,i.nodeIndex),r){case 0:Fo(t,i);break;case 1:ls(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let gs=!1;function ms(t,e,n,r,i,o){const s=i.injector.get(en);return Xo(vs(t,i,s,e,n),r,o)}function ys(t,e,n,r,i,o){const s=i.injector.get(en),l=vs(t,i,new Js(s),e,n),a=xs(r);return Qs(Ds.create,Xo,null,[l,a,o])}function vs(t,e,n,r,i){const o=e.injector.get(me),s=e.injector.get(Ht),l=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:l,errorHandler:s}}function _s(t,e,n,r){const i=xs(n);return Qs(Ds.create,Jo,null,[t,e,i,r])}function bs(t,e,n,r){return n=Ts.get(e.element.componentProvider.provider.token)||xs(n),Qs(Ds.create,$o,null,[t,e,n,r])}function ws(t,e,n,r){return Br(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Cs.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=Cs.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Es.forEach((r,i)=>{ft(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Cs.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=rr(i.deps),r.value=i.value)}if(Es.size>0){let e=new Set(t.modules);Es.forEach((r,i)=>{if(e.has(ft(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:rr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[jn(i)]=e}})}}(t=t.factory(()=>Un)),t):t}(r))}const Cs=new Map,Es=new Map,Ts=new Map;function Ss(t){let e;Cs.set(t.token,t),"function"==typeof t.token&&(e=ft(t.token))&&"function"==typeof e.providedIn&&Es.set(t.token,t)}function Is(t,e){const n=sr(e.viewDefFactory),r=sr(n.nodes[0].element.componentView);Ts.set(t,r)}function ks(){Cs.clear(),Es.clear(),Ts.clear()}function xs(t){if(0===Cs.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Cs.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Un);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Cs.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=rr(n.deps),t.value=n.value)}}}}function Os(t,e,n,r,i,o,s,l,a,u,c,h,d){const p=t.def.nodes[e];return is(t,p,n,r,i,o,s,l,a,u,c,h,d),224&p.flags?Mn(t,e).value:void 0}function Ps(t,e,n,r,i,o,s,l,a,u,c,h,d){const p=t.def.nodes[e];return ss(t,p,n,r,i,o,s,l,a,u,c,h,d),224&p.flags?Mn(t,e).value:void 0}function As(t){return Qs(Ds.detectChanges,rs,null,[t])}function Ns(t){return Qs(Ds.checkNoChanges,ns,null,[t])}function Rs(t){return Qs(Ds.destroy,as,null,[t])}const Ds=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Ms,Ls,Fs;function Us(t,e){Ls=t,Fs=e}function Vs(t,e,n,r){return Us(t,e),Qs(Ds.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function js(t,e){if(128&t.state)throw On(Ds[Ms]);return Us(t,Hs(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Bs(t,o,r,i):zs(t,o,r,i),16384&o.flags&&Us(t,Hs(t,n)),224&o.flags?Mn(t,o.nodeIndex).value:void 0}),t)}function qs(t,e){if(128&t.state)throw On(Ds[Ms]);return Us(t,Ws(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Bs(t,o,r,i):zs(t,o,r,i),3&o.flags&&Us(t,Ws(t,n)),224&o.flags?Mn(t,o.nodeIndex).value:void 0}),t)}function Bs(t,e,n,r){if(is(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],o=i[t];8&r.flags&&(n[_e(r.nonMinifiedName)]=we(o))}const r=e.parent,o=Rn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(o,e,r):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,"bindings=".concat(JSON.stringify(n,null,2)))}}}function zs(t,e,n,r){ss(t,e,n,...r)}function Hs(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ws(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Gs{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Jn(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Rn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Fr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Ks(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Ks(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Zn(t);)t=t.parent;return t.parent?Rn(t.parent,Jn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Xn(this.view,this.nodeDef):Xn(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):Un)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Ks(t,e,n){for(let r in e.references)n[r]=Vo(t,e,e.references[r])}function Qs(t,e,n,r){const i=Ms,o=Ls,s=Fs;try{Ms=t;const l=e.apply(n,r);return Ls=o,Fs=s,Ms=i,l}catch(u){if(qt(u)||!Ls)throw u;throw l=u,a=Ys(),l instanceof Error||(l=new Error(l.toString())),xn(l,a),l}var l,a}function Ys(){return Ls?new Gs(Ls,Fs):null}class Js{constructor(t){this.delegate=t}createRenderer(t,e){return new Xs(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Xs{constructor(t){this.delegate=t,this.debugContextFactory=Ys,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=wo(t);!function(t){bo.delete(t.nativeNode)}(e),e instanceof vo&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new _o(n,null,r);e.name=t,Co(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Co(new vo(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Co(new vo(e,null,n)),e}appendChild(t,e){const n=wo(t),r=wo(e);n&&r&&n instanceof _o&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=wo(t),i=wo(e),o=wo(n);r&&i&&r instanceof _o&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=wo(t),r=wo(e);n&&r&&n instanceof _o&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=Ys();return r&&Co(new _o(n,null,r)),n}setAttribute(t,e,n,r){const i=wo(t);i&&i instanceof _o&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=wo(t);r&&r instanceof _o&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=wo(t);n&&n instanceof _o&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=wo(t);n&&n instanceof _o&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=wo(t);i&&i instanceof _o&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=wo(t);r&&r instanceof _o&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=wo(t);r&&r instanceof _o&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=wo(t);r&&r.listeners.push(new yo(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}class $s extends Lt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(gs)return;gs=!0;const t=Kt()?{setCurrentNode:Us,createRootView:ys,createEmbeddedView:_s,createComponentView:bs,createNgModuleRef:ws,overrideProvider:Ss,overrideComponentView:Is,clearOverrides:ks,checkAndUpdateView:As,checkNoChangesView:Ns,destroyView:Rs,createDebugContext:(t,e)=>new Gs(t,e),handleEvent:Vs,updateDirectives:js,updateRenderer:qs}:{setCurrentNode:()=>{},createRootView:ms,createEmbeddedView:Jo,createComponentView:$o,createNgModuleRef:Br,overrideProvider:Un,overrideComponentView:Un,clearOverrides:Un,checkAndUpdateView:rs,checkNoChangesView:ns,destroyView:as,createDebugContext:(t,e)=>new Gs(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Os:Ps,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Os:Ps,t)};Fn.setCurrentNode=t.setCurrentNode,Fn.createRootView=t.createRootView,Fn.createEmbeddedView=t.createEmbeddedView,Fn.createComponentView=t.createComponentView,Fn.createNgModuleRef=t.createNgModuleRef,Fn.overrideProvider=t.overrideProvider,Fn.overrideComponentView=t.overrideComponentView,Fn.clearOverrides=t.clearOverrides,Fn.checkAndUpdateView=t.checkAndUpdateView,Fn.checkNoChangesView=t.checkNoChangesView,Fn.destroyView=t.destroyView,Fn.resolveDep=ai,Fn.createDebugContext=t.createDebugContext,Fn.handleEvent=t.handleEvent,Fn.updateDirectives=t.updateDirectives,Fn.updateRenderer=t.updateRenderer,Fn.dirtyParentQueries=Lo}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(sr(this._ngModuleDefFactory));return Fn.createNgModuleRef(this.moduleType,t||Ie.NULL,this._bootstrapComponents,e)}}class Zs{}class tl{constructor(t){this.Pro=t,this.Pro.getProducts().subscribe(t=>this.show=t)}}class el{}const nl=new St("Location Initialized");class rl{}const il=new St("appBaseHref");class ol{constructor(t,e){this._subject=new vi,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=ol.stripTrailingSlash(sl(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+ol.normalizeQueryParams(e))}normalize(t){return ol.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,sl(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ol.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ol.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function sl(t){return t.replace(/\/index.html$/,"")}class ll extends rl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ol.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+ol.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+ol.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class al extends rl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ol.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+ol.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+ol.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+ol.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ul=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),cl=new St("UseV4Plurals");class hl{}class dl extends hl{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=gi[e];if(n)return n;const r=e.split("-")[0];if(n=gi[r],n)return n;if("en"===r)return yi;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[mi.PluralCase]}(e||this.locale)(t)){case ul.Zero:return"zero";case ul.One:return"one";case ul.Two:return"two";case ul.Few:return"few";case ul.Many:return"many";default:return"other"}}}class pl{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class fl{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Kt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error("Cannot find a differ supporting object '".concat(n,"' of type '").concat((t=n).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new pl(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new gl(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new gl(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class gl{constructor(t,e){this.record=t,this.view=e}}class ml{constructor(t,e){this._viewContainer=t,this._context=new yl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class yl{constructor(){this.$implicit=null,this.ngIf=null}}function vl(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(mt(e),"'."))}class _l{}const bl=new St("DocumentToken");function wl(t){return"server"===t}let Cl=(()=>{class t{}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new El(Nt(bl),window,Nt(Ht))}),t})();class El{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);const n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const Tl=new w(t=>t.complete());function Sl(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):Tl}function Il(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function kl(...t){let e=t[t.length-1];switch(O(e)?t.pop():e=void 0,t.length){case 0:return Sl(e);case 1:return e?H(t,e):Il(t[0]);default:return H(t,e)}}class xl extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}next(t){super.next(this._value=t)}}function Ol(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ol.prototype=Object.create(Error.prototype);const Pl=Ol,Al={};class Nl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Rl(t,this.resultSelector))}}class Rl extends j{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Al),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(V(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Al?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Dl(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?W(n):Sl()).subscribe(e)})}function Ml(){return J(1)}function Ll(t,e){return function(n){return n.lift(new Fl(t,e))}}class Fl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ul(t,this.predicate,this.thisArg))}}class Ul extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Vl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Vl.prototype=Object.create(Error.prototype);const jl=Vl;function ql(t){return function(e){return 0===t?Sl():e.lift(new Bl(t))}}class Bl{constructor(t){if(this.total=t,this.total<0)throw new jl}call(t,e){return e.subscribe(new zl(t,this.total))}}class zl extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Hl(t,e,n){return function(r){return r.lift(new Wl(t,e,n))}}class Wl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Gl(t,this.nextOrObserver,this.error,this.complete))}}class Gl extends g{constructor(t,e,n,i){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Kl=(t=Ql)=>Hl({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Ql(){return new Pl}function Yl(t=null){return e=>e.lift(new Jl(t))}class Jl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Xl(t,this.defaultValue))}}class Xl extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function $l(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ll((e,n)=>t(e,n,r)):Y,ql(1),n?Yl(e):Kl(()=>new Pl))}function Zl(t){return function(e){const n=new ta(t),r=e.lift(n);return n.caught=r}}class ta{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ea(t,this.selector,this.caught))}}class ea extends j{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new P(this,void 0,void 0);this.add(r),V(this,n,void 0,void 0,r)}}}function na(t){return e=>0===t?Sl():e.lift(new ra(t))}class ra{constructor(t){if(this.total=t,this.total<0)throw new jl}call(t,e){return e.subscribe(new ia(t,this.total))}}class ia extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function oa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ll((e,n)=>t(e,n,r)):Y,na(1),n?Yl(e):Kl(()=>new Pl))}class sa{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new la(t,this.predicate,this.thisArg,this.source))}}class la extends g{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function aa(t,e){return"function"==typeof e?n=>n.pipe(aa((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))))):e=>e.lift(new ua(t))}class ua{constructor(t){this.project=t}call(t,e){return e.subscribe(new ca(t,this.project))}}class ca extends j{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new P(this,void 0,void 0);this.destination.add(i),this.innerSubscription=V(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function ha(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new da(t,e,n))}}class da{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new pa(t,this.accumulator,this.seed,this.hasSeed))}}class pa extends g{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function fa(t,e){return G(t,e,1)}class ga{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ma(t,this.callback))}}class ma extends g{constructor(t,e){super(t),this.add(new d(e))}}let ya=null;function va(){return ya}const _a={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ba={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ca=(()=>{if(Tt.Node)return Tt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Ea extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Ea,ya||(ya=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return _a}contains(t,e){return Ca.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&wa.hasOwnProperty(e)&&(e=wa[e]))}return ba[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Sa||(Sa=document.querySelector("base"),Sa)?Sa.getAttribute("href"):null;return null==e?null:(n=e,Ta||(Ta=document.createElement("a")),Ta.setAttribute("href",n),"/"===Ta.pathname.charAt(0)?Ta.pathname:"/"+Ta.pathname);var n}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Ta,Sa=null;function Ia(){return!!window.history.pushState}const ka=new St("TRANSITION_ID"),xa=[{provide:wi,useFactory:function(t,e,n){return()=>{n.get(Ci).donePromise.then(()=>{const n=va();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ka,bl,Ie],multi:!0}];class Oa{static init(){var t;t=new Oa,no=t}addToWindow(t){Tt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tt.getAllAngularRootElements=()=>t.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(t=>{const e=Tt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?va().isShadowRoot(e)?this.findTestabilityInTree(t,va().getHost(e),!0):this.findTestabilityInTree(t,va().parentElement(e),!0):null}}function Pa(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Tt.ng=Tt.ng||{})[t]=e)}const Aa={ApplicationRef:uo,NgZone:Gi};function Na(t){return wo(t)}const Ra=new St("EventManagerPlugins");class Da{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event ".concat(t))}}class Ma{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=va().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}class La{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class Fa extends La{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>va().remove(t))}}const Ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Va=/%COMP%/g;function ja(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ja(t,i,n):(i=i.replace(Va,t),n.push(i))}return n}function qa(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class Ba{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new za(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Vt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ga(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Vt.Native:case Vt.ShadowDom:return new Ka(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ja(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class za{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ua[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ua[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ua[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&nn.DashCase?t.style.setProperty(e,n,r&nn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&nn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Wa(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Wa(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,qa(n)):this.eventManager.addEventListener(t,e,qa(n))}}const Ha="@".charCodeAt(0);function Wa(t,e){if(t.charCodeAt(0)===Ha)throw new Error("Found the synthetic ".concat(e," ").concat(t,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}class Ga extends za{constructor(t,e,n,r){super(t),this.component=n;const i=ja(r+"-"+n.id,n.styles,[]);var o;e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Va,r+"-"+n.id),this.hostAttr=(o=r+"-"+n.id,"_nghost-%COMP%".replace(Va,o))}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ka extends za{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Vt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=ja(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Qa="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Ya=Qa("addEventListener"),Ja=Qa("removeEventListener"),Xa={},$a="__zone_symbol__propagationStopped",Za=(()=>{const t="undefined"!=typeof Zone&&Zone[Qa("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),tu=function(t){return!!Za&&Za.hasOwnProperty(t)},eu=function(t){const e=Xa[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[$a];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class nu extends Ma{constructor(t,e,n){super(t),this.ngZone=e,n&&wl(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[$a]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Ya]||Gi.isInAngularZone()&&!tu(e))t.addEventListener(e,r,!1);else{let n=Xa[e];n||(n=Xa[e]=Qa("ANGULAR"+e+"FALSE"));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=tu(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[Ya](e,eu,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Ja];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=Xa[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let s=!1;for(let l=0;l<o.length;l++)if(o[l].handler===n){s=!0,o.splice(l,1);break}s?0===o.length&&r.apply(t,[e,eu,!1]):t.removeEventListener.apply(t,[e,n,!1])}}const ru={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},iu=new St("HammerGestureConfig"),ou=new St("HammerLoader");class su{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class lu extends Ma{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!ru.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn('The "'.concat(e,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const au=["alt","control","meta","shift"],uu={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class cu extends Ma{constructor(t){super(t)}supports(t){return null!=cu.parseEventName(t)}addEventListener(t,e,n){const r=cu.parseEventName(e),i=cu.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>va().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=cu._normalizeKey(e.pop());let i="";if(au.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=va().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),au.forEach(r=>{r!=n&&(0,uu[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{cu.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class hu{}class du extends hu{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case ge.NONE:return e;case ge.HTML:return e instanceof fu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{pe=pe||new Qt(t);let r=e?String(e):"";n=pe.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pe.getInertBodyElement(r)}while(r!==o);const s=new ue,l=s.sanitizeChildren(fe(n)||n);return Kt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n){const t=fe(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case ge.STYLE:return e instanceof gu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(ve);return e&&Xt(e[1])===e[1]||t.match(ye)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Kt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e));case ge.SCRIPT:if(e instanceof mu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case ge.URL:return e instanceof vu||e instanceof yu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Xt(String(e)));case ge.RESOURCE_URL:if(e instanceof vu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}checkNotSafeValue(t,e){if(t instanceof pu)throw new Error("Required a safe ".concat(e,", got a ").concat(t.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new fu(t)}bypassSecurityTrustStyle(t){return new gu(t)}bypassSecurityTrustScript(t){return new mu(t)}bypassSecurityTrustUrl(t){return new yu(t)}bypassSecurityTrustResourceUrl(t){return new vu(t)}}class pu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}class fu extends pu{getTypeName(){return"HTML"}}class gu extends pu{getTypeName(){return"Style"}}class mu extends pu{getTypeName(){return"Script"}}class yu extends pu{getTypeName(){return"URL"}}class vu extends pu{getTypeName(){return"ResourceURL"}}const _u=oo(Eo,"browser",[{provide:ki,useValue:"browser"},{provide:Ii,useValue:function(){Ea.makeCurrent(),Oa.init()},multi:!0},{provide:el,useClass:class extends el{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=va().getLocation(),this._history=va().getHistory()}getBaseHrefFromDOM(){return va().getBaseHref(this._doc)}onPopState(t){va().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){va().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Ia()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Ia()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[bl]},{provide:bl,useFactory:function(){return document},deps:[]}]);function bu(){return new Ht}class wu{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:wu,providers:[{provide:Ei,useValue:t.appId},{provide:ka,useExisting:Ei},xa]}}}"undefined"!=typeof window&&window;class Cu{constructor(t,e){this.id=t,this.url=e}}class Eu extends Cu{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}class Tu extends Cu{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}class Su extends Cu{constructor(t,e,n){super(t,e),this.reason=n}toString(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}class Iu extends Cu{constructor(t,e,n){super(t,e),this.error=n}toString(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}class ku extends Cu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}class xu extends Cu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}class Ou extends Cu{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}class Pu extends Cu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}class Au extends Cu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}class Nu{constructor(t){this.route=t}toString(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}class Ru{constructor(t){this.route=t}toString(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}class Du{constructor(t){this.snapshot=t}toString(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}class Mu{constructor(t){this.snapshot=t}toString(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}class Lu{constructor(t){this.snapshot=t}toString(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}class Fu{constructor(t){this.snapshot=t}toString(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}class Uu{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}class Vu{}class ju{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qu(t){return new ju(t)}function Bu(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function zu(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Hu{constructor(t,e){this.routes=t,this.module=e}}function Wu(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Gu(r,Ku(e,r))}}function Gu(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Wu(t.children,e)}function Ku(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Qu(t){const e=t.children&&t.children.map(Qu),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Vu),n}function Yu(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function Ju(t){return Array.prototype.concat.apply([],t)}function Xu(t){return t.length>0?t[t.length-1]:null}function $u(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zu(t){return ze(t)?t:Be(t)?W(Promise.resolve(t)):kl(t)}function tc(t,e,n){return n?function(t,e){return Yu(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ic(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!ic(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ic(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!ic(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class ec{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qu(this.queryParams)),this._queryParamMap}toString(){return ac.serialize(this)}}class nc{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$u(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uc(this)}}class rc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qu(this.parameters)),this._parameterMap}toString(){return gc(this)}}function ic(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function oc(t,e){let n=[];return $u(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),$u(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class sc{}class lc{parse(t){const e=new bc(t);return new ec(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return"".concat("/".concat(function t(e,n){if(!e.hasChildren())return uc(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return $u(e.children,(e,n)=>{"primary"!==n&&r.push("".concat(n,":").concat(t(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}{const n=oc(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]);return"".concat(uc(e),"/(").concat(n.join("//"),")")}}(t.root,!0)),function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>"".concat(hc(e),"=").concat(hc(t))).join("&"):"".concat(hc(e),"=").concat(hc(n))});return e.length?"?".concat(e.join("&")):""}(t.queryParams)).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}const ac=new lc;function uc(t){return t.segments.map(t=>gc(t)).join("/")}function cc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hc(t){return cc(t).replace(/%3B/gi,";")}function dc(t){return cc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pc(t){return decodeURIComponent(t)}function fc(t){return pc(t.replace(/\+/g,"%20"))}function gc(t){return"".concat(dc(t.path)).concat((e=t.parameters,Object.keys(e).map(t=>";".concat(dc(t),"=").concat(dc(e[t]))).join("")));var e}const mc=/^[^\/()?;=#]+/;function yc(t){const e=t.match(mc);return e?e[0]:""}const vc=/^[^=?&#]+/,_c=/^[^?&#]+/;class bc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nc([],{}):new nc([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new nc(t,e)),n}parseSegment(){const t=yc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new rc(pc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yc(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=yc(this.remaining);t&&(n=t,this.capture(n))}t[pc(e)]=pc(n)}parseQueryParam(t){const e=function(t){const e=t.match(vc);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(_c);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=fc(e),i=fc(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=yc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new nc([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}class wc{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cc(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Cc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ec(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ec(t,this._root).map(t=>t.value)}}function Cc(t,e){if(t===e.value)return e;for(const n of e.children){const e=Cc(t,n);if(e)return e}return null}function Ec(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ec(t,n);if(r.length)return r.unshift(e),r}return[]}class Tc{constructor(t,e){this.value=t,this.children=e}toString(){return"TreeNode(".concat(this.value,")")}}function Sc(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ic extends wc{constructor(t,e){super(t),this.snapshot=e,Nc(this,t)}toString(){return this.snapshot.toString()}}function kc(t,e){const n=function(t,e){const n=new Pc([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Ac("",new Tc(n,[]))}(t,e),r=new xl([new rc("",{})]),i=new xl({}),o=new xl({}),s=new xl({}),l=new xl(""),a=new xc(r,i,s,l,o,"primary",e,n.root);return a.snapshot=n.root,new Ic(new Tc(a,[]),n)}class xc{constructor(t,e,n,r,i,o,s,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(t=>qu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(t=>qu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}function Oc(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pc{constructor(t,e,n,r,i,o,s,l,a,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qu(this.queryParams)),this._queryParamMap}toString(){return"Route(url:'".concat(this.url.map(t=>t.toString()).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}class Ac extends wc{constructor(t,e){super(e),this.url=t,Nc(this,e)}toString(){return Rc(this._root)}}function Nc(t,e){e.value._routerState=t,e.children.forEach(e=>Nc(t,e))}function Rc(t){const e=t.children.length>0?" { ".concat(t.children.map(Rc).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Dc(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yu(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Yu(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yu(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Yu(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mc(t,e){var n,r;return Yu(t.params,e.params)&&ic(n=t.url,r=e.url)&&n.every((t,e)=>Yu(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Mc(t.parent,e.parent))}function Lc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Fc(t,e,n,r,i){let o={};return r&&$u(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>"".concat(t)):"".concat(t)}),new ec(n.root===t?e:function t(e,n,r){const i={};return $u(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new nc(e.segments,i)}(n.root,t,e),o,i)}class Uc{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Lc(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Xu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vc{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function jc(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:"".concat(t)}function qc(t,e,n){if(t||(t=new nc([],{})),0===t.segments.length&&t.hasChildren())return Bc(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=jc(n[r]),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!Gc(s,l,e))return o;r+=2}else{if(!Gc(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new nc(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new nc(t.segments.slice(r.pathIndex),t.children),Bc(e,0,i)}return r.match&&0===i.length?new nc(t.segments,{}):r.match&&!t.hasChildren()?zc(t,e,n):r.match?Bc(t,0,i):zc(t,e,n)}function Bc(t,e,n){if(0===n.length)return new nc(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return $u(r,(n,r)=>{null!==n&&(i[r]=qc(t.children[r],e,n))}),$u(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new nc(t.segments,i)}}function zc(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Hc(n[i].outlets);return new nc(r,t)}if(0===i&&Lc(n[0])){r.push(new rc(t.segments[e].path,n[0])),i++;continue}const o=jc(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Lc(s)?(r.push(new rc(o,Wc(s))),i+=2):(r.push(new rc(o,{})),i++)}return new nc(r,{})}function Hc(t){const e={};return $u(t,(t,n)=>{null!==t&&(e[n]=zc(new nc([],{}),0,t))}),e}function Wc(t){const e={};return $u(t,(t,n)=>e[n]="".concat(t)),e}function Gc(t,e,n){return t==n.path&&Yu(e,n.parameters)}class Kc{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Dc(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Sc(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),$u(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Sc(t),i=t.value.component?n.children:e;$u(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Sc(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Fu(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Mu(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Dc(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Qc(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Qc(t){Dc(t.value),t.children.forEach(Qc)}function Yc(t){return"function"==typeof t}function Jc(t){return t instanceof ec}class Xc{constructor(t){this.segmentGroup=t||null}}class $c{constructor(t){this.urlTree=t}}function Zc(t){return new w(e=>e.error(new Xc(t)))}function th(t){return new w(e=>e.error(new $c(t)))}function eh(t){return new w(e=>e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'"))))}class nh{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Mt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(q(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zl(t=>{if(t instanceof $c)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Xc)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(q(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Zl(t=>{if(t instanceof Xc)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}createUrlTree(t,e,n){const r=t.segments.length>0?new nc([],{primary:t}):t;return new ec(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(q(t=>new nc([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return kl({});const n=[],r=[],i={};return $u(t,(t,o)=>{const s=e(o,t).pipe(q(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),kl.apply(null,n.concat(r)).pipe(Ml(),$l(),q(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return kl(...n).pipe(q(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Zl(t=>{if(t instanceof Xc)return kl(null);throw t}))),Ml(),oa(t=>!!t),Zl((t,n)=>{if(t instanceof Pl||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return kl(new nc([],{}));throw new Xc(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return sh(r)!==o?Zc(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Zc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?th(i):this.lineralizeSegments(n,i).pipe(G(n=>{const i=new nc(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:l,lastChild:a,positionalParamSegments:u}=rh(e,r,i);if(!s)return Zc(e);const c=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?th(c):this.lineralizeSegments(r,c).pipe(G(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(q(t=>(n._loadedConfig=t,new nc(r,{})))):kl(new nc(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=rh(e,n,r);if(!i)return Zc(e);const l=r.slice(s);return this.getChildConfig(t,n,r).pipe(G(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>oh(t,e,n)&&"primary"!==sh(n))}(t,n,r)?{segmentGroup:ih(new nc(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==sh(r)&&(n[sh(r)]=new nc([],{}));return n}(r,new nc(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>oh(t,e,n))}(t,n,r)?{segmentGroup:ih(new nc(t.segments,function(t,e,n,r){const i={};for(const o of n)oh(t,e,o)&&!r[sh(o)]&&(i[sh(o)]=new nc([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,l,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(q(t=>new nc(o,t))):0===r.length&&0===s.length?kl(new nc(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(q(t=>new nc(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?kl(new Hu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?kl(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?W(r).pipe(q(r=>{const i=t.get(r);let o;if(function(t){return t&&Yc(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Yc(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Zu(o)})).pipe(Ml(),(i=t=>!0===t,t=>t.lift(new sa(i,void 0,t)))):kl(!0);var i}(t.injector,e,n).pipe(G(n=>n?this.configLoader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Bu("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false"))))}(e))):kl(new Hu([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return kl(n);if(r.numberOfChildren>1||!r.children.primary)return eh(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ec(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return $u(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return $u(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new nc(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function rh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||zu)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ih(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new nc(t.segments.concat(e.segments),e.children)}return t}function oh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function sh(t){return t.outlet||"primary"}class lh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ah{constructor(t,e){this.component=t,this.route=e}}function uh(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sc(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,l=n?n.value:null,a=r?r.getContext(e.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ic(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ic(t.url,e.url)||!Yu(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mc(t,e)||!Yu(t.queryParams,e.queryParams);case"paramsChange":default:return!Mc(t,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new lh(i)):(s.data=l.data,s._resolvedData=l._resolvedData),t(e,n,s.component?a?a.children:null:r,i,o),u&&o.canDeactivateChecks.push(new ah(a&&a.outlet&&a.outlet.component||null,l))}else l&&hh(n,a,o),o.canActivateChecks.push(new lh(i)),t(e,null,s.component?a?a.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),$u(s,(t,e)=>hh(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function ch(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function hh(t,e,n){const r=Sc(t),i=t.value;$u(r,(t,r)=>{hh(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ah(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const dh=Symbol("INITIAL_VALUE");function ph(){return aa(t=>function(...t){let e=null,n=null;return O(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),H(t,n).lift(new Nl(e))}(...t.map(t=>t.pipe(na(1),function(...t){return e=>{let n=t[t.length-1];O(n)?t.pop():n=null;const r=t.length;return function(...t){return Ml()(kl(...t))}(1!==r||n?r>0?H(t,n):Sl(n):Il(t[0]),e)}}(dh)))).pipe(ha((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==dh)return t;if(r===dh&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Jc(r))return r}return t},t)},dh),Ll(t=>t!==dh),q(t=>Jc(t)?t:!0===t),na(1)))}function fh(t,e){return null!==t&&e&&e(new Lu(t)),kl(!0)}function gh(t,e){return null!==t&&e&&e(new Du(t)),kl(!0)}function mh(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?kl(r.map(r=>Dl(()=>{const i=ch(r,e,n);let o;if(function(t){return t&&Yc(t.canActivate)}(i))o=Zu(i.canActivate(e,t));else{if(!Yc(i))throw new Error("Invalid CanActivate guard");o=Zu(i(e,t))}return o.pipe(oa())}))).pipe(ph()):kl(!0)}function yh(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Dl(()=>kl(e.guards.map(i=>{const o=ch(i,e.node,n);let s;if(function(t){return t&&Yc(t.canActivateChild)}(o))s=Zu(o.canActivateChild(r,t));else{if(!Yc(o))throw new Error("Invalid CanActivateChild guard");s=Zu(o(r,t))}return s.pipe(oa())})).pipe(ph())));return kl(i).pipe(ph())}class vh{}class _h{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ch(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Pc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Tc(n,e),i=new Ac(this.url,r);return this.inheritParamsAndData(i._root),kl(i)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Oc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=oc(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(e,"' and '").concat(r,"'."))}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof vh))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new vh}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new vh;if((t.outlet||"primary")!==r)throw new vh;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Xu(n).parameters:{};i=new Pc(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sh(t),r,t.component,t,bh(e),wh(e)+n.length,Ih(t))}else{const l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new vh;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||zu)(n,t,e);if(!r)throw new vh;const i={};$u(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,s=n.slice(l.lastChild),i=new Pc(o,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sh(t),r,t.component,t,bh(e),wh(e)+o.length,Ih(t))}const l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:u}=Ch(e,o,s,l,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const t=this.processChildren(l,a);return[new Tc(i,t)]}if(0===l.length&&0===u.length)return[new Tc(i,[])];const c=this.processSegment(l,a,u,"primary");return[new Tc(i,c)]}}function bh(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wh(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ch(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Eh(t,e,n)&&"primary"!==Th(n))}(t,n,r)){const i=new nc(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Th(o)){const n=new nc([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Th(o)]=n}return i}(t,e,r,new nc(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Eh(t,e,n))}(t,n,r)){const o=new nc(t.segments,function(t,e,n,r,i,o){const s={};for(const l of r)if(Eh(t,n,l)&&!i[Th(l)]){const n=new nc([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Th(l)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new nc(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Eh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Th(t){return t.outlet||"primary"}function Sh(t){return t.data||{}}function Ih(t){return t.resolve||{}}function kh(t,e,n,r){const i=ch(t,e,r);return Zu(i.resolve?i.resolve(e,n):i(e,n))}function xh(t){return function(e){return e.pipe(aa(e=>{const n=t(e);return n?W(n).pipe(q(()=>e)):W([e])}))}}class Oh{}class Ph{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Ah=new St("ROUTES");class Nh{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(q(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Hu(Ju(r.injector.get(Ah)).map(Qu),r)}))}loadModuleFactory(t){return"string"==typeof t?W(this.loader.load(t)):Zu(t()).pipe(G(t=>t instanceof Lt?kl(t):W(this.compiler.compileModuleAsync(t))))}}class Rh{}class Dh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Mh(t){throw t}function Lh(t,e,n){return e.parse("/")}function Fh(t,e){return kl(null)}class Uh{constructor(t,e,n,r,i,o,s,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Mh,this.malformedUriErrorHandler=Lh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fh,afterPreactivation:Fh},this.urlHandlingStrategy=new Dh,this.routeReuseStrategy=new Ph,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Mt),this.console=i.get(Oi);const a=i.get(Gi);this.isNgZoneEnabled=a instanceof Gi,this.resetConfig(l),this.currentUrlTree=new ec(new nc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nh(o,s,t=>this.triggerEvent(new Nu(t)),t=>this.triggerEvent(new Ru(t))),this.routerState=kc(this.currentUrlTree,this.rootComponentType),this.transitions=new xl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ll(t=>0!==t.id),q(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),aa(t=>{let n=!1,r=!1;return kl(t).pipe(Hl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),aa(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return kl(t).pipe(aa(t=>{const n=this.transitions.getValue();return e.next(new Eu(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Tl:[t]}),aa(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(aa(t=>function(t,e,n,r,i){return new nh(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(q(e=>Object.assign({},t,{urlAfterRedirects:e})))))}),Hl(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(G(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new _h(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(q(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Hl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Hl(t=>{const n=new ku(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,l=new Eu(n,this.serializeUrl(r),i,o);e.next(l);const a=kc(r,this.rootComponentType).snapshot;return kl(Object.assign({},t,{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Tl}),xh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Hl(t=>{const e=new xu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),q(t=>Object.assign({},t,{guards:uh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(G(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?kl(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return W(t).pipe(G(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?kl(o.map(o=>{const s=ch(o,e,i);let l;if(function(t){return t&&Yc(t.canDeactivate)}(s))l=Zu(s.canDeactivate(t,e,n,r));else{if(!Yc(s))throw new Error("Invalid CanDeactivate guard");l=Zu(s(t,e,n,r))}return l.pipe(oa())})).pipe(ph()):kl(!0)}(t.component,t.route,n,e,r)),oa(t=>!0!==t,!0))}(s,r,i,t).pipe(G(n=>n&&"boolean"==typeof n?function(t,e,n,r){return W(e).pipe(fa(e=>W([gh(e.route.parent,r),fh(e.route,r),yh(t,e.path,n),mh(t,e.route,n)]).pipe(Ml(),oa(t=>!0!==t,!0))),oa(t=>!0!==t,!0))}(r,o,t,e):kl(n)),q(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Hl(t=>{if(Jc(t.guardsResult)){const e=Bu('Redirecting to "'.concat(this.serializeUrl(t.guardsResult),'"'));throw e.url=t.guardsResult,e}}),Hl(t=>{const e=new Ou(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ll(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Su(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),xh(t=>{if(t.guards.canActivateChecks.length)return kl(t).pipe(Hl(t=>{const e=new Pu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(G(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?W(i).pipe(fa(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return kl({});if(1===i.length){const o=i[0];return kh(t[o],e,n,r).pipe(q(t=>({[o]:t})))}const o={};return W(i).pipe(G(i=>kh(t[i],e,n,r).pipe(q(t=>(o[i]=t,t))))).pipe($l(),q(()=>o))}(t._resolve,t,e,r).pipe(q(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Oc(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return _(ha(t,e),ql(1),Yl(e))(n)}:function(e){return _(ha((e,n,r)=>t(e,n,r+1)),ql(1))(e)}}((t,e)=>t),q(e=>t)):kl(t)}))}),Hl(t=>{const e=new Au(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),xh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),q(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Tc(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new xc(new xl((i=n.value).url),new xl(i.params),new xl(i.queryParams),new xl(i.fragment),new xl(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Tc(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Ic(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Hl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,l=t=>this.triggerEvent(t),q(t=>(new Kc(s,t.targetRouterState,t.currentRouterState,l).activate(o),t))),Hl({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Su(t.id,this.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(this.navigationId));e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ga(i))),Zl(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Jc(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Su(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Iu(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Tl}));var i,o,s,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Wu(t),this.config=t.map(Qu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:l}=e;Kt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,u=l?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Fc(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Uc(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return $u(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Uc(n,e,r)}(n);if(o.toRoot())return Fc(e.root,new nc([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Vc(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Vc(n.snapshot._urlSegment,!0,0);const r=Lc(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vc(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),l=s.processChildren?Bc(s.segmentGroup,s.index,o.commands):qc(s.segmentGroup,s.index,o.commands);return Fc(s.segmentGroup,l,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){Kt()&&this.isNgZoneEnabled&&!Gi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Jc(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Jc(t))return tc(this.currentUrlTree,t,e);const n=this.parseUrl(t);return tc(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Tu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const l=new Promise((t,e)=>{o=t,s=e}),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Vh{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Kt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:qh(this.skipLocationChange),replaceUrl:qh(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:qh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:qh(this.preserveFragment)})}}class jh{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Tu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Kt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:qh(this.skipLocationChange),replaceUrl:qh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:qh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:qh(this.preserveFragment)})}}function qh(t){return""===t||!!t}class Bh{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof Tu&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class zh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hh,this.attachRef=null}}class Hh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new zh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wh{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new vi,this.deactivateEvents=new vi,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Gh(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Gh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===xc?this.route:t===Hh?this.childContexts:this.parent.get(t,e)}}class Kh{}class Qh{preload(t,e){return e().pipe(Zl(()=>kl(null)))}}class Yh{preload(t,e){return kl(null)}}class Jh{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Nh(e,n,e=>t.triggerEvent(new Nu(e)),e=>t.triggerEvent(new Ru(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ll(t=>t instanceof Tu),fa(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Mt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return W(n).pipe(J(),q(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(G(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Xh{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Eu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Uu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Uu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const $h=new St("ROUTER_CONFIGURATION"),Zh=new St("ROUTER_FORROOT_GUARD"),td=[ol,{provide:sc,useClass:lc},{provide:Uh,useFactory:ld,deps:[uo,sc,Hh,ol,Ie,ho,Li,Ah,$h,[Rh,new at],[Oh,new at]]},Hh,{provide:xc,useFactory:ad,deps:[Uh]},{provide:ho,useClass:go},Jh,Yh,Qh,{provide:$h,useValue:{enableTracing:!1}}];function ed(){return new io("Router",Uh)}class nd{constructor(t,e){}static forRoot(t,e){return{ngModule:nd,providers:[td,sd(t),{provide:Zh,useFactory:od,deps:[[Uh,new at,new ct]]},{provide:$h,useValue:e||{}},{provide:rl,useFactory:id,deps:[el,[new lt(il),new at],$h]},{provide:Xh,useFactory:rd,deps:[Uh,Cl,$h]},{provide:Kh,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Yh},{provide:io,multi:!0,useFactory:ed},[ud,{provide:wi,multi:!0,useFactory:cd,deps:[ud]},{provide:dd,useFactory:hd,deps:[ud]},{provide:xi,multi:!0,useExisting:dd}]]}}static forChild(t){return{ngModule:nd,providers:[sd(t)]}}}function rd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Xh(t,e,n)}function id(t,e,n={}){return n.useHash?new ll(t,e):new al(t,e)}function od(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function sd(t){return[{provide:De,multi:!0,useValue:t},{provide:Ah,multi:!0,useValue:t}]}function ld(t,e,n,r,i,o,s,l,a={},u,c){const h=new Uh(null,e,n,r,i,o,s,Ju(l));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=va();h.events.subscribe(e=>{t.logGroup("Router Event: ".concat(e.constructor.name)),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function ad(t){return t.routerState.root}class ud{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(nl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Uh),r=this.injector.get($h);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));n.hooks.afterPreactivation=()=>this.initNavigation?kl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get($h),n=this.injector.get(Jh),r=this.injector.get(Xh),i=this.injector.get(Uh),o=this.injector.get(uo);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function cd(t){return t.appInitializer.bind(t)}function hd(t){return t.bootstrapListener.bind(t)}const dd=new St("Router Initializer");var pd=qn({encapsulation:2,styles:[],data:{}});function fd(t){return Ko(0,[(t()(),Po(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),$r(1,212992,null,0,Wh,[Hh,Sn,Ye,[8,null],Ce],null,null)],(function(t,e){t(e,1,0)}),null)}var gd=xr("ng-component",Vu,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"ng-component",[],null,null,null,fd,pd)),$r(1,49152,null,0,Vu,[],null,null)],null,null)}),{},{},[]);class md{constructor(){}ngOnInit(){}}var yd=qn({encapsulation:0,styles:[[".spinner[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;margin:100px auto}.double-bounce1[_ngcontent-%COMP%], .double-bounce2[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#210cda;opacity:.6;position:absolute;top:0;left:0;-webkit-animation:2s ease-in-out infinite sk-bounce;animation:2s ease-in-out infinite sk-bounce}.double-bounce2[_ngcontent-%COMP%]{-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes sk-bounce{0%,100%{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes sk-bounce{0%,100%{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}"]],data:{}});function vd(t){return Ko(0,[(t()(),Po(0,0,null,null,2,"div",[["class","spinner"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"div",[["class","double-bounce1"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"div",[["class","double-bounce2"]],null,null,null,null,null))],null,null)}class _d{constructor(t,e,n){this.as=t,this.router=e,this.pro=n,this.isLoading=!1,this.isAuth=!1,this.isAdmin=!1,this.expression=!0}ngOnInit(){this.sub=this.as.User.subscribe(t=>{t&&"test@test.com"===t.email?this.isAuth=!0:t&&"admin@admin.com"===t.email?(this.isAuth=!0,this.isAdmin=!0):this.isAuth=!1}),this.pro.getCart().subscribe(t=>{this.products=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),this.pro.getFav().subscribe(t=>{this.Fav=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}logOut(){this.router.navigate(["/login"]),this.as.logOut()}}class bd extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class wd extends bd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Cd=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Ed extends Cd{constructor(t,e=Cd.now){super(t,()=>Ed.delegate&&Ed.delegate!==this?Ed.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Ed.delegate&&Ed.delegate!==this?Ed.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Td=new class extends Ed{}(class extends wd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),Sd=new Ed(wd);let Id=1;const kd={},xd={setImmediate(t){const e=Id++;return kd[e]=t,Promise.resolve().then(()=>function(t){const e=kd[t];e&&e()}(e)),e},clearImmediate(t){delete kd[t]}};const Od=new class extends Ed{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends wd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=xd.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(xd.clearImmediate(e),t.scheduled=void 0)}});class Pd extends w{constructor(t,e=0,n=Od){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(a(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Od)}static create(t,e=0,n=Od){return new Pd(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Pd.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Ad{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Pd(e,this.delay,this.scheduler).subscribe(t)}}let Nd=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return kl(this.value);case"E":return t=this.error,new w(e=>e.error(t));case"C":return Sl()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Rd(t,e=0){return function(n){return n.lift(new Dd(t,e))}}class Dd{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Md(t,this.scheduler,this.delay))}}class Md extends g{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Md.dispatch,this.delay,new Ld(t,this.destination)))}_next(t){this.scheduleMessage(Nd.createNext(t))}_error(t){this.scheduleMessage(Nd.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Nd.createComplete()),this.unsubscribe()}}class Ld{constructor(t,e){this.notification=t,this.destination=e}}const Fd=new St("angularfire2.realtimeDatabaseURL");function Ud(){}class Vd{constructor(t,e=Td){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class jd{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ud,{},Ud,Ud)),e.pipe(Hl(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class qd{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Vd(Zone.current)),this.insideAngular=t.run(()=>new Vd(Zone.current,Sd))}}function Bd(t,e){return function(n){return wl(e)&&(n=n.lift(new jd(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new Ad(t,e))}}(t.outsideAngular),Rd(t.insideAngular))}}var zd,Hd=n("Wcq6"),Wd=n.n(Hd);const Gd=new St("angularfire2.app.options"),Kd=new St("angularfire2.app.nameOrConfig"),Qd=Gd,Yd=Kd;class Jd{}const Xd=new sn("5.4.2");function $d(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Wd.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Wd.a.initializeApp(t,r))}let Zd=zd=class{constructor(t){Wd.a.registerVersion&&(Wd.a.registerVersion("angularfire",Xd.full,t.toString()),Wd.a.registerVersion("angular",ln.full))}static initializeApp(t,e){return{ngModule:zd,providers:[{provide:Qd,useValue:t},{provide:Yd,useValue:e}]}}},tp=class{constructor(t,e,n,r){const i=Bd(new qd(r),n);this.auth=r.runOutsideAngular(()=>$d(t,r,e).auth()),this.authState=new w(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(i),this.user=new w(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(i),this.idToken=this.user.pipe(aa(t=>t?W(t.getIdToken()):kl(null))),this.idTokenResult=this.user.pipe(aa(t=>t?W(t.getIdTokenResult()):kl(null)))}},ep=(()=>{class t{constructor(t){this.afAuth=t,this.User=t.user}signUp(t,e){return this.afAuth.auth.createUserWithEmailAndPassword(t,e)}logIN(t,e){return this.afAuth.auth.signInWithEmailAndPassword(t,e)}logOut(){return this.afAuth.auth.signOut()}}return t.ngInjectableDef=pt({factory:function(){return new t(Nt(tp))},token:t,providedIn:"root"}),t})();function np(t,e){return function(t,e=Sd){return new w(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function rp(t,e){return np(t,e).pipe(q(t=>({payload:t,type:"query"})))}function ip(t,e){return rp(t,e).pipe(q(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function op(t,e,n){return rp(t,n).pipe(q(t=>t.payload.docChanges()),ha((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),q(t=>t.map(t=>({type:t.type,payload:t}))))}function sp(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class lp{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?ip(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ll(t=>t.length>0)):ip(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ha((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=sp(t);return op(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return W(this.query.get(t)).pipe(Rd(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new ap(this.ref.doc(t),this.afs)}}class ap{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=gp(n,e);return new lp(r,i,this.afs)}snapshotChanges(){return np(this.ref,this.afs.schedulers.outsideAngular).pipe(q(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(q(t=>t.payload.data()))}get(t){return W(this.ref.get(t)).pipe(Rd(this.afs.schedulers.insideAngular))}}class up{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ip(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ll(t=>t.length>0)):ip(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ha((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=sp(t);return op(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return rp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(t=>t.payload.docs.map(t=>t.data())))}get(t){return W(this.query.get(t)).pipe(Rd(this.afs.schedulers.insideAngular))}}const cp=new St("angularfire2.enableFirestorePersistence"),hp=new St("angularfire2.firestore.persistenceSettings"),dp=new St("angularfire2.firestore.settings"),pp=parseInt(Wd.a.SDK_VERSION.split(".")[0]),fp=pp<5||5==pp&&parseInt(Wd.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function gp(t,e=(t=>t)){return{query:e(t),ref:t}}let mp=class{constructor(t,e,n,r,i,o,s){this.schedulers=new qd(o),this.keepUnstableUntilFirst=Bd(this.schedulers,i),this.firestore=o.runOutsideAngular(()=>{const n=$d(t,o,e).firestore();return n.settings(r||fp),n}),this.persistenceEnabled$=n&&!wl(i)?o.runOutsideAngular(()=>{try{return W(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return kl(!1)}}):kl(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=gp(n,e);return new lp(r,i,this)}collectionGroup(t,e){if(pp<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new up(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new ap(e,this)}createId(){return this.firestore.collection("_").doc().id}};function yp(t){const e=function(t){return new w(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(q(t=>t.bytesTransferred/t.totalBytes*100))}}function vp(t,e,n){return{getDownloadURL:()=>W(t.getDownloadURL(),e.outsideAngular).pipe(n),getMetadata:()=>W(t.getMetadata()).pipe(n),delete:()=>W(t.delete()),child:r=>vp(t.child(r),e,n),updateMetatdata:e=>W(t.updateMetadata(e)),updateMetadata:e=>W(t.updateMetadata(e)),put:(e,n)=>yp(t.put(e,n)),putString:(e,n,r)=>yp(t.putString(e,n,r))}}const _p=new St("angularfire2.storageBucket");let bp=class{constructor(t,e,n,r,i){this.schedulers=new qd(i),this.keepUnstableUntilFirst=Bd(this.schedulers,r),this.storage=i.runOutsideAngular(()=>$d(t,i,e).storage(n||void 0))}ref(t){return vp(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return vp(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}},wp=(()=>{class t{constructor(t,e,n){this.fs=t,this.Auth=e,this.Storage=n,this.Auth.User.subscribe(t=>{t&&(this.User=t)})}getCart(){return this.fs.collection("users").doc("cvO4KpQ18x5IbUUcA3D4").collection("cart").snapshotChanges()}delCart(t){return this.fs.collection("users").doc("cvO4KpQ18x5IbUUcA3D4").collection("cart").doc(t).delete()}getFav(){return this.fs.collection("users").doc("cvO4KpQ18x5IbUUcA3D4").collection("Fav").snapshotChanges()}delFav(t){return this.fs.collection("users").doc("cvO4KpQ18x5IbUUcA3D4").collection("Fav").doc(t).delete()}getUsers(){return this.fs.collection("users").valueChanges()}addCart(t){return this.fs.collection("users").doc("cvO4KpQ18x5IbUUcA3D4").collection("cart").add(t).catch(t=>console.log(t))}addFav(t){return this.fs.collection("users").doc("cvO4KpQ18x5IbUUcA3D4").collection("Fav").add(t).catch(t=>console.log(t))}updateCart(t,e){return this.fs.collection("users").doc("cvO4KpQ18x5IbUUcA3D4").collection("cart").doc(t).update(e)}getProducts(){return this.fs.collection("products").snapshotChanges()}AddProducts(t,e,n){return new Promise(r=>{let i=this.Storage.ref("ProductsImages/"+n.name);i.put(n).then(n=>{console.log("data from image",n),i.getDownloadURL().subscribe(n=>{console.log(n),this.fs.collection("products").add({title:t,price:e,image:n}).then(()=>{r()})})})})}updateProducts(t,e){return this.fs.collection("products").doc(t).update(e)}delProduct(t){return this.fs.collection("products").doc(t).delete()}}return t.ngInjectableDef=pt({factory:function(){return new t(Nt(mp),Nt(ep),Nt(bp))},token:t,providedIn:"root"}),t})();var Cp=qn({encapsulation:0,styles:[["header[_ngcontent-%COMP%]{cursor:pointer;background:#9d50bb;background:-webkit-gradient(linear,left top,right top,from(#6e48aa),to(#9d50bb));background:linear-gradient(to right,#6e48aa,#9d50bb);color:#fff}header[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{font-size:.8em}header[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:0 1.5em}header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:31px!important}header[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em;text-decoration:none;color:#fff}header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mon[_ngcontent-%COMP%]{top:4px;right:53px;font-size:13px;padding:7px;position:absolute;border-radius:50%;background-color:#eb049e;color:#fff}header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mon2[_ngcontent-%COMP%]{top:-6px;right:6px;font-size:15px;padding:5px;position:absolute;border-radius:50%;background-color:#04ebdc;color:#fff}header[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border-radius:5px;box-shadow:0 .5px .5px .5px rgba(6,169,175,.116)}"]],data:{}});function Ep(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-loading-spinner",[],null,null,null,vd,yd)),$r(1,114688,null,0,md,[],null,null)],(function(t,e){t(e,1,0)}),null)}function Tp(t){return Ko(0,[(t()(),Po(0,0,null,null,6,"a",[["class","px-2"],["routerLinkActive","router-link-active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(1,671744,[[2,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(2,1),$r(3,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,1,{links:1}),Mo(603979776,2,{linksWithHrefs:1}),(t()(),Ho(-1,null,[" \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "]))],(function(t,e){var n=t(e,2,0,"/login");t(e,1,0,n),t(e,3,0,"router-link-active")}),(function(t,e){t(e,0,0,Vr(e,1).target,Vr(e,1).href)}))}function Sp(t){return Ko(0,[(t()(),Po(0,0,null,null,3,"a",[["class","px-1"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(1,671744,null,0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(2,1),(t()(),Ho(-1,null,[" \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 "]))],(function(t,e){var n=t(e,2,0,"/dashboard");t(e,1,0,n)}),(function(t,e){t(e,0,0,Vr(e,1).target,Vr(e,1).href)}))}function Ip(t){return Ko(0,[(t()(),Po(0,0,null,null,3,"a",[["class","px-1"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(1,671744,null,0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(2,1),(t()(),Ho(-1,null,[" \u062d\u0633\u0627\u0628\u0649 "]))],(function(t,e){var n=t(e,2,0,"/profile/Diyasty");t(e,1,0,n)}),(function(t,e){t(e,0,0,Vr(e,1).target,Vr(e,1).href)}))}function kp(t){return Ko(0,[(t()(),Po(0,0,null,null,3,"a",[["class","px-1"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(1,671744,null,0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(2,1),(t()(),Ho(-1,null,[" \u0627\u0644\u062a\u0633\u062c\u064a\u0644 "]))],(function(t,e){var n=t(e,2,0,"/signup");t(e,1,0,n)}),(function(t,e){t(e,0,0,Vr(e,1).target,Vr(e,1).href)}))}function xp(t){return Ko(0,[(t()(),Po(0,0,null,null,3,"a",[["class","px-1"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Vr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.logOut()&&r),r}),null,null)),$r(1,671744,null,0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(2,1),(t()(),Ho(-1,null,[" \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c "]))],(function(t,e){var n=t(e,2,0,"/");t(e,1,0,n)}),(function(t,e){t(e,0,0,Vr(e,1).target,Vr(e,1).href)}))}function Op(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"span",[["class","mon2"]],null,null,null,null,null)),(t()(),Ho(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.Fav.length)}))}function Pp(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"span",[["class","mon"]],null,null,null,null,null)),(t()(),Ho(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.products.length)}))}function Ap(t){return Ko(0,[(t()(),Po(0,0,null,null,71,"header",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,32,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,Ep)),$r(3,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(4,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,11,"div",[["class","col-md-4 col-sm-12 col-12 my-md-4 my-2"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,10,"div",[["class","btn-group"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,9,"div",[["class","dropdown"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,1,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","btn border text-white dropdown-toggle"],["data-toggle","dropdown"],["id","dropdownMenuButton"],["type","button"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062c\u0646\u064a\u0647 \u0645\u0635\u0631\u0649 "])),(t()(),Po(10,0,null,null,6,"div",[["aria-labelledby","dropdownMenuButton"],["class","dropdown-menu text-white"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,1,"a",[["class","dropdown-item"],["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0631\u064a\u0627\u0644 \u0633\u0639\u0648\u062f\u0649 "])),(t()(),Po(13,0,null,null,1,"a",[["class","dropdown-item"],["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062f\u064a\u0646\u0627\u0631 \u0643\u0648\u064a\u062a\u0649 "])),(t()(),Po(15,0,null,null,1,"a",[["class","dropdown-item"],["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062f\u0631\u0647\u0645 \u0627\u0645\u0627\u0631\u0627\u062a\u0649 "])),(t()(),Po(17,0,null,null,4,"div",[["class","col-md-4 col-12 text-center"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,3,"h2",[["class","my-md-3 site-h2"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,19).onClick()&&r),r}),null,null)),$r(19,16384,null,0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(20,1),(t()(),Ho(-1,null,["\u0648\u0627\u062a\u0634 \u0633\u062a\u0648\u0631"])),(t()(),Po(22,0,null,null,11,"div",[["class","col-md-4 col-12 text-right"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,10,"p",[["class","my-md-4 login"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,Tp)),$r(25,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,Sp)),$r(27,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,Ip)),$r(29,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,kp)),$r(31,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,xp)),$r(33,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(34,0,null,null,37,"div",[["class","container-fluid p-0"]],null,null,null,null,null)),(t()(),Po(35,0,null,null,36,"nav",[["class","navbar navbar-expand-lg navbar-light bg-light"]],null,null,null,null,null)),(t()(),Po(36,0,null,null,1,"button",[["aria-controls","navbarNav"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarNav"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Po(37,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),Po(38,0,null,null,15,"div",[["class","collapse navbar-collapse"],["id","navbarNav"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,14,"ul",[["class","navbar-nav"]],null,null,null,null,null)),(t()(),Po(40,0,null,null,4,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),Po(41,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629 "])),(t()(),Po(43,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Ho(-1,null,["(current)"])),(t()(),Po(45,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(46,0,null,null,1,"a",[["class","nav-link"],["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0628\u062f\u0623 \u0627\u0644\u062a\u0633\u0648\u0642 "])),(t()(),Po(48,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(49,0,null,null,1,"a",[["class","nav-link"],["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0645\u0646 \u0646\u062d\u0646 "])),(t()(),Po(51,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(52,0,null,null,1,"a",[["class","nav-link"],["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u062a\u0635\u0644 \u0628\u0646\u0627 "])),(t()(),Po(54,0,null,null,17,"div",[["class","navbar-nav"]],null,null,null,null,null)),(t()(),Po(55,0,null,null,2,"li",[["class","nav-item md-mx-2"]],null,null,null,null,null)),(t()(),Po(56,0,null,null,0,"input",[["class","input"]],null,null,null,null,null)),(t()(),Po(57,0,null,null,0,"i",[["class","fa fa-search p-4 search-icon"],["style","color: black;"]],null,null,null,null,null)),(t()(),Po(58,0,null,null,13,"li",[["class","nav-item md-mx-2"],["style","cursor: pointer;"]],null,null,null,null,null)),(t()(),Po(59,0,null,null,4,"i",[["aria-hidden","true"],["class","p-3 fa fa-heart-o"],["style","color: black; font-size: 23px;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,60).onClick()&&r),r}),null,null)),$r(60,16384,null,0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(61,1),(t()(),Oo(16777216,null,null,1,null,Op)),$r(63,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(64,0,null,null,7,"i",[["aria-hidden","true"],["class","p-3 fa fa-shopping-basket"],["routerLinkActive","router-link-active"],["style","color: black; font-size: 23px;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,65).onClick()&&r),r}),null,null)),$r(65,16384,[[3,4]],0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(66,1),$r(67,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,3,{links:1}),Mo(603979776,4,{linksWithHrefs:1}),(t()(),Oo(16777216,null,null,1,null,Pp)),$r(71,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.isLoading);var r=t(e,20,0,"/");t(e,19,0,r),t(e,25,0,!n.isAuth),t(e,27,0,n.isAuth&&n.isAdmin),t(e,29,0,n.isAuth&&!n.isAdmin),t(e,31,0,!n.isAuth),t(e,33,0,n.isAuth);var i=t(e,61,0,"/Fav");t(e,60,0,i),t(e,63,0,n.Fav);var o=t(e,66,0,"/cart");t(e,65,0,o),t(e,67,0,"router-link-active"),t(e,71,0,n.products)}),null)}class Np{constructor(t,e){this.pro=t,this.User=e}ngOnInit(){this.pro.getCart().subscribe(t=>{this.UserProducts=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}ngOnDestroy(){}delete(t){this.pro.delCart(t).then(()=>{console.log("deleted")})}change(t,e){let n=this.UserProducts.find(e=>e.id===t),r={amount:+e,newPrice:n.price*+e};console.log(n.id),this.pro.updateCart(t,r).then(()=>{console.log("done")})}}var Rp=qn({encapsulation:0,styles:[[""]],data:{}});function Dp(t){return Ko(0,[(t()(),Po(0,0,null,null,13,"tbody",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(3,null,["",""])),(t()(),Po(4,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(5,null,["",""])),(t()(),Po(6,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"img",[["alt",""],["srcset",""],["width","60px"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Po(9,0,[["qa",1]],null,0,"input",[["name","quantity "],["placeholder","\u0627\u062f\u062e\u0644 \u0627\u0644\u0643\u0645\u064a\u0629  "],["type","number"]],[[8,"value",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.change(t.context.$implicit.id,Vr(t,9).value)&&r),r}),null,null)),(t()(),Po(10,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Po(11,0,null,null,2,"a",[],null,null,null,null,null)),(t()(),Po(12,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete(t.context.$implicit.id)&&r),r}),null,null)),(t()(),Ho(-1,null,[" \u062d\u0630\u0641 "]))],null,(function(t,e){t(e,3,0,e.context.$implicit.title),t(e,5,0,e.context.$implicit.newPrice?e.context.$implicit.newPrice:e.context.$implicit.price),t(e,7,0,gr(1,"",e.context.$implicit.image,"")),t(e,9,0,gr(1,"",e.context.$implicit.amount,""))}))}function Mp(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-header",[],null,null,null,Ap,Cp)),$r(1,114688,null,0,_d,[ep,Uh,wp],null,null),(t()(),Po(2,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,2,"a",[["class","btn btn-danger"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(4,671744,null,0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),(t()(),Ho(-1,null,["\u0627\u0644\u0631\u062c\u0648\u0639 \u0644\u0644\u0631\u0626\u064a\u0633\u064a\u0629 "])),(t()(),Po(6,0,null,null,14,"table",[["class","table table-hover table-bordered"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),Po(8,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Po(9,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(11,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0643\u0645\u064a\u0629"])),(t()(),Po(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0639\u062f\u064a\u0644"])),(t()(),Oo(16777216,null,null,1,null,Dp)),$r(20,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(21,0,null,null,4,"p",[["class","float-right mr-4"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,3,"a",[["class","btn btn-success white"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,23).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(23,671744,null,0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(24,1),(t()(),Ho(-1,null,[" \u0627\u0634\u062a\u0631\u0649 \u0627\u0644\u0627\u0646 "]))],(function(t,e){var n=e.component;t(e,1,0),t(e,4,0,"/"),t(e,20,0,n.UserProducts);var r=t(e,24,0,"/checkout");t(e,23,0,r)}),(function(t,e){t(e,3,0,Vr(e,4).target,Vr(e,4).href),t(e,22,0,Vr(e,23).target,Vr(e,23).href)}))}var Lp=xr("app-cart",Np,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-cart",[],null,null,null,Mp,Rp)),$r(1,245760,null,0,Np,[wp,ep],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Fp{constructor(t,e){this.pro=t,this.User=e}ngOnInit(){this.pro.getFav().subscribe(t=>{this.UserFav=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}delete(t){this.pro.delFav(t).then(()=>{console.log("deleted")})}}var Up=qn({encapsulation:0,styles:[[""]],data:{}});function Vp(t){return Ko(0,[(t()(),Po(0,0,null,null,11,"tbody",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(3,null,["",""])),(t()(),Po(4,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(5,null,["",""])),(t()(),Po(6,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"img",[["alt",""],["srcset",""],["width","60px"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(8,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Po(9,0,null,null,2,"a",[],null,null,null,null,null)),(t()(),Po(10,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete(t.context.$implicit.id)&&r),r}),null,null)),(t()(),Ho(-1,null,[" \u062d\u0630\u0641 "]))],null,(function(t,e){t(e,3,0,e.context.$implicit.title),t(e,5,0,e.context.$implicit.newPrice?e.context.$implicit.newPrice:e.context.$implicit.price),t(e,7,0,gr(1,"",e.context.$implicit.image,""))}))}function jp(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-header",[],null,null,null,Ap,Cp)),$r(1,114688,null,0,_d,[ep,Uh,wp],null,null),(t()(),Po(2,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,2,"a",[["class","btn btn-danger"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(4,671744,null,0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),(t()(),Ho(-1,null,["\u0627\u0644\u0631\u062c\u0648\u0639 \u0644\u0644\u0631\u0626\u064a\u0633\u064a\u0629 "])),(t()(),Po(6,0,null,null,12,"table",[["class","table table-hover table-bordered"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,9,"thead",[],null,null,null,null,null)),(t()(),Po(8,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Po(9,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(11,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0639\u062f\u064a\u0644"])),(t()(),Oo(16777216,null,null,1,null,Vp)),$r(18,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(19,0,null,null,4,"p",[["class","float-right mr-4"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,3,"a",[["class","btn btn-success white"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(21,671744,null,0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(22,1),(t()(),Ho(-1,null,[" \u0627\u0634\u062a\u0631\u0649 \u0627\u0644\u0627\u0646 "]))],(function(t,e){var n=e.component;t(e,1,0),t(e,4,0,"/"),t(e,18,0,n.UserFav);var r=t(e,22,0,"/checkout");t(e,21,0,r)}),(function(t,e){t(e,3,0,Vr(e,4).target,Vr(e,4).href),t(e,20,0,Vr(e,21).target,Vr(e,21).href)}))}var qp=xr("app-fav",Fp,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-fav",[],null,null,null,jp,Up)),$r(1,114688,null,0,Fp,[wp,ep],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Bp{constructor(){}ngOnInit(){}}var zp=qn({encapsulation:0,styles:[['@charset "UTF-8";*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:inherit}.main_dashboard[_ngcontent-%COMP%]{background:#f1f2f7;color:#2f4f4f}.warn[_ngcontent-%COMP%]{color:rgba(255,0,0,.623)}main[_ngcontent-%COMP%]{position:relative;color:#2f4f4f;background:#f1f2f7;padding:50px 0}main[_ngcontent-%COMP%]   .statists[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:240px;top:120px}main[_ngcontent-%COMP%]   .statists[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:310px;background:#9d50bb85;background:-webkit-gradient(linear,left top,right top,from(#6e48aa),to(#9d50bb));background:linear-gradient(to right,#6e48aa,#9d50bb);color:#fff;border:.2px solid #9d50bb;box-sizing:border-box;padding:10px;font-size:2rem;text-align:center;border-radius:10px;box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15)}main[_ngcontent-%COMP%]   .statists[_ngcontent-%COMP%]   .box2[_ngcontent-%COMP%]{width:310px;background:#ec6f09d2;color:#fff;border:.2px solid #9d50bb;box-sizing:border-box;padding:10px;font-size:2rem;text-align:center;border-radius:10px;box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15)}main[_ngcontent-%COMP%]   .statists[_ngcontent-%COMP%]   .box3[_ngcontent-%COMP%]{width:310px;background:#236912fa;color:#fff;border:.2px solid #9d50bb;box-sizing:border-box;padding:10px;font-size:2rem;text-align:center;border-radius:10px;box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15)}header[role=banner][_ngcontent-%COMP%]{background:#fff;box-shadow:1px 1px 3px rgba(0,0,0,.15)}header[role=banner][_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-weight:300;padding:1rem}header[role=banner][_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"\uf248";font-family:FontAwesome;padding-left:.6em;color:red}header[role=banner][_ngcontent-%COMP%]   .utilities[_ngcontent-%COMP%]{width:100%;background:#4e78a1;color:#ddd}header[role=banner][_ngcontent-%COMP%]   .utilities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.2)}header[role=banner][_ngcontent-%COMP%]   .utilities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.7em;display:block}.utilities[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf248";font-family:FontAwesome;padding-left:.6em}.logout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf08b"}.users[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf007"}nav[role=navigation][_ngcontent-%COMP%]{background:#2a3542;color:#ddd}nav[role=navigation][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.08)}nav[role=navigation][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ddd;text-decoration:none;display:block;padding:.7em}nav[role=navigation][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.05)}nav[role=navigation][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf248";font-family:FontAwesome;padding-left:.6em}nav[role=navigation][_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf0e4"}nav[role=navigation][_ngcontent-%COMP%]   .write[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf055"}nav[role=navigation][_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf040"}nav[role=navigation][_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf27b"}nav[role=navigation][_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf007"}.active[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.05)}.comments[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .current[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .users[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .write[_ngcontent-%COMP%]   .write[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.1)}footer[role=contentinfo][_ngcontent-%COMP%]{background:#708090;color:#ddd;font-size:.8em;text-align:center;padding:.2em}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}main[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:1.2em;margin:.5em 0}main[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;width:0;height:0;left:0;top:.3em;border-left:10px solid #dde;border-top:5px solid transparent;border-bottom:5px solid transparent}.error[_ngcontent-%COMP%]{background-color:#ffe9e0;border-color:#ffc4ad}label.error[_ngcontent-%COMP%]{padding:.2em .5em}.feedback[_ngcontent-%COMP%]{background:#fcfae6;color:#857a11;margin:1em;padding:.5em .5em .5em 2em;border:1px solid khaki}.feedback[_ngcontent-%COMP%]:before{content:"\uf05a";font-family:fontawesome;color:#e4d232;margin-left:.5em}.feedback[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{border-left-color:#f6f0b9}.feedback.error[_ngcontent-%COMP%]{background:#ffe9e0;color:#942a00;margin:1em;padding:.5em .5em .5em 2em;border:1px solid #ffa07a}.feedback.error[_ngcontent-%COMP%]:before{content:"\uf06a";font-family:fontawesome;color:#ff5714;margin-left:.5em}.feedback.error[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{border-left-color:#ffc4ad}.feedback.success[_ngcontent-%COMP%]{background:#98eee6;color:#08322e;margin:1em;padding:.5em .5em .5em 2em;border:1px solid #40e0d0}.feedback.success[_ngcontent-%COMP%]:before{content:"\uf164";font-family:fontawesome;color:#1aa093;margin-left:.5em}.feedback.success[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{border-left-color:#6ce7db}@media screen and (min-width:600px){.dashboard[_ngcontent-%COMP%]{height:100%}header[role=banner][_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;z-index:99;height:90px;border-bottom:.2px solid #333636}header[role=banner][_ngcontent-%COMP%]   .utilities[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:0 0;color:#133b3b;width:auto}header[role=banner][_ngcontent-%COMP%]   .utilities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}header[role=banner][_ngcontent-%COMP%]   .utilities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5em 1em}nav[role=navigation][_ngcontent-%COMP%]{position:fixed;width:200px;top:92px;bottom:0;right:0}}']],data:{}});function Hp(t){return Ko(0,[(t()(),Po(0,0,null,null,91,"div",[["class","main_dashboard"],["dir","rtl"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,10,"header",[["role","banner"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0632\u0648\u0646 \u0633\u062a\u0648\u0631"])),(t()(),Po(4,0,null,null,7,"ul",[["class","utilities"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(6,0,null,null,2,"li",[["class","users"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,1,"a",[["href","/"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0631\u062c\u0648\u0639 \u0644\u0644\u0631\u0626\u064a\u0633\u0629 "])),(t()(),Po(9,0,null,null,2,"li",[["class","logout warn"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,1,"a",[["href",""]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c "])),(t()(),Po(12,0,null,null,46,"nav",[["role","navigation"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,45,"ul",[["class","main"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,7,"li",[["class","dashboard"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(16,671744,[[2,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(17,1),$r(18,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,1,{links:1}),Mo(603979776,2,{linksWithHrefs:1}),(t()(),Ho(-1,null,["\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 "])),(t()(),Po(22,0,null,null,11,"li",[["class","write"],["routerLinkActive","active"]],null,null,null,null,null)),$r(23,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,3,{links:1}),Mo(603979776,4,{linksWithHrefs:1}),(t()(),Po(26,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(27,671744,[[6,4],[4,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(28,1),$r(29,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),Mo(603979776,5,{links:1}),Mo(603979776,6,{linksWithHrefs:1}),Bo(32,{exact:0}),(t()(),Ho(-1,null,["\u0627\u0644\u0637\u0644\u0628\u0627\u062a "])),(t()(),Po(34,0,null,null,7,"li",[["class","edit"]],null,null,null,null,null)),(t()(),Po(35,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(36,671744,[[8,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(37,1),$r(38,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,7,{links:1}),Mo(603979776,8,{linksWithHrefs:1}),(t()(),Ho(-1,null,["\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a "])),(t()(),Po(42,0,null,null,10,"li",[["class","users"],["routerLinkActive","active"]],null,null,null,null,null)),$r(43,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,9,{links:1}),Mo(603979776,10,{linksWithHrefs:1}),(t()(),Po(46,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,47).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(47,671744,[[12,4],[10,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(48,1),$r(49,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,11,{links:1}),Mo(603979776,12,{linksWithHrefs:1}),(t()(),Ho(-1,null,["\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 "])),(t()(),Po(53,0,null,null,5,"li",[["class","comments"],["routerLinkActive","active"]],null,null,null,null,null)),$r(54,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,13,{links:1}),Mo(603979776,14,{linksWithHrefs:1}),(t()(),Po(57,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0627\u062d\u0635\u0627\u0626\u064a\u0627\u062a "])),(t()(),Po(59,0,null,null,32,"main",[],null,null,null,null,null)),(t()(),Po(60,0,null,null,31,"div",[["class","statists"]],null,null,null,null,null)),(t()(),Po(61,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(62,0,null,null,8,"div",[["class","col"]],null,null,null,null,null)),(t()(),Po(63,0,null,null,7,"div",[["class","box"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,64).onClick()&&r),r}),null,null)),$r(64,16384,null,0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(65,1),(t()(),Po(66,0,null,null,0,"i",[["class","fa fa-bolt 3x"]],null,null,null,null,null)),(t()(),Po(67,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Ho(-1,null,["50"])),(t()(),Po(69,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0637\u0644\u0628\u0627\u062a"])),(t()(),Po(71,0,null,null,8,"div",[["class","col"]],null,null,null,null,null)),(t()(),Po(72,0,null,null,7,"div",[["class","box2"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,73).onClick()&&r),r}),null,null)),$r(73,16384,null,0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(74,1),(t()(),Po(75,0,null,null,0,"i",[["class","fa fa-user 3x"]],null,null,null,null,null)),(t()(),Po(76,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Ho(-1,null,["50"])),(t()(),Po(78,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"])),(t()(),Po(80,0,null,null,8,"div",[["class","col"]],null,null,null,null,null)),(t()(),Po(81,0,null,null,7,"div",[["class","box3"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,82).onClick()&&r),r}),null,null)),$r(82,16384,null,0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(83,1),(t()(),Po(84,0,null,null,0,"i",[["class","fa fa-list-alt 3x"]],null,null,null,null,null)),(t()(),Po(85,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Ho(-1,null,["50"])),(t()(),Po(87,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"])),(t()(),Po(89,0,null,null,2,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(90,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),$r(91,212992,null,0,Wh,[Hh,Sn,Ye,[8,null],Ce],null,null)],(function(t,e){var n=t(e,17,0,"/dashboard");t(e,16,0,n),t(e,18,0,"active"),t(e,23,0,"active");var r=t(e,28,0,"/dashboard");t(e,27,0,r);var i=t(e,32,0,!0);t(e,29,0,i,"active");var o=t(e,37,0,"products");t(e,36,0,o),t(e,38,0,"active"),t(e,43,0,"active");var s=t(e,48,0,"users");t(e,47,0,s),t(e,49,0,"active"),t(e,54,0,"active");var l=t(e,65,0,"/dashboard");t(e,64,0,l);var a=t(e,74,0,"users");t(e,73,0,a);var u=t(e,83,0,"products");t(e,82,0,u),t(e,91,0)}),(function(t,e){t(e,15,0,Vr(e,16).target,Vr(e,16).href),t(e,26,0,Vr(e,27).target,Vr(e,27).href),t(e,35,0,Vr(e,36).target,Vr(e,36).href),t(e,46,0,Vr(e,47).target,Vr(e,47).href)}))}var Wp=xr("app-dashboard",Bp,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-dashboard",[],null,null,null,Hp,zp)),$r(1,114688,null,0,Bp,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Gp{constructor(){}ngOnInit(){}}var Kp=qn({encapsulation:0,styles:[[".table[_ngcontent-%COMP%]{background:#9d50bb85}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid #f1f2f7}.thead[_ngcontent-%COMP%]{background:#9d50bb85;background:-webkit-gradient(linear,left top,right top,from(#6e48aa),to(#9d50bb));background:linear-gradient(to right,#6e48aa,#9d50bb);color:#fff}"]],data:{}});function Qp(t){return Ko(0,[(t()(),Po(0,0,null,null,72,"table",[["class","table mt-5"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,7,"thead",[["class","thead"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"])),(t()(),Po(5,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"])),(t()(),Po(7,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"])),(t()(),Po(9,0,null,null,63,"tbody",[],null,null,null,null,null)),(t()(),Po(10,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(11,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["1"])),(t()(),Po(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Mark"])),(t()(),Po(15,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Otto"])),(t()(),Po(17,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["2"])),(t()(),Po(20,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Jacob"])),(t()(),Po(22,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Thornton"])),(t()(),Po(24,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(25,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["3"])),(t()(),Po(27,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Larry"])),(t()(),Po(29,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["the Bird"])),(t()(),Po(31,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(32,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["1"])),(t()(),Po(34,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Mark"])),(t()(),Po(36,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Otto"])),(t()(),Po(38,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(39,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["2"])),(t()(),Po(41,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Jacob"])),(t()(),Po(43,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Thornton"])),(t()(),Po(45,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(46,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["3"])),(t()(),Po(48,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Larry"])),(t()(),Po(50,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["the Bird"])),(t()(),Po(52,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(53,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["1"])),(t()(),Po(55,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Mark"])),(t()(),Po(57,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Otto"])),(t()(),Po(59,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(60,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["2"])),(t()(),Po(62,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Jacob"])),(t()(),Po(64,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Thornton"])),(t()(),Po(66,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(67,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["3"])),(t()(),Po(69,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["Larry"])),(t()(),Po(71,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["the Bird"]))],null,null)}var Yp=xr("app-orders",Gp,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-orders",[],null,null,null,Qp,Kp)),$r(1,114688,null,0,Gp,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Jp{constructor(t){this.Users=t}ngOnInit(){this.Users.getUsers().subscribe(t=>{this.users=t})}}var Xp=qn({encapsulation:0,styles:[[".table[_ngcontent-%COMP%]{background:#9d50bb85}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid #f1f2f7}.thead[_ngcontent-%COMP%]{background:#9d50bb85;background:-webkit-gradient(linear,left top,right top,from(#e9ba8e),to(#10e41b));background:linear-gradient(to right,#e9ba8e,#10e41b);color:#fff}"]],data:{}});function $p(t){return Ko(0,[(t()(),Po(0,0,null,null,7,"tbody",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(3,null,["",""])),(t()(),Po(4,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(5,null,["",""])),(t()(),Po(6,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(7,null,["",""]))],null,(function(t,e){t(e,3,0,e.context.$implicit.id),t(e,5,0,e.context.$implicit.name),t(e,7,0,e.context.$implicit.email)}))}function Zp(t){return Ko(0,[(t()(),Po(0,0,null,null,10,"table",[["class","table mt-5"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,7,"thead",[["class","thead"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0631\u0642\u0645 \u0627\u0644\u0645\u0639\u0631\u0641"])),(t()(),Po(5,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"])),(t()(),Po(7,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0639\u062f\u064a\u0644"])),(t()(),Oo(16777216,null,null,1,null,$p)),$r(10,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,10,0,e.component.users)}),null)}var tf=xr("app-users",Jp,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-users",[],null,null,null,Zp,Xp)),$r(1,114688,null,0,Jp,[wp],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class ef extends j{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=V(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}const nf=new St("NgValueAccessor"),rf=new St("CompositionEventMode");class of{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=va()?va().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class sf{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class lf extends sf{get formDirective(){return null}get path(){return null}}function af(){throw new Error("unimplemented")}class uf extends sf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return af()}get asyncValidator(){return af()}}class cf{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class hf extends cf{constructor(t){super(t)}}class df extends cf{constructor(t){super(t)}}function pf(t){return null==t||0===t.length}const ff=new St("NgValidators"),gf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mf{static min(t){return e=>{if(pf(e.value)||pf(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(pf(e.value)||pf(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return pf(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return pf(t.value)?null:gf.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(pf(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return mf.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(pf(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(yf);return 0==e.length?null:function(t){return _f(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(yf);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&a(e[0])&&(e=e[0]),0===e.length?Tl:n?t(e).pipe(q(t=>n(...t))):new w(t=>new ef(t,e))}(function(t,e){return e.map(e=>e(t))}(t,e).map(vf)).pipe(q(_f))}}}function yf(t){return null!=t}function vf(t){const e=Be(t)?W(t):t;if(!ze(e))throw new Error("Expected validator to return Promise or Observable.");return e}function _f(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function bf(t){return t.validate?e=>t.validate(e):t}function wf(t){return t.validate?e=>t.validate(e):t}class Cf{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}class Ef{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Tf='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Sf='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',If='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class kf{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(Tf))}static ngModelGroupException(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Sf,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(If))}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(Tf))}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(Sf))}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}function xf(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}class Of{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(xf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Pf(t,e){return null==t?"".concat(e):("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}class Af{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Pf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Pf(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Nf(t,e){return[...e.path,t]}function Rf(t,e){t||Ff(e,"Cannot find control with"),e.valueAccessor||Ff(e,"No value accessor for form control with"),t.validator=mf.compose([t.validator,e.validator]),t.asyncValidator=mf.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Df(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Df(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Df(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Mf(t,e){null==t&&Ff(e,"Cannot find control with"),t.validator=mf.compose([t.validator,e.validator]),t.asyncValidator=mf.composeAsync([t.asyncValidator,e.asyncValidator])}function Lf(t){return Ff(t,"There is no FormControl instance attached to form control element with")}function Ff(t,e){let n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Uf(t){return null!=t?mf.compose(t.map(bf)):null}function Vf(t){return null!=t?mf.composeAsync(t.map(wf)):null}function jf(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Fe(e,n.currentValue)}const qf=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},Cf,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Fe}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=xf(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Fe}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(uf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Bf(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function zf(t,e){if(!e)return null;Array.isArray(e)||Ff(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===of?n=e:(o=e,qf.some(t=>o.constructor===t)?(r&&Ff(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Ff(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Ff(t,"No valid value accessor for form control with"),null)}function Hf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Wf(t){const e=Kf(t)?t.validators:t;return Array.isArray(e)?Uf(e):e||null}function Gf(t,e){const n=Kf(e)?e.asyncValidators:t;return Array.isArray(n)?Vf(n):n||null}function Kf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Qf{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Wf(t)}setAsyncValidators(t){this.asyncValidator=Gf(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=vf(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof Jf?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Xf&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new vi,this.statusChanges=new vi}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Kf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Yf extends Qf{constructor(t=null,e,n){super(Wf(e),Gf(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Jf extends Qf{constructor(t,e,n){super(Wf(e),Gf(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Yf?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}class Xf extends Qf{constructor(t,e,n){super(Wf(e),Gf(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Yf?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const $f=Promise.resolve(null);class Zf extends lf{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new vi,this.form=new Jf({},Uf(t),Vf(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$f.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Rf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$f.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Hf(this._directives,t)})}addFormGroup(t){$f.then(()=>{const e=this._findContainer(t.path),n=new Jf({});Mf(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$f.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){$f.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Bf(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class tg{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(Tf,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}static formGroupNameException(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Sf,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(If))}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Sf,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(If))}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const eg=new St("NgFormSelectorWarning");class ng extends lf{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Nf(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Uf(this._validators)}get asyncValidator(){return Vf(this._asyncValidators)}_checkParentType(){}}class rg extends ng{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof rg||this._parent instanceof Zf||tg.modelGroupParentException()}}const ig=Promise.resolve(null);class og extends uf{constructor(t,e,n,r){super(),this.control=new Yf,this._registered=!1,this.update=new vi,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=zf(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),jf(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Nf(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Uf(this._rawValidators)}get asyncValidator(){return Vf(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof rg)&&this._parent instanceof ng?tg.formGroupNameException():this._parent instanceof rg||this._parent instanceof Zf||tg.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||tg.missingNameException()}_updateValue(t){ig.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ig.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class sg{}const lg=new St("NgModelWithFormControlWarning");class ag extends lf{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new vi}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Rf(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Hf(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Mf(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Mf(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Bf(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Lf(e)),e.valueAccessor.registerOnTouched(()=>Lf(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Rf(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Uf(this._validators);this.form.validator=mf.compose([this.form.validator,t]);const e=Vf(this._asyncValidators);this.form.asyncValidator=mf.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||kf.missingFormException()}}class ug extends ng{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){hg(this._parent)&&kf.groupParentException()}}class cg extends lf{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Nf(this.name,this._parent)}get validator(){return Uf(this._validators)}get asyncValidator(){return Vf(this._asyncValidators)}_checkParentType(){hg(this._parent)&&kf.arrayParentException()}}function hg(t){return!(t instanceof ug||t instanceof ag||t instanceof cg)}let dg=(()=>{class t extends uf{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new vi,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=zf(this,r)}set isDisabled(t){kf.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),jf(e,this.viewModel)&&(function(t,e,n,r){Kt()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(kf.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Nf(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Uf(this._rawValidators)}get asyncValidator(){return Vf(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof ug)&&this._parent instanceof ng?kf.ngModelGroupException():this._parent instanceof ug||this._parent instanceof ag||this._parent instanceof cg||kf.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class pg{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=="".concat(t),this._onChange&&this._onChange()}validate(t){return this.required?mf.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class fg{}class gg{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Jf(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Yf(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Xf(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Yf||t instanceof Jf||t instanceof Xf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class mg{static withConfig(t){return{ngModule:mg,providers:[{provide:eg,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class yg{static withConfig(t){return{ngModule:yg,providers:[{provide:lg,useValue:t.warnOnNgModelWithFormControl}]}}}class vg{constructor(t,e){this.ProductSer=t,this.storage=e}ngOnInit(){this.ProductSer.getProducts().subscribe(t=>{this.Products=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}updateProducts(t){let e=this.Products.find(e=>e.id===t);this.data=e,this.ProductSer.updateProducts(e.id,this.data).then(()=>{console.log("done from here",t)}).finally(()=>{}).catch(t=>console.log(t))}delateProducts(t){this.Products.find(e=>e.id===t),this.ProductSer.delProduct(t).then(()=>{console.log("deleted ",t)})}}var _g=qn({encapsulation:0,styles:[[".table[_ngcontent-%COMP%]{background:#9d50bb4d}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid #f1f2f7}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:red}.thead[_ngcontent-%COMP%]{background:#9d50bb85;background:-webkit-gradient(linear,left top,right top,from(#1feb04),to(#1061e4));background:linear-gradient(to right,#1feb04,#1061e4);color:#fff}.btn[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{margin-right:0!important}"]],data:{}});function bg(t){return Ko(0,[(t()(),Po(0,0,null,null,13,"tbody",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(3,null,["",""])),(t()(),Po(4,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(5,null,["",""])),(t()(),Po(6,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"img",[["height","40px"],["width","40px"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(9,null,["",""])),(t()(),Po(10,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Po(11,0,null,null,0,"i",[["class","fa fa-edit"],["data-target","#largeModal"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.updateProducts(t.context.$implicit.id)&&r),r}),null,null)),(t()(),Po(12,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"i",[["class","fa fa-remove"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delateProducts(t.context.$implicit.id)&&r),r}),null,null))],null,(function(t,e){t(e,3,0,e.context.$implicit.id),t(e,5,0,e.context.$implicit.title),t(e,7,0,e.context.$implicit.image),t(e,9,0,e.context.$implicit.price)}))}function wg(t){return Ko(0,[(t()(),Po(0,0,null,null,27,"div",[["class","from-group"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c "])),(t()(),Po(3,0,null,null,5,"input",[["class","form-control"],["name","title"],["placeholder","\u062a\u0639\u062f\u064a\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,4)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.data.title=n)&&r),r}),null,null)),$r(4,16384,null,0,of,[rn,Ze,[2,rf]],null,null),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(6,671744,null,0,og,[[8,null],[8,null],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(8,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(9,0,null,null,1,"label",[["for","price"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062a\u062c "])),(t()(),Po(11,0,null,null,6,"input",[["class","form-control"],["name","price"],["placeholder","\u062a\u0639\u062f\u064a\u0644 \u0633\u0639\u0631  \u0627\u0644\u0645\u0646\u062a\u062c "],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,12)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,12).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,12)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,12)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Vr(t,13).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Vr(t,13).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,13).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.data.price=n)&&r),r}),null,null)),$r(12,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(13,16384,null,0,Cf,[rn,Ze],null,null),Zr(1024,null,nf,(function(t,e){return[t,e]}),[of,Cf]),$r(15,671744,null,0,og,[[8,null],[8,null],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(17,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(18,0,[[1,0],["newPrice",1]],null,6,"input",[["class","form-control"],["name","sale"],["placeholder","\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645 "],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,19)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,19).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,19)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,19)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Vr(t,20).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Vr(t,20).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,20).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.data.newPrice=n)&&r),r}),null,null)),$r(19,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(20,16384,null,0,Cf,[rn,Ze],null,null),Zr(1024,null,nf,(function(t,e){return[t,e]}),[of,Cf]),$r(22,671744,null,0,og,[[8,null],[8,null],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(24,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(25,0,null,null,1,"label",[["for","image"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c "])),(t()(),Po(27,0,null,null,0,"img",[["alt",""],["height","50px"],["srcset",""],["style","display: block;"],["width","50px"]],[[8,"src",4]],null,null,null,null))],(function(t,e){var n=e.component;t(e,6,0,"title",n.data.title),t(e,15,0,"price",n.data.price),t(e,22,0,"sale",n.data.newPrice)}),(function(t,e){var n=e.component;t(e,3,0,Vr(e,8).ngClassUntouched,Vr(e,8).ngClassTouched,Vr(e,8).ngClassPristine,Vr(e,8).ngClassDirty,Vr(e,8).ngClassValid,Vr(e,8).ngClassInvalid,Vr(e,8).ngClassPending),t(e,11,0,Vr(e,17).ngClassUntouched,Vr(e,17).ngClassTouched,Vr(e,17).ngClassPristine,Vr(e,17).ngClassDirty,Vr(e,17).ngClassValid,Vr(e,17).ngClassInvalid,Vr(e,17).ngClassPending),t(e,18,0,Vr(e,24).ngClassUntouched,Vr(e,24).ngClassTouched,Vr(e,24).ngClassPristine,Vr(e,24).ngClassDirty,Vr(e,24).ngClassValid,Vr(e,24).ngClassInvalid,Vr(e,24).ngClassPending),t(e,27,0,n.data.image)}))}function Cg(t){return Ko(0,[Mo(671088640,1,{NewPrice:0}),(t()(),Po(1,0,null,null,4,"button",[["class","btn btn-success btn-lg mt-2 mb-1 rounded float-left"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,2).onClick()&&r),r}),null,null)),$r(2,16384,null,0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(3,1),(t()(),Po(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c\n"])),(t()(),Po(6,0,null,null,16,"table",[["class","table mt-1"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,13,"thead",[["class","thead"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),Po(9,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0631\u0642\u0645 \u0627\u0644\u0645\u0639\u0631\u0641"])),(t()(),Po(11,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(13,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(15,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(17,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0639\u062f\u064a\u0644"])),(t()(),Po(19,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062d\u0630\u0641"])),(t()(),Oo(16777216,null,null,1,null,bg)),$r(22,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(23,0,null,null,0,"div",[["class","row mb-4"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,14,"div",[["aria-hidden","true"],["aria-labelledby","basicModal"],["class","modal fade"],["id","largeModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Po(25,0,null,null,13,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Po(26,0,null,null,12,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,1,"h4",[["class","modal-title"],["id","myModalLabel"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(30,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\xd7"])),(t()(),Po(33,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,wg)),$r(35,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(36,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Po(37,0,null,null,1,"button",[["class","btn btn-success mr-auto"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u0631\u0627\u062a "]))],(function(t,e){var n=e.component,r=t(e,3,0,"../addProduct");t(e,2,0,r),t(e,22,0,n.Products),t(e,35,0,n.data)}),null)}var Eg=xr("app-products",vg,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-products",[],null,null,null,Cg,_g)),$r(1,114688,null,0,vg,[wp,bp],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Tg{constructor(t,e,n){this.storage=t,this.Products=e,this.router=n}ngOnInit(){}onFileSelected(t){}onSubmit(t,e,n){let r=this.image.nativeElement.files[0];console.log(r),this.Products.AddProducts(t.value,e.value,r).then(t=>{n.reset(),console.log(" Data From Form",t),this.router.navigate(["/dashboard/products"])})}}var Sg=qn({encapsulation:0,styles:[[""]],data:{}});function Ig(t){return Ko(0,[Mo(671088640,1,{image:0}),(t()(),Po(1,0,null,null,44,"div",[["class","card card-outline-secondary"],["dir","rtl"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,3,"button",[["class","btn btn-danger rounded float-right btn-lg mt-2 mb-1"],["style","margin-left: 68px;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,3).onClick()&&r),r}),null,null)),$r(3,16384,null,0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(4,1),(t()(),Po(5,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,1,"h3",[["class","mb-0"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c"])),(t()(),Po(9,0,null,null,36,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,35,"div",[["class","from-group"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,34,"form",[["class","p-2 m-2"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Vr(t,13).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,13).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit(Vr(t,16),Vr(t,24),Vr(t,13))&&r),r}),null,null)),$r(12,16384,null,0,sg,[],null,null),$r(13,4210688,[["form",4]],0,Zf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Zr(2048,null,lf,null,[Zf]),$r(15,16384,null,0,df,[[4,lf]],null,null),(t()(),Po(16,0,[["t",1]],null,7,"input",[["class","form-control"],["name","title"],["ngModel",""],["placeholder"," \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c "],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Vr(t,17)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,17)._compositionEnd(n.target.value)&&r),r}),null,null)),$r(17,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(18,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(21,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},null),Zr(2048,null,uf,null,[og]),$r(23,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(24,0,[["p",1]],null,8,"input",[["class","form-control"],["name","price"],["ngModel",""],["placeholder"," \u0633\u0639\u0631  \u0627\u0644\u0645\u0646\u062a\u062c "],["required",""],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Vr(t,25)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,25).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,25)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,25)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Vr(t,26).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Vr(t,26).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,26).onTouched()&&r),r}),null,null)),$r(25,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(26,16384,null,0,Cf,[rn,Ze],null,null),$r(27,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t,e){return[t,e]}),[of,Cf]),$r(30,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},null),Zr(2048,null,uf,null,[og]),$r(32,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(33,0,null,null,1,"label",[["for","image"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c "])),(t()(),Po(35,0,[[1,0],["userPhoto",1]],null,7,"input",[["autocomplete","off"],["class","form-control"],["id","file"],["name","image"],["ngModel",""],["required",""],["type","file"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,36)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,36).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,36)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,36)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==i.onFileSelected(n)&&r),r}),null,null)),$r(36,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(37,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(40,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},null),Zr(2048,null,uf,null,[og]),$r(42,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(43,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Po(44,0,null,null,1,"button",[["class","btn btn-success btn-lg float-left"],["type","submit"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c "]))],(function(t,e){var n=t(e,4,0,"../products");t(e,3,0,n),t(e,18,0,""),t(e,21,0,"title",""),t(e,27,0,""),t(e,30,0,"price",""),t(e,37,0,""),t(e,40,0,"image","")}),(function(t,e){t(e,11,0,Vr(e,15).ngClassUntouched,Vr(e,15).ngClassTouched,Vr(e,15).ngClassPristine,Vr(e,15).ngClassDirty,Vr(e,15).ngClassValid,Vr(e,15).ngClassInvalid,Vr(e,15).ngClassPending),t(e,16,0,Vr(e,18).required?"":null,Vr(e,23).ngClassUntouched,Vr(e,23).ngClassTouched,Vr(e,23).ngClassPristine,Vr(e,23).ngClassDirty,Vr(e,23).ngClassValid,Vr(e,23).ngClassInvalid,Vr(e,23).ngClassPending),t(e,24,0,Vr(e,27).required?"":null,Vr(e,32).ngClassUntouched,Vr(e,32).ngClassTouched,Vr(e,32).ngClassPristine,Vr(e,32).ngClassDirty,Vr(e,32).ngClassValid,Vr(e,32).ngClassInvalid,Vr(e,32).ngClassPending),t(e,35,0,Vr(e,37).required?"":null,Vr(e,42).ngClassUntouched,Vr(e,42).ngClassTouched,Vr(e,42).ngClassPristine,Vr(e,42).ngClassDirty,Vr(e,42).ngClassValid,Vr(e,42).ngClassInvalid,Vr(e,42).ngClassPending)}))}var kg=xr("app-addProduct",Tg,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-addProduct",[],null,null,null,Ig,Sg)),$r(1,114688,null,0,Tg,[bp,wp,Uh],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class xg{constructor(t,e){this.afAuth=t,this.r=e,this.validatingForm=new Jf({email:new Yf("",mf.required),password:new Yf("",[mf.required,mf.minLength(5)])}),this.ShowPassword=!1,this.isLoading=!1}ngOnInit(){}onSubmit(t){this.isLoading=!0,this.afAuth.logIN(t.value.email,t.value.password).then(e=>{this.isLoading=!1,t.reset(),this.r.navigate(["/"])}).catch(t=>{console.log(t.message),this.message=t.message,this.isLoading=!1,this.r.navigate(["login"])})}}var Og=qn({encapsulation:0,styles:[[""]],data:{}});function Pg(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-loading-spinner",[],null,null,null,vd,yd)),$r(1,114688,null,0,md,[],null,null)],(function(t,e){t(e,1,0)}),null)}function Ag(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ho(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.message)}))}function Ng(t){return Ko(0,[(t()(),Po(0,0,null,null,34,"form",[["class","text-center border p-5"],["novalidate",""],["style","margin: 0 auto;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Vr(t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,2).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit(Vr(t,2))&&r),r}),null,null)),$r(1,16384,null,0,sg,[],null,null),$r(2,540672,[["RegisterForm",4]],0,ag,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Zr(2048,null,lf,null,[ag]),$r(4,16384,null,0,df,[[4,lf]],null,null),(t()(),Po(5,0,null,null,3,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0643\u0623\u062f\u0645\u0646 : "])),(t()(),Po(7,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" Admin@admin.com || password : 123456 "])),(t()(),Po(9,0,null,null,3,"p",[["class","alert alert-primary"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0643\u0645\u0633\u062a\u062e\u062f\u0645 : "])),(t()(),Po(11,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" test@test.com password : testpwd "])),(t()(),Po(13,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"])),(t()(),Po(15,0,null,null,7,"input",[["autofocus",""],["class","form-control mb-4"],["formControlName","email"],["id","defaultRegisterFormEmail"],["placeholder","\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u064a\u0643\u062a\u0631\u0648\u0646\u0649  "],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Vr(t,16)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,16).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,16)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,16)._compositionEnd(n.target.value)&&r),r}),null,null)),$r(16,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(17,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(20,671744,null,0,dg,[[3,lf],[6,ff],[8,null],[6,nf],[2,lg]],{name:[0,"name"]},null),Zr(2048,null,uf,null,[dg]),$r(22,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(23,0,null,null,7,"input",[["class","form-control mb-4"],["formControlName","password"],["id","defaultRegisterFormPassword"],["placeholder","\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 "],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Vr(t,24)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,24).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,24)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,24)._compositionEnd(n.target.value)&&r),r}),null,null)),$r(24,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(25,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(28,671744,null,0,dg,[[3,lf],[6,ff],[8,null],[6,nf],[2,lg]],{name:[0,"name"]},null),Zr(2048,null,uf,null,[dg]),$r(30,16384,null,0,hf,[[4,uf]],null,null),(t()(),Oo(16777216,null,null,1,null,Ag)),$r(32,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(33,0,null,null,1,"button",[["class","btn btn-primary btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Ho(-1,null,[" \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "]))],(function(t,e){var n=e.component;t(e,2,0,n.validatingForm),t(e,17,0,""),t(e,20,0,"email"),t(e,25,0,""),t(e,28,0,"password"),t(e,32,0,n.message)}),(function(t,e){t(e,0,0,Vr(e,4).ngClassUntouched,Vr(e,4).ngClassTouched,Vr(e,4).ngClassPristine,Vr(e,4).ngClassDirty,Vr(e,4).ngClassValid,Vr(e,4).ngClassInvalid,Vr(e,4).ngClassPending),t(e,15,0,Vr(e,17).required?"":null,Vr(e,22).ngClassUntouched,Vr(e,22).ngClassTouched,Vr(e,22).ngClassPristine,Vr(e,22).ngClassDirty,Vr(e,22).ngClassValid,Vr(e,22).ngClassInvalid,Vr(e,22).ngClassPending),t(e,23,0,Vr(e,25).required?"":null,Vr(e,30).ngClassUntouched,Vr(e,30).ngClassTouched,Vr(e,30).ngClassPristine,Vr(e,30).ngClassDirty,Vr(e,30).ngClassValid,Vr(e,30).ngClassInvalid,Vr(e,30).ngClassPending),t(e,33,0,!Vr(e,2).valid)}))}function Rg(t){return Ko(0,[(t()(),Po(0,0,null,null,6,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,Pg)),$r(2,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(3,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,2,"div",[["class","mt-5 mb-3 col-md-6 col-xs-10 offset-md-3"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,Ng)),$r(6,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.isLoading),t(e,6,0,!n.isLoading)}),null)}var Dg=xr("app-log-in",xg,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-log-in",[],null,null,null,Rg,Og)),$r(1,114688,null,0,xg,[ep,Uh],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Mg{constructor(){}ngOnInit(){}}var Lg=qn({encapsulation:0,styles:[[".footer-dark[_ngcontent-%COMP%]{padding:50px 0;color:#f0f9ff;background-color:#282d32}.footer-dark[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:12px;font-weight:700;font-size:16px}.footer-dark[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;line-height:1.6;font-size:14px;margin-bottom:0}.footer-dark[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;opacity:.6}.footer-dark[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.footer-dark[_ngcontent-%COMP%]   .item.text[_ngcontent-%COMP%]{margin-bottom:36px}@media (max-width:767px){.footer-dark[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:not(.social){text-align:center;padding-bottom:20px}.footer-dark[_ngcontent-%COMP%]   .item.text[_ngcontent-%COMP%]{margin-bottom:0}}.footer-dark[_ngcontent-%COMP%]   .item.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.6;margin-bottom:0}.footer-dark[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%]{text-align:center}@media (max-width:991px){.footer-dark[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%]{text-align:center;margin-top:20px}}.footer-dark[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:20px;width:36px;height:36px;line-height:36px;display:inline-block;text-align:center;border-radius:50%;box-shadow:0 0 0 1px rgba(255,255,255,.4);margin:0 8px;color:#fff;opacity:.75}.footer-dark[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{opacity:.9}.footer-dark[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{text-align:center;padding-top:24px;opacity:.3;font-size:13px;margin-bottom:0}"]],data:{}});function Fg(t){return Ko(0,[(t()(),Po(0,0,null,null,47,"div",[["class","footer-dark mt-3"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,46,"footer",[],null,null,null,null,null)),(t()(),Po(2,0,null,null,45,"div",[["class","container"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,12,"div",[["class","col-sm-6 col-md-3 item"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"])),(t()(),Po(7,0,null,null,9,"ul",[],null,null,null,null,null)),(t()(),Po(8,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Po(9,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0641\u0636\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a "])),(t()(),Po(11,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Po(12,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u062d\u062f\u062b \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a "])),(t()(),Po(14,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Po(15,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0643\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a "])),(t()(),Po(17,0,null,null,12,"div",[["class","col-sm-6 col-md-3 item"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0645\u0646 \u0646\u062d\u0646"])),(t()(),Po(20,0,null,null,9,"ul",[],null,null,null,null,null)),(t()(),Po(21,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Po(22,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0639\u0646 \u0627\u0644\u0634\u0631\u0643\u0629 "])),(t()(),Po(24,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Po(25,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0641\u0631\u064a\u0642 \u0627\u0644\u0639\u0645\u0644 "])),(t()(),Po(27,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Po(28,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0648\u0638\u0627\u0626\u0641 "])),(t()(),Po(30,0,null,null,4,"div",[["class","col-md-6 item text"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0632\u0648\u0646 \u0633\u062a\u0648\u0631"])),(t()(),Po(33,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,[' \u0637\u0631\u064a\u0642\u0629 \u0644\u0648\u0631\u064a\u0645 \u0625\u064a\u0628\u0633\u0648\u0645 \u0644\u0623\u0646\u0647\u0627 \u062a\u0639\u0637\u064a \u062a\u0648\u0632\u064a\u0639\u0627\u064e \u0637\u0628\u064a\u0639\u064a\u0627\u064e -\u0625\u0644\u0649 \u062d\u062f \u0645\u0627- \u0644\u0644\u0623\u062d\u0631\u0641 \u0639\u0648\u0636\u0627\u064b \u0639\u0646 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 "\u0647\u0646\u0627 \u064a\u0648\u062c\u062f \u0645\u062d\u062a\u0648\u0649 \u0646\u0635\u064a\u060c \u0647\u0646\u0627 \u064a\u0648\u062c\u062f \u0645\u062d\u062a\u0648\u0649 \u0646\u0635\u064a" \u0641\u062a\u062c\u0639\u0644\u0647\u0627 \u062a\u0628\u062f\u0648 (\u0623\u064a \u0627\u0644\u0623\u062d\u0631\u0641) \u0648\u0643\u0623\u0646\u0647\u0627 \u0646\u0635 \u0645\u0642\u0631\u0648\u0621. \u0627\u0644\u0639\u062f\u064a\u062f \u0645\u0646 \u0628\u0631\u0627\u0645\u062d \u0627\u0644\u0646\u0634\u0631 \u0627\u0644\u0645\u0643\u062a\u0628\u064a \u0648\u0628\u0631\u0627\u0645\u062d \u062a\u062d\u0631\u064a\u0631 \u0635\u0641\u062d\u0627\u062a \u0627\u0644\u0648\u064a\u0628 \u062a\u0633\u062a\u062e\u062f\u0645 \u0644\u0648\u0631\u064a\u0645 \u0625\u064a\u0628\u0633\u0648\u0645 \u0628\u0634\u0643\u0644 \u0625\u0641\u062a\u0631\u0627\u0636\u064a \u0643\u0646\u0645\u0648\u0630\u062c \u0639\u0646 \u0627\u0644\u0646\u0635\u060c \u0648\u0625\u0630\u0627 \u0642\u0645\u062a \u0628\u0625\u062f\u062e\u0627\u0644 "lorem ipsum" \u0641\u064a \u0623\u064a \u0645\u062d\u0631\u0643 \u0628\u062d\u062b \u0633\u062a\u0638\u0647\u0631 \u0627\u0644\u0639\u062f\u064a\u062f \u0645\u0646 \u0627\u0644\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u062d\u062f\u064a\u062b\u0629 \u0627\u0644\u0639\u0647\u062f \u0641\u064a \u0646\u062a\u0627\u0626\u062c \u0627\u0644\u0628\u062d\u062b. \u0639\u0644\u0649 \u0645\u062f\u0649 \u0627\u0644\u0633\u0646\u064a\u0646 \u0638\u0647\u0631\u062a \u0646\u0633\u062e \u062c\u062f\u064a\u062f\u0629 \u0648\u0645\u062e\u062a\u0644\u0641\u0629 \u0645\u0646 \u0646\u0635 \u0644\u0648\u0631\u064a\u0645 \u0625\u064a\u0628\u0633\u0648\u0645\u060c '])),(t()(),Po(35,0,null,null,6,"div",[["class","col item social"]],null,null,null,null,null)),(t()(),Po(36,0,null,null,1,"a",[["href","https://www.facebook.com/Diyasty/"],["target","_blank"]],null,null,null,null,null)),(t()(),Po(37,0,null,null,0,"i",[["class","icon fa fa-facebook"]],null,null,null,null,null)),(t()(),Po(38,0,null,null,1,"a",[["href","https://www.linkedin.com/in/diyasty/\n          "],["target","_blank"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,0,"i",[["class","icon fa fa-github"],["target","_blank"]],null,null,null,null,null)),(t()(),Po(40,0,null,null,1,"a",[["href","https://www.linkedin.com/in/diyasty/"]],null,null,null,null,null)),(t()(),Po(41,0,null,null,0,"i",[["class","icon fa fa-linkedin"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,1,"p",[["class","copyright"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0632\u0648\u0646 \u0633\u062a\u0648\u0631\xa9 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629 2020"])),(t()(),Po(44,0,null,null,3,"h4",[["class","mt-2 py-2 "],["style","text-align: center;"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0635\u0645\u0645 \u0628\u0643\u0644 "])),(t()(),Po(46,0,null,null,0,"i",[["class","fa fa-heart\t"],["style","color: red;"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0645\u062d\u0645\u062f \u0627\u0644\u062f\u064a\u0633\u0637\u0649 "]))],null,null)}class Ug{constructor(t){this.User=t}ngOnInit(){this.User.User.subscribe(t=>{t?(this.isUser=!0,console.log("is user")):(this.isUser=!1,console.log("not user"))})}}var Vg=qn({encapsulation:0,styles:[['.container[_ngcontent-%COMP%]{margin:auto;width:1200px;height:100vh;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.card-body[_ngcontent-%COMP%]{width:1000px;height:600px;border-radius:5px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;background:#ebf1eb;box-shadow:0 5px 12px 2px rgba(0,0,0,.1)}.breadcrumb[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;justify-content:space-around;-webkit-box-align:right;align-items:right;align-content:center;color:#b0636d;font-size:1.1rem;font-weight:200;padding:2rem}.confirmed[_ngcontent-%COMP%]{color:#6a9858;font-weight:800;font-style:italic;opacity:.6}.active[_ngcontent-%COMP%]{font-weight:800;font-style:italic;border-bottom:3px solid #49425a;color:#49425a}.next[_ngcontent-%COMP%]{color:#49425a;font-weight:400;font-style:italic;opacity:.6}.payment[_ngcontent-%COMP%]{height:100%;width:100%;display:-webkit-box;display:flex;-webkit-box-align:right;align-items:right;box-sizing:border-box}.creditcard[_ngcontent-%COMP%]{width:50%;height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:right;align-items:right}.thecard[_ngcontent-%COMP%]{width:365px;height:225px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;background:#49425a;border:1px solid rgba(0,0,0,.1);border-radius:5px;box-shadow:0 4px 15px 1px rgba(0,0,0,.3);text-shadow:0 1px 0 #000}.top-card[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.card-info[_ngcontent-%COMP%]{width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;margin-right:3rem;color:#ebf1eb}.card-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:.3rem 0}.card-info[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400;font-style:italic}.circle[_ngcontent-%COMP%]{width:50px;height:50px;margin:20px;border-radius:50%;background:#c54177}.circle[_ngcontent-%COMP%]:before{content:"";position:absolute;width:50px;height:50px;margin:15px 10px;border-radius:50%;background:#e0bf73}.card-title[_ngcontent-%COMP%]{margin:20px -40px 20px 20px;z-index:1;color:#ebf1eb;font-style:italic;font-weight:700;font-size:2rem}.form[_ngcontent-%COMP%]{width:50%;height:100%;margin:0 50px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}form[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;color:#200664;font-size:.9rem;font-weight:400}label[_ngcontent-%COMP%]{margin-bottom:.3rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{margin-bottom:1.3rem;padding:1rem;border-radius:5px;border:1px solid transparent;outline:0;font-size:1.1rem;line-height:1.1rem;background:#fff;color:#49425a;-webkit-transition:.3s;transition:all .3s ease}input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{-webkit-transition:.3s;transition:all .3s ease;border:1px solid #49425a}.small[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex}.small[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.small[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:200px;margin-right:1rem;align-self:center}select[_ngcontent-%COMP%]{width:45%;height:3.3rem}.date[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.date[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}button[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:800;font-style:italic;background:#6a9858;color:#ebf1eb;padding:1rem;border-radius:5px;border:none;outline:0;cursor:pointer;-webkit-transition:.3s;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background:#3c9858}']],data:{}});function jg(t){return Ko(0,[(t()(),Po(0,0,null,null,2,"div",[["class","row text-center m-2 p-2"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"p",[["class","alert alert-danger"],["style","margin:0 auto;"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u0627\u0643\u0645\u0627\u0644 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0634\u0631\u0627\u0621 "]))],null,null)}function qg(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-log-in",[],null,null,null,Rg,Og)),$r(1,114688,null,0,xg,[ep,Uh],null,null)],(function(t,e){t(e,1,0)}),null)}function Bg(t){return Ko(0,[(t()(),Po(0,0,null,null,116,"div",[["class","container"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,115,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,114,"div",[["class","payment"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,11,"div",[["class","creditcard"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,10,"div",[["class","thecard"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,2,"div",[["class","top-card"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,0,"div",[["class","circle"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,6,"div",[["class","card-info"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,1,"div",[["class","card-number"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" 1234 5678 9012 3456 "])),(t()(),Po(11,0,null,null,1,"div",[["class","exp-date"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" 01 / 2018 "])),(t()(),Po(13,0,null,null,1,"div",[["class","card-holder"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" John Doe "])),(t()(),Po(15,0,null,null,101,"div",[["class","form"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,100,"form",[["action",""],["method","get"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,18).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,18).onReset()&&r),r}),null,null)),$r(17,16384,null,0,sg,[],null,null),$r(18,4210688,null,0,Zf,[[8,null],[8,null]],null,null),Zr(2048,null,lf,null,[Zf]),$r(20,16384,null,0,df,[[4,lf]],null,null),(t()(),Po(21,0,null,null,1,"label",[["for","cardnumber"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 "])),(t()(),Po(23,0,null,null,0,"input",[["id","cardnumber"],["placeholder","1234 5678 9012 3456"],["type","text"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,1,"label",[["for","cardholder"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0635\u0627\u062d\u0628 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 "])),(t()(),Po(26,0,null,null,0,"input",[["id","cardholder"],["placeholder","John Doe"],["type","text"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,1,"label",[["for","exp"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 "])),(t()(),Po(29,0,null,null,78,"div",[["class","date"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,48,"select",[["id","month"],["name","month"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,3,"option",[["value","january"]],null,null,null,null,null)),$r(32,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(33,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["January"])),(t()(),Po(35,0,null,null,3,"option",[["value","february"]],null,null,null,null,null)),$r(36,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(37,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["February"])),(t()(),Po(39,0,null,null,3,"option",[["value","march"]],null,null,null,null,null)),$r(40,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(41,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["March"])),(t()(),Po(43,0,null,null,3,"option",[["value","april"]],null,null,null,null,null)),$r(44,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(45,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["April"])),(t()(),Po(47,0,null,null,3,"option",[["value","may"]],null,null,null,null,null)),$r(48,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(49,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["May"])),(t()(),Po(51,0,null,null,3,"option",[["value","june"]],null,null,null,null,null)),$r(52,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(53,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["June"])),(t()(),Po(55,0,null,null,3,"option",[["value","july"]],null,null,null,null,null)),$r(56,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(57,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["July"])),(t()(),Po(59,0,null,null,3,"option",[["value","august"]],null,null,null,null,null)),$r(60,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(61,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["August"])),(t()(),Po(63,0,null,null,3,"option",[["value","september"]],null,null,null,null,null)),$r(64,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(65,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["September"])),(t()(),Po(67,0,null,null,3,"option",[["value","october"]],null,null,null,null,null)),$r(68,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(69,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["October"])),(t()(),Po(71,0,null,null,3,"option",[["value","november"]],null,null,null,null,null)),$r(72,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(73,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["November"])),(t()(),Po(75,0,null,null,3,"option",[["value","december"]],null,null,null,null,null)),$r(76,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(77,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["December"])),(t()(),Po(79,0,null,null,28,"select",[["name","Year"]],null,null,null,null,null)),(t()(),Po(80,0,null,null,3,"option",[["value","2018"]],null,null,null,null,null)),$r(81,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(82,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["2018"])),(t()(),Po(84,0,null,null,3,"option",[["value","2019"]],null,null,null,null,null)),$r(85,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(86,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["2019"])),(t()(),Po(88,0,null,null,3,"option",[["value","2020"]],null,null,null,null,null)),$r(89,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(90,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["2020"])),(t()(),Po(92,0,null,null,3,"option",[["value","2021"]],null,null,null,null,null)),$r(93,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(94,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["2021"])),(t()(),Po(96,0,null,null,3,"option",[["value","2022"]],null,null,null,null,null)),$r(97,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(98,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["2022"])),(t()(),Po(100,0,null,null,3,"option",[["value","2023"]],null,null,null,null,null)),$r(101,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(102,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["2023"])),(t()(),Po(104,0,null,null,3,"option",[["value","2024"]],null,null,null,null,null)),$r(105,147456,null,0,Of,[Ze,rn,[8,null]],{value:[0,"value"]},null),$r(106,147456,null,0,Af,[Ze,rn,[8,null]],{value:[0,"value"]},null),(t()(),Ho(-1,null,["2024"])),(t()(),Po(108,0,null,null,6,"div",[["class","small"]],null,null,null,null,null)),(t()(),Po(109,0,null,null,3,"div",[["class","cvc"]],null,null,null,null,null)),(t()(),Po(110,0,null,null,1,"label",[["for","cvc"]],null,null,null,null,null)),(t()(),Ho(-1,null,["CVC"])),(t()(),Po(112,0,null,null,0,"input",[["id","cvc"],["maxlength","3"],["placeholder","123"],["size","4"],["type","text"]],null,null,null,null,null)),(t()(),Po(113,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062b\u0644\u0627\u062b\u0629 \u0627\u0648 \u0627\u0631\u064a\u0639\u0629 \u0627\u0631\u0642\u0627\u0645 \u062a\u0648\u062c\u062f \u0639\u0644\u0649 \u0638\u0647\u0631 \u0644\u0628\u0627\u0637\u0642\u0629"])),(t()(),Po(115,0,null,null,1,"button",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u062a\u0643\u0645\u0627\u0644"]))],(function(t,e){t(e,32,0,"january"),t(e,33,0,"january"),t(e,36,0,"february"),t(e,37,0,"february"),t(e,40,0,"march"),t(e,41,0,"march"),t(e,44,0,"april"),t(e,45,0,"april"),t(e,48,0,"may"),t(e,49,0,"may"),t(e,52,0,"june"),t(e,53,0,"june"),t(e,56,0,"july"),t(e,57,0,"july"),t(e,60,0,"august"),t(e,61,0,"august"),t(e,64,0,"september"),t(e,65,0,"september"),t(e,68,0,"october"),t(e,69,0,"october"),t(e,72,0,"november"),t(e,73,0,"november"),t(e,76,0,"december"),t(e,77,0,"december"),t(e,81,0,"2018"),t(e,82,0,"2018"),t(e,85,0,"2019"),t(e,86,0,"2019"),t(e,89,0,"2020"),t(e,90,0,"2020"),t(e,93,0,"2021"),t(e,94,0,"2021"),t(e,97,0,"2022"),t(e,98,0,"2022"),t(e,101,0,"2023"),t(e,102,0,"2023"),t(e,105,0,"2024"),t(e,106,0,"2024")}),(function(t,e){t(e,16,0,Vr(e,20).ngClassUntouched,Vr(e,20).ngClassTouched,Vr(e,20).ngClassPristine,Vr(e,20).ngClassDirty,Vr(e,20).ngClassValid,Vr(e,20).ngClassInvalid,Vr(e,20).ngClassPending)}))}function zg(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-header",[],null,null,null,Ap,Cp)),$r(1,114688,null,0,_d,[ep,Uh,wp],null,null),(t()(),Oo(16777216,null,null,1,null,jg)),$r(3,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,qg)),$r(5,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,Bg)),$r(7,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(8,0,null,null,1,"app-footer",[],null,null,null,Fg,Lg)),$r(9,114688,null,0,Mg,[],null,null)],(function(t,e){var n=e.component;t(e,1,0),t(e,3,0,!n.isUser),t(e,5,0,!n.isUser),t(e,7,0,n.isUser),t(e,9,0)}),null)}var Hg=xr("app-checkout",Ug,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-checkout",[],null,null,null,zg,Vg)),$r(1,114688,null,0,Ug,[ep],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Wg{constructor(){}ngOnInit(){}}var Gg=qn({encapsulation:0,styles:[["h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}ul[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:1003px;margin:0 auto}.bg-lighter[_ngcontent-%COMP%]{background-color:#fdfdfd}.bg-grey[_ngcontent-%COMP%]{background:-webkit-gradient(linear,left top,left bottom,from(#f3f3f3),to(#fff));background:linear-gradient(180deg,#f3f3f3 0,#fff 100%);padding:2rem 0}.card[_ngcontent-%COMP%]{border:.0625rem solid #dce6eb;background-color:#fff;width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}.card__body[_ngcontent-%COMP%]{font-size:1rem;line-height:1.625rem}.card__body--mini[_ngcontent-%COMP%]{font-size:.8125rem}.card__title[_ngcontent-%COMP%]{padding:0;margin-bottom:.5rem;font-size:1.2rem}.card__info[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.5rem}.card__image[_ngcontent-%COMP%]{width:100%;max-width:6.875rem;display:block;padding:.6rem}.card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:3.2rem}.card__action[_ngcontent-%COMP%]{font-size:.875rem;line-height:.875rem}.heading--centred[_ngcontent-%COMP%]{text-align:center;padding-bottom:2rem;padding-top:1rem;font-size:1.5625rem}.cell-column[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.cell-gutter[_ngcontent-%COMP%]{margin-bottom:1rem}.card__wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex-grow:1;padding:1.25rem;color:#333}.card__wrapper--padded[_ngcontent-%COMP%]{padding:2rem}.card__media[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;justify-content:space-around;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;text-align:center;min-height:80px;border-bottom:4px solid #69b3e5;border-top:0;padding:0}.card__title--header[_ngcontent-%COMP%]{text-align:center;width:80%;font-size:1.5625rem;padding-bottom:1rem;margin:0 auto 1.5rem;border-bottom:.125rem solid #dce6eb}.card__intro[_ngcontent-%COMP%]{font-size:1.0625rem}.card__intro--info[_ngcontent-%COMP%]{font-size:.875rem;padding-bottom:1.25rem}.card__info--primary[_ngcontent-%COMP%]{margin-right:1.875rem}.card__action-wrapper[_ngcontent-%COMP%]{padding:1.5rem .5rem}.rate[_ngcontent-%COMP%]{margin-bottom:.5rem}.rate--spaced[_ngcontent-%COMP%]{display:-webkit-box;display:flex;justify-content:space-around}.rate-amount[_ngcontent-%COMP%]{font-size:.875rem;color:#262626}.card__stamp[_ngcontent-%COMP%]{padding-right:1rem;color:#7492a5}.icon-default[_ngcontent-%COMP%]{align-self:center;font-size:1rem;padding:0 2rem 0 0;color:#000}.icon-default--header[_ngcontent-%COMP%]{font-size:1.25rem;padding:0 1rem 0 0}.icon-green[_ngcontent-%COMP%]{align-self:center;font-size:1.25rem;padding:0 2rem 0 0;color:#2ecc6b}.icon-orange[_ngcontent-%COMP%]{align-self:center;font-size:1.25rem;padding:0 2rem 0 0;color:#ea5b25}.icon--small[_ngcontent-%COMP%]{font-size:1rem;padding:0 .5rem 0 0}.icon-gold[_ngcontent-%COMP%]{align-self:center;font-size:1.25rem;color:#f2a922}.icon-gold--small[_ngcontent-%COMP%]{font-size:1.0625rem}.icon-gold--faded[_ngcontent-%COMP%]{color:#f1961c;opacity:.4}.icon-gold--opacity[_ngcontent-%COMP%]:before{background:-webkit-gradient(linear,left top,right top,color-stop(50%,#f5a623),color-stop(50%,#f1e767),color-stop(50%,#fbd89e));background:linear-gradient(to right,#f5a623 50%,#f1e767 50%,#fbd89e 50%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:initial}.icon-blue[_ngcontent-%COMP%]{align-self:center;font-size:1.25rem;padding:0 .5rem;color:#0b5485}.icon-blue--small[_ngcontent-%COMP%]{font-size:.875rem}.icon--large[_ngcontent-%COMP%]{font-size:1.5625rem}.list_flex[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-flow:wrap;list-style:none;font-size:1.0625rem}@media screen and (max-width:40rem){.list_flex[_ngcontent-%COMP%]{display:block}}.list_flex--inline[_ngcontent-%COMP%]{flex-flow:nowrap;padding:.5rem 0}.list_two-column[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:50%;padding-bottom:1rem;padding-right:1rem;list-style-type:none}.list_flex--padding[_ngcontent-%COMP%]{padding:1rem 0}.flex_equal[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.button--lockdown[_ngcontent-%COMP%]{text-align:center;padding:1.25rem 2rem;background-color:#30d27e;color:#fff}.button--lockdown__icon[_ngcontent-%COMP%]{font-size:1.4375rem;color:#fff;margin:0 .5rem}.card--layer-cake[_ngcontent-%COMP%]   .card__title[_ngcontent-%COMP%]{font-size:1.5625rem}.card--layer-cake[_ngcontent-%COMP%]   .card__media[_ngcontent-%COMP%]{padding:.5rem 0}.card--layer-cake[_ngcontent-%COMP%]   .card__action[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#0e4172;font-size:1.0625rem}.card--layer-cake[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%], .card--layer-cake[_ngcontent-%COMP%]   .list__item[_ngcontent-%COMP%]{padding:0}.layer[_ngcontent-%COMP%]{padding:1rem .5rem;border-top:.0625rem solid #e8e8e8;display:-webkit-box;display:flex}.layer--clear[_ngcontent-%COMP%]{border-top:0;padding:0 .5rem .5rem}.layer__title[_ngcontent-%COMP%]{font-size:1rem;-webkit-box-flex:1;flex:1;padding-top:0}.layer__title--uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.layer__body[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1875rem;-webkit-box-flex:1.5;flex:1.5;color:#45474d}.layer__body--narrow[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.layer__body_mgbottom[_ngcontent-%COMP%]{margin-bottom:1rem}.chocolate-cake[_ngcontent-%COMP%]{border:0;width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;font-size:1.0625rem;height:100%}.chocolate-cake--icing[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:baseline;align-items:baseline;padding-bottom:.5rem;border-bottom:3px solid #dce6eb}.chocolate-cake__title[_ngcontent-%COMP%]{font-size:1.25rem;padding-right:1rem}.chocolate-cake__title--alt[_ngcontent-%COMP%]{font-size:1.0625rem}.chocolate-cake--large[_ngcontent-%COMP%]   .chocolate-cake__title[_ngcontent-%COMP%]{font-size:1.5625rem}.sponge-cake[_ngcontent-%COMP%]{border:.0625rem solid #dce6eb;background-color:#fff;width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}.sponge-cake[_ngcontent-%COMP%]   .card__title[_ngcontent-%COMP%]{font-size:1.5625rem;padding:1.5rem;border-bottom:.25rem solid #e83972}.scone[_ngcontent-%COMP%]{border:0;width:100%;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;height:100%;padding:2rem 0}@media screen and (max-width:40rem){.list_two-column[_ngcontent-%COMP%]{width:100%}.scone[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}.image[_ngcontent-%COMP%]{min-width:2.25rem;border-radius:50%}.scone__media[_ngcontent-%COMP%]{padding:.875rem .875rem 0 0}.scone__title[_ngcontent-%COMP%]{font-size:1.25rem;padding-bottom:.5rem;padding-top:0}.scone__body[_ngcontent-%COMP%]{font-size:1.0625rem;line-height:2rem;color:#343434}.scone__icing[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.scone__jam[_ngcontent-%COMP%]{padding:.875rem 0}.scone__jam-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700}.scone__jam-date[_ngcontent-%COMP%]{font-size:.8125rem;color:#7492a5}.scone__jam-size[_ngcontent-%COMP%]{font-size:1.0625rem;color:#134370}.scone__cream[_ngcontent-%COMP%]{padding:.875rem;-webkit-box-flex:2;flex:2}.card--ticket[_ngcontent-%COMP%]   .card__wrapper--padded[_ngcontent-%COMP%]{padding:1rem}.card--ticket[_ngcontent-%COMP%]   .card__title[_ngcontent-%COMP%]{font-size:1.25rem}.card--ticket[_ngcontent-%COMP%]   .card__body[_ngcontent-%COMP%]{font-size:1.0625rem;line-height:2rem}.card--ticket[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{border:0;padding:1rem 0 0}.card--biscuit[_ngcontent-%COMP%]   .card__wrapper[_ngcontent-%COMP%]{padding:1rem}.card--biscuit[_ngcontent-%COMP%]   .card__body[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;padding-bottom:1rem;line-height:1.3125rem;font-size:.875rem}.card--biscuit[_ngcontent-%COMP%]   .card__image[_ngcontent-%COMP%]{max-width:100%}.card--biscuit[_ngcontent-%COMP%]   .card__title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;line-height:1.0625rem;color:#0b5485}.card--biscuit[_ngcontent-%COMP%]   .card__info[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:.875rem 0 1.25rem;color:#0b5485}.card--biscuit[_ngcontent-%COMP%]   .card__action[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1875rem;text-decoration:none;color:#134370}"]],data:{}});function Kg(t){return Ko(0,[(t()(),Po(0,0,null,null,43,"div",[["class","bg-grey"],["style","margin: 10px auto;"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,42,"div",[["class","container"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,41,"div",[["class","flex-grid grid--gutters grid-cell--is-half"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,40,"div",[["class","grid-cell cell-column"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,1,"h3",[["class","heading--centred"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0642\u064a\u0645\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"])),(t()(),Po(6,0,null,null,18,"div",[["class","card card--ticket cell-gutter"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,17,"div",[["class","card__wrapper card__wrapper--padded"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,1,"h3",[["class","card__title"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0635 \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a \u0639\u0631\u0628\u064a \u0627\u0646\u062c\u0644\u064a\u0632\u064a \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 "])),(t()(),Po(10,0,null,null,1,"div",[["class","card__body"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0644\u0644\u0645\u0635\u0645\u0645\u064a\u0646 \u0646\u0635 \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a \u0639\u0631\u0628\u064a \u0627\u0646\u062c\u0644\u064a\u0632\u064a \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0647\u0648 \u0646\u0645\u0648\u0630\u062c \u0627\u0641\u062a\u0631\u0627\u0636\u064a \u064a\u0648\u0636\u0639 \u0641\u064a \u0627\u0644\u062a\u0635\u0627\u0645\u064a\u0645 \u0644\u062a\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064a\u0644 \u0644\u064a\u062a\u0635\u0648\u0631 \u0637\u0631\u064a\u0642\u0647 "])),(t()(),Po(12,0,null,null,10,"div",[["class","layer"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,1,"div",[["class","card__stamp"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0645\u062d\u0645\u062f \u0627\u0644\u062f\u064a\u0633\u0637\u0649"])),(t()(),Po(15,0,null,null,7,"div",[["class","rate"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,1,"span",[["class","rate--amount"]],null,null,null,null,null)),(t()(),Ho(-1,null,["3.6"])),(t()(),Po(18,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,1,"div",[["class","card__body--mini"]],null,null,null,null,null)),(t()(),Ho(-1,null,["15 \u0645\u0627\u0631\u0633 , 2017 |\u0627\u0644\u062f\u0642\u0647\u0644\u064a\u0629"])),(t()(),Po(25,0,null,null,18,"div",[["class","card card--ticket"]],null,null,null,null,null)),(t()(),Po(26,0,null,null,17,"div",[["class","card__wrapper card__wrapper--padded"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,1,"h3",[["class","card__title"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064a\u0644 \u0644\u064a\u062a\u0635\u0648\u0631 \u0637\u0631\u064a\u0642\u0647"])),(t()(),Po(29,0,null,null,1,"div",[["class","card__body"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0644\u0644\u0645\u0635\u0645\u0645\u064a\u0646 \u0646\u0635 \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a \u0639\u0631\u0628\u064a \u0627\u0646\u062c\u0644\u064a\u0632\u064a \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0647\u0648 \u0646\u0645\u0648\u0630\u062c \u0627\u0641\u062a\u0631\u0627\u0636\u064a \u064a\u0648\u0636\u0639 \u0641\u064a \u0627\u0644\u062a\u0635\u0627\u0645\u064a\u0645 \u0644\u062a\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064a\u0644 \u0644\u064a\u062a\u0635\u0648\u0631 \u0637\u0631\u064a\u0642\u0647 "])),(t()(),Po(31,0,null,null,10,"div",[["class","layer"]],null,null,null,null,null)),(t()(),Po(32,0,null,null,1,"div",[["class","card__stamp"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u062f\u062f\u064a\u0633\u0637\u0649"])),(t()(),Po(34,0,null,null,7,"div",[["class","rate"]],null,null,null,null,null)),(t()(),Po(35,0,null,null,1,"span",[["class","rate--amount"]],null,null,null,null,null)),(t()(),Ho(-1,null,["3.6"])),(t()(),Po(37,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(38,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(40,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-star icon-gold"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,1,"div",[["class","card__body--mini"]],null,null,null,null,null)),(t()(),Ho(-1,null,["15 \u0645\u0627\u0631\u0633 , 2017 |\u0627\u0644\u062f\u0642\u0647\u0644\u064a\u0629"]))],null,null)}class Qg{constructor(t,e,n){this.productSer=t,this.route=e,this.tost=n,this.des=!0,this.stars=[1,2,3,4,5],this.rating=0,this.hoverState=0}ngOnInit(){console.log(this.id),this.route.params.subscribe(t=>{this.id=t.id,this.productSer.getProducts().subscribe(t=>{this.Products=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),this.FavProducts=t.slice(0,3).map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),this.Product=this.Products.find(t=>t.id===this.id),console.log("Product =>",this.Product)})}),this.productSer.getCart().subscribe(t=>{this.UserProducts=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),this.productSer.getFav().subscribe(t=>{this.UserFav=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),console.log(this.UserFav)}),this.productSer.getUsers().subscribe(t=>{this.Users=t})}enter(t){this.hoverState=t}leave(){this.hoverState=0}updateRating(t){this.rating=t}AddToCart(t,e){console.log(t);let n=this.Products.find(e=>e.id===t),r={ID:n.id,title:n.title,image:n.image,price:n.price,amount:1};this.UserProducts.find(t=>t.price===n.price)?(e.style.color="rgb(230, 9, 145)",this.tost.info("\u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 \u0641\u0649 \u0627\u0644\u0633\u0644\u0629","\u0644\u0645 \u062a\u062a\u0645",{timeOut:3e3})):this.productSer.addCart(r).then(()=>{e.style.color="rgb(230, 9, 145)",this.tost.success("\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 "," \u062a\u0645",{timeOut:3e3})}).catch(t=>console.log(t))}AddToFav(t,e){let n=this.Products.find(e=>e.id===t),r={title:n.title,image:n.image,price:n.price},i=this.UserFav.find(t=>t.image===n.image);console.log(i),i?(this.isInFav=!0,e.style.color="rgb(230, 9, 145)",this.tost.info("\u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 \u0641\u0649 \u0627\u0644\u0645\u0641\u0636\u0644\u0629 ","\u0644\u0645 \u062a\u062a\u0645",{timeOut:3e3})):this.productSer.addFav(r).then(()=>{e.style.color="rgb(230, 9, 145)",this.tost.success("\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0645\u0641\u0636\u0644\u0629  "," \u062a\u0645",{timeOut:3e3})}).catch(t=>console.log(t))}showVote(){this.vote=!0,this.des=!1,this.info=!1}showDes(){this.vote=!1,this.des=!0,this.info=!1}showInfo(){this.info=!0,this.vote=!1,this.des=!1}}class Yg{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new k,this._onAction=new k,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const Jg={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Xg=new St("ToastConfig");class $g{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Zg extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let tm=(()=>{let t=class{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}};return t.\u0275prov=pt({factory:function(){return new t(Nt(bl))},token:t,providedIn:"root"}),t})();class em{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let nm=(()=>{let t=class{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new Zg(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new em(this._createPortalHost(t))}};return t.\u0275prov=pt({factory:function(){return new t(Nt(tm),Nt(Ye),Nt(uo),Nt(bl))},token:t,providedIn:"root"}),t})();class rm{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new k,this._activate=new k,this._manualClose=new k,this._resetTimeout=new k,this._countDuplicate=new k}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class im{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===Yg?this._toastPackage:this._parentInjector.get(t,e,n)}}let om=(()=>{let t=class{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t,e,n){for(const r of this.toasts)if(r.message===t)return r.toastRef.onDuplicate(e,n),r;return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");const i=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const s=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let l=e;e&&r.enableHtml&&(l=this.sanitizer.sanitize(ge.HTML,e));const a=new rm(s),u=new Yg(this.index,r,l,n,t,a),c=new im(u,this._injector),h=new $g(r.toastComponent,c),d=s.attach(h,this.toastrConfig.newestOnTop);a.componentInstance=d.instance;const p={toastId:this.index,message:e||"",toastRef:a,onShown:a.afterActivate(),onHidden:a.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}};return t.\u0275prov=pt({factory:function(){return new t(Nt(Xg),Nt(nm),Nt(It),Nt(hu),Nt(Gi))},token:t,providedIn:"root"}),t})(),sm=class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses="".concat(e.toastType," ").concat(e.config.toastClass),this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}};var lm;const am=Object.assign(Object.assign({},Jg),{toastComponent:sm});let um=lm=class{static forRoot(t={}){return{ngModule:lm,providers:[{provide:Xg,useValue:{default:am,config:t}}]}}};var cm;const hm=Object.assign(Object.assign({},Jg),{toastComponent:class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses="".concat(e.toastType," ").concat(e.config.toastClass),this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}});cm=class{static forRoot(t={}){return{ngModule:cm,providers:[{provide:Xg,useValue:{default:hm,config:t}}]}}};var dm=qn({encapsulation:0,styles:[[".bg-gray[_ngcontent-%COMP%]{background-color:transparent!important}img[_ngcontent-%COMP%]{width:300px!important;height:200px!important}.shop[_ngcontent-%COMP%]{margin:0 auto;padding:40px 10px;text-align:center;box-shadow:0 5px 10px rgba(0,0,0,.3);height:auto}.shop[_ngcontent-%COMP%]   .divIcon[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;color:#e60991}@media (max-width:575.98px){.shop[_ngcontent-%COMP%]   .new[_ngcontent-%COMP%]{margin:0 43px}}.divIcon[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;color:#e60991}"]],data:{}});function pm(t){return Ko(0,[(t()(),Po(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function fm(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"div",[["class","border-top rounded-right border-primary border-right border-left"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" dis \u0647\u0648 \u0628\u0628\u0633\u0627\u0637\u0629 \u0646\u0635 \u0634\u0643\u0644\u064a(\u0628\u0645\u0639\u0646\u0649 \u0623\u0646 \u0627\u0644\u063a\u0627\u064a\u0629 \u0647\u064a \u0627\u0644\u0634\u0643\u0644 \u0648\u0644\u064a\u0633 \u0627\u0644\u0645\u062d\u062a\u0648\u0649) \u0648\u064a\u064f\u0633\u062a\u062e\u062f\u0645 \u0641\u064a \u0635\u0646\u0627\u0639\u0627\u062a \u0627\u0644\u0645\u0637\u0627\u0628\u0639 \u0648\u062f\u0648\u0631 \u0627\u0644\u0646\u0634\u0631. \u0643\u0627\u0646 \u0644\u0648\u0631\u064a\u0645 \u0625\u064a\u0628\u0633\u0648\u0645 \u0648\u0644\u0627\u064a\u0632\u0627\u0644 \u0627\u0644\u0645\u0639\u064a\u0627\u0631 \u0644\u0644\u0646\u0635 \u0627\u0644\u0634\u0643\u0644\u064a \u0645\u0646\u0630 \u0627\u0644\u0642\u0631\u0646 \u0627\u0644\u062e\u0627\u0645\u0633 \u0639\u0634\u0631 \u0639\u0646\u062f\u0645\u0627 \u0642\u0627\u0645\u062a \u0645\u0637\u0628\u0639\u0629 \u0645\u062c\u0647\u0648\u0644\u0629 \u0628\u0631\u0635 \u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u0646 \u0627\u0644\u0623\u062d\u0631\u0641 \u0628\u0634\u0643\u0644 \u0645\u0646\u0630 \u0627\u0644\u0642\u0631\u0646 \u0627\u0644\u062e\u0627\u0645\u0633 \u0639\u0634\u0631 \u0639\u0646\u062f\u0645\u0627 \u0642\u0627\u0645\u062a \u0645\u0637\u0628\u0639\u0629 \u0645\u062c\u0647\u0648\u0644\u0629 \u0628\u0631\u0635 \u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u0646 \u0627\u0644\u0623\u062d\u0631\u0641 \u0628\u0634\u0643\u0644 "]))],null,null)}function gm(t){return Ko(0,[(t()(),Po(0,0,null,null,2,"div",[["class","border-top rounded-right border-primary border-right border-left"],["style","margin: 0 auto;"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"app-reviews",[],null,null,null,Kg,Gg)),$r(2,114688,null,0,Wg,[],null,null)],(function(t,e){t(e,2,0)}),null)}function mm(t){return Ko(0,[(t()(),Po(0,0,null,null,73,"div",[["class","border-top rounded-right border-primary border-right border-left"],["style","margin: 10px auto; width: 70%;"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,72,"div",[],null,null,null,null,null)),(t()(),Po(2,0,null,null,71,"table",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,70,"tbody",[],null,null,null,null,null)),(t()(),Po(4,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["SKU"])),(t()(),Po(7,0,null,null,1,"td",[["class","col data"],["data-th","SKU"]],null,null,null,null,null)),(t()(),Ho(-1,null,["AR2448"])),(t()(),Po(9,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(10,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629"])),(t()(),Po(12,0,null,null,1,"td",[["class","col data"],["data-th","\u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629"]],null,null,null,null,null)),(t()(),Ho(-1,null,["EMPORIO ARMANI"])),(t()(),Po(14,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(15,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0645\u0642\u0627\u0633 \u0627\u0644\u0642\u0631\u0635"])),(t()(),Po(17,0,null,null,1,"td",[["class","col data"],["data-th","\u0645\u0642\u0627\u0633 \u0627\u0644\u0642\u0631\u0635"]],null,null,null,null,null)),(t()(),Ho(-1,null,["43 \u0645\u0645"])),(t()(),Po(19,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(20,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["Dial material"])),(t()(),Po(22,0,null,null,1,"td",[["class","col data"],["data-th","Dial material"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u062a\u0627\u0646\u0644\u0633 \u0633\u062a\u064a\u0644"])),(t()(),Po(24,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(25,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0644\u0648\u0646 \u0627\u0644\u0642\u0631\u0635"])),(t()(),Po(27,0,null,null,1,"td",[["class","col data"],["data-th","\u0644\u0648\u0646 \u0627\u0644\u0642\u0631\u0635"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0623\u064e\u0632\u0652\u0631\u064e\u0642"])),(t()(),Po(29,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(30,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["Dial shape"])),(t()(),Po(32,0,null,null,1,"td",[["class","col data"],["data-th","Dial shape"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0645\u0633\u062a\u062f\u064a\u0631"])),(t()(),Po(34,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(35,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0645\u0627\u062f\u0629 \u0627\u0644\u062d\u0632\u0627\u0645"])),(t()(),Po(37,0,null,null,1,"td",[["class","col data"],["data-th","\u0645\u0627\u062f\u0629 \u0627\u0644\u062d\u0632\u0627\u0645"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u062a\u0627\u0646\u0644\u0633 \u0633\u062a\u064a\u0644"])),(t()(),Po(39,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(40,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["Strap Closure"])),(t()(),Po(42,0,null,null,1,"td",[["class","col data"],["data-th","Strap Closure"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0625\u0628\u0632\u064a\u0645"])),(t()(),Po(44,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(45,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["Water resistance"])),(t()(),Po(47,0,null,null,1,"td",[["class","col data"],["data-th","Water resistance"]],null,null,null,null,null)),(t()(),Ho(-1,null,["5 ATM"])),(t()(),Po(49,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(50,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u062d\u0631\u0643\u0629"])),(t()(),Po(52,0,null,null,1,"td",[["class","col data"],["data-th","\u0627\u0644\u062d\u0631\u0643\u0629"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0643\u0648\u0627\u0631\u062a\u0632"])),(t()(),Po(54,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(55,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0634\u0643\u064a\u0644\u0629"])),(t()(),Po(57,0,null,null,1,"td",[["class","col data"],["data-th","\u062a\u0634\u0643\u064a\u0644\u0629"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0625\u0645\u0628\u0648\u0631\u064a\u0648 \u0623\u0631\u0645\u0627\u0646\u064a"])),(t()(),Po(59,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(60,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u062c\u0646\u0633"])),(t()(),Po(62,0,null,null,1,"td",[["class","col data"],["data-th","\u0627\u0644\u062c\u0646\u0633"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0631\u062c\u0627\u0644"])),(t()(),Po(64,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(65,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["Functionality"])),(t()(),Po(67,0,null,null,1,"td",[["class","col data"],["data-th","Functionality"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0644\u0643\u0631\u0648\u0646\u0648\u063a\u0631\u0627\u0641 (\u062d\u0631\u0643\u0629 \u0639\u0642\u0627\u0631\u0628 \u0627\u0644\u0633\u0627\u0639\u0629) "])),(t()(),Po(69,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Po(70,0,null,null,1,"th",[["class","col label"],["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["Dial thickness"])),(t()(),Po(72,0,null,null,1,"td",[["class","col data"],["data-th","Dial thickness"]],null,null,null,null,null)),(t()(),Ho(-1,null,["8 \u0645\u0645"]))],null,null)}function ym(t){return Ko(0,[(t()(),Po(0,0,null,null,10,"div",[["class","col border-right rounded-right border-primary"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,6,"a",[["routerLinkActive","router-link-active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(2,671744,[[3,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(3,2),$r(4,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,2,{links:1}),Mo(603979776,3,{linksWithHrefs:1}),(t()(),Po(7,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),Po(8,0,null,null,2,"div",[["class","divIcon"]],null,null,null,null,null)),(t()(),Po(9,0,[["ic",1]],null,0,"i",[["aria-hidden","true"],["class","icon fa fa-shopping-cart fa-2x mr-5"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AddToCart(t.context.$implicit.id,Vr(t,9))&&r),r}),null,null)),(t()(),Po(10,0,[["fc",1]],null,0,"i",[["aria-hidden","true"],["class","fa fa-heart fa-2x"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AddToFav(t.context.$implicit.id,Vr(t,10))&&r),r}),null,null))],(function(t,e){var n=t(e,3,0,"../",e.context.$implicit.id);t(e,2,0,n),t(e,4,0,"router-link-active")}),(function(t,e){t(e,1,0,Vr(e,2).target,Vr(e,2).href),t(e,7,0,gr(1,"",null==e.context.$implicit?null:e.context.$implicit.image,""))}))}function vm(t){return Ko(0,[Mo(671088640,1,{InfoBtn:0}),(t()(),Po(1,0,null,null,45,"main",[],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"app-header",[],null,null,null,Ap,Cp)),$r(3,114688,null,0,_d,[ep,Uh,wp],null,null),(t()(),Po(4,0,null,null,40,"div",[["class","container-fluid mt-4 mb-3"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,15,"div",[["class","row p-2"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,1,"div",[["class","col-md-6 border rounded-right border-white bg-light text-center"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"img",[["class","border"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(8,0,null,null,12,"div",[["class","col-md-6 border-top border-white border-right border-left"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Ho(10,null,["",""])),(t()(),Po(11,0,null,null,2,"div",[["class","mra"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,pm)),$r(13,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(14,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Ho(15,null,["",""])),(t()(),Po(16,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062c\u0646\u064a\u0647 \u0645\u0635\u0631\u0649 "])),(t()(),Po(18,0,null,null,2,"div",[["class","divIcon mt-2"],["style","cursor: pointer;"]],null,null,null,null,null)),(t()(),Po(19,0,[["ic",1]],null,0,"i",[["aria-hidden","true"],["class","icon fa fa-shopping-cart fa-2x mr-5"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.AddToCart(i.Product.id,Vr(t,19))&&r),r}),null,null)),(t()(),Po(20,0,[["fc",1]],null,0,"i",[["aria-hidden","true"],["class","fa fa-heart fa-2x"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.AddToFav(i.Product.id,Vr(t,20))&&r),r}),null,null)),(t()(),Po(21,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Po(22,0,null,null,6,"nav",[["class","nav nav-pills nav-fill border-white"],["style","cursor: pointer;"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,1,"a",[],[[8,"className",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showDes()&&r),r}),null,null)),(t()(),Ho(-1,null,[" \u0648\u0635\u0641 \u0627\u0644\u0645\u0646\u062a\u062c "])),(t()(),Po(25,0,[[1,0],["in",1]],null,1,"a",[],[[8,"className",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showInfo()&&r),r}),null,null)),(t()(),Ho(-1,null,[" \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0636\u0627\u0641\u064a\u0629 "])),(t()(),Po(27,0,null,null,1,"a",[],[[8,"className",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showVote()&&r),r}),null,null)),(t()(),Ho(-1,null,["\u062a\u0642\u064a\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 "])),(t()(),Po(29,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Po(30,0,null,null,6,"div",[["class","row text-center-bg-dark p-3"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,fm)),$r(32,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,gm)),$r(34,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,mm)),$r(36,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(37,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Po(38,0,null,null,6,"div",[["class","shop"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,1,"h4",[["class","text-center m-3 p-2"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0645\u0646\u062a\u062c\u0627\u062a \u0630\u0627\u062a \u0635\u0644\u0629 "])),(t()(),Po(41,0,null,null,0,"hr",[["class","hrs"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,2,"div",[["class","row p-3 new"],["style","cursor: pointer;"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,ym)),$r(44,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(45,0,null,null,1,"app-footer",[["class","mt-4"]],null,null,null,Fg,Lg)),$r(46,114688,null,0,Mg,[],null,null)],(function(t,e){var n=e.component;t(e,3,0),t(e,13,0,n.stars),t(e,32,0,n.des),t(e,34,0,n.vote),t(e,36,0,n.info),t(e,44,0,n.FavProducts),t(e,46,0)}),(function(t,e){var n=e.component;t(e,7,0,null==n.Product?null:n.Product.image),t(e,10,0,null==n.Product?null:n.Product.title),t(e,15,0,null==n.Product?null:n.Product.price),t(e,23,0,n.des?"nav-item nav-link active ":"nav-item nav-link"),t(e,25,0,n.info?"nav-item nav-link active ":"nav-item nav-link"),t(e,27,0,n.vote?"nav-item nav-link active ":"nav-item nav-link")}))}var _m=xr("app-product",Qg,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-product",[],null,null,null,vm,dm)),$r(1,114688,null,0,Qg,[wp,xc,om],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class bm{constructor(){}ngOnInit(){}}var wm=qn({encapsulation:0,styles:[[""]],data:{}});function Cm(t){return Ko(0,[(t()(),Po(0,0,null,null,18,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,16,"div",[["class","mt-5 mb-3 col-md-6 col-xs-10 offset-md-3"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,15,"form",[["class","form-signin"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,5).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,5).onReset()&&r),r}),null,null)),$r(4,16384,null,0,sg,[],null,null),$r(5,4210688,null,0,Zf,[[8,null],[8,null]],null,null),Zr(2048,null,lf,null,[Zf]),$r(7,16384,null,0,df,[[4,lf]],null,null),(t()(),Po(8,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0633\u062c\u064a\u0644 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"])),(t()(),Po(10,0,null,null,0,"input",[["autofocus",""],["class","form-control mb-4"],["id","firstName"],["placeholder","\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644 "],["required",""]],null,null,null,null,null)),(t()(),Po(11,0,null,null,0,"input",[["autofocus",""],["class","form-control mb-4"],["id","lastName"],["placeholder","\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u062e\u064a\u0631  "],["required",""]],null,null,null,null,null)),(t()(),Po(12,0,null,null,0,"input",[["autofocus",""],["class","form-control mb-4"],["id","inputUser"],["placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "],["required",""]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"input",[["autofocus",""],["class","form-control mb-4"],["id","inputEmail"],["placeholder","\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u064a\u0643\u062a\u0631\u0648\u0646\u0649  "],["required",""],["type","email"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,0,"input",[["class","form-control mb-4"],["id","inputPassword"],["placeholder","\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 "],["required",""],["type","password"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,1,"button",[["class","btn btn-primary btn-block"],["type","submit"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062a\u0633\u062c\u064a\u0644 \u0645\u0633\u062a\u062e\u062f\u0645 "])),(t()(),Po(17,0,null,null,1,"p",[["class","mt-5 mb-3 text-muted"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\xa9 2020"]))],null,(function(t,e){t(e,3,0,Vr(e,7).ngClassUntouched,Vr(e,7).ngClassTouched,Vr(e,7).ngClassPristine,Vr(e,7).ngClassDirty,Vr(e,7).ngClassValid,Vr(e,7).ngClassInvalid,Vr(e,7).ngClassPending)}))}var Em=xr("app-signup",bm,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-signup",[],null,null,null,Cm,wm)),$r(1,114688,null,0,bm,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Tm{constructor(){}ngOnInit(){}}var Sm=qn({encapsulation:0,styles:[['.user[_ngcontent-%COMP%]{background-color:#2a3542;color:#ddd;padding:20px 0}nav[role=navigation][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.08)}ul[_ngcontent-%COMP%]{list-style:none}nav[role=navigation][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ddd;text-decoration:none;display:block;padding:.9em}nav[role=navigation][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.05)}nav[role=navigation][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\\f248";font-family:FontAwesome;padding-left:.6em}nav[role=navigation][_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf0e4"}nav[role=navigation][_ngcontent-%COMP%]   .write[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf055"}nav[role=navigation][_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf040"}nav[role=navigation][_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf27b"}nav[role=navigation][_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\uf007"}.active[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.05)}.comments[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .current[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .users[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .write[_ngcontent-%COMP%]   .write[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.1)}']],data:{animation:[{type:7,name:"routeAnimations",definitions:[{type:1,expr:"Contact => *",animation:[{type:11,selector:":enter, :leave",animation:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:{optional:!0}},{type:3,steps:[{type:11,selector:":enter",animation:[{type:6,styles:{transform:"translateX(-100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(0%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}},{type:11,selector:":leave",animation:[{type:6,styles:{transform:"translateX(0%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(100%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}}],options:null}],options:null},{type:1,expr:"Home => *",animation:[{type:11,selector:":enter, :leave",animation:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:{optional:!0}},{type:3,steps:[{type:11,selector:":enter",animation:[{type:6,styles:{transform:"translateX(100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(0%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}},{type:11,selector:":leave",animation:[{type:6,styles:{transform:"translateX(0%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(-100%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}}],options:null}],options:null},{type:1,expr:"About => Contact",animation:[{type:11,selector:":enter, :leave",animation:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:{optional:!0}},{type:3,steps:[{type:11,selector:":enter",animation:[{type:6,styles:{transform:"translateX(100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(0%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}},{type:11,selector:":leave",animation:[{type:6,styles:{transform:"translateX(0%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(-100%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}}],options:null}],options:null},{type:1,expr:"About => Home",animation:[{type:11,selector:":enter, :leave",animation:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:{optional:!0}},{type:3,steps:[{type:11,selector:":enter",animation:[{type:6,styles:{transform:"translateX(-100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(0%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}},{type:11,selector:":leave",animation:[{type:6,styles:{transform:"translateX(0%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(100%)"},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}}],options:null}],options:null}],options:{}},{type:7,name:"slideInOutAnimation",definitions:[{type:0,name:"*",styles:{type:6,styles:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{right:"-400%",backgroundColor:"rgba(0, 0, 0, 0)"},offset:null},{type:4,styles:{type:6,styles:{right:0,backgroundColor:"rgba(0, 0, 0, 0.8)"},offset:null},timings:".5s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{right:"-400%",backgroundColor:"rgba(0, 0, 0, 0)"},offset:null},timings:".5s ease-in-out"}],options:null}],options:{}},{type:7,name:"fadeInAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:".3s"}],options:null}],options:{}}]}});function Im(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-header",[],null,null,null,Ap,Cp)),$r(1,114688,null,0,_d,[ep,Uh,wp],null,null),(t()(),Po(2,0,null,null,41,"main",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,40,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,39,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,34,"div",[["class","col-md-4 text-center user"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,3,"div",[["class","head my-2"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"img",[["class","rounded-circle img-thumbnail"],["height","150"],["src","../../../assets/img/31715248.jpg"],["width","150"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,1,"h4",[["class","mt-2 mb-3"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0645\u062d\u0645\u062f \u0627\u0644\u062f\u064a\u0633\u0637\u0649"])),(t()(),Po(10,0,null,null,29,"nav",[["role","navigation"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,28,"ul",[["class","main"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,8,"li",[["class","dashboard"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(14,671744,[[2,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(15,1),$r(16,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),Mo(603979776,1,{links:1}),Mo(603979776,2,{linksWithHrefs:1}),Bo(19,{exact:0}),(t()(),Ho(-1,null,[" \u0627\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0628 "])),(t()(),Po(21,0,null,null,10,"li",[["class","write"],["routerLinkActive","active"]],null,null,null,null,null)),$r(22,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,3,{links:1}),Mo(603979776,4,{linksWithHrefs:1}),(t()(),Po(25,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,26).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(26,671744,[[6,4],[4,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(27,1),$r(28,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,5,{links:1}),Mo(603979776,6,{linksWithHrefs:1}),(t()(),Ho(-1,null,["\u0645\u0634\u062a\u0631\u064a\u0627\u062a\u0649 "])),(t()(),Po(32,0,null,null,7,"li",[["class","edit"]],null,null,null,null,null)),(t()(),Po(33,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,34).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),$r(34,671744,[[8,4]],0,jh,[Uh,xc,rl],{routerLink:[0,"routerLink"]},null),qo(35,1),$r(36,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,7,{links:1}),Mo(603979776,8,{linksWithHrefs:1}),(t()(),Ho(-1,null,["\u0627\u0644\u0645\u0641\u0636\u0644\u0629 "])),(t()(),Po(40,0,null,null,3,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),Po(41,0,null,null,2,"div",[],[[24,"@routeAnimations",0]],null,null,null,null)),(t()(),Po(42,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),$r(43,212992,[["o",4]],0,Wh,[Hh,Sn,Ye,[8,null],Ce],null,null),(t()(),Po(44,0,null,null,1,"app-footer",[],null,null,null,Fg,Lg)),$r(45,114688,null,0,Mg,[],null,null)],(function(t,e){t(e,1,0);var n=t(e,15,0,"/profile/Diyasty");t(e,14,0,n);var r=t(e,19,0,!0);t(e,16,0,r,"active"),t(e,22,0,"active");var i=t(e,27,0,"/profile/Diyasty/orders");t(e,26,0,i),t(e,28,0,"active");var o=t(e,35,0,"/profile/Diyasty/fav");t(e,34,0,o),t(e,36,0,"active"),t(e,43,0),t(e,45,0)}),(function(t,e){t(e,13,0,Vr(e,14).target,Vr(e,14).href),t(e,25,0,Vr(e,26).target,Vr(e,26).href),t(e,33,0,Vr(e,34).target,Vr(e,34).href),t(e,41,0,Vr(e,43)&&Vr(e,43).activatedRouteData&&Vr(e,43).activatedRouteData.animation)}))}var km=xr("app-UserDashboard",Tm,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-UserDashboard",[],null,null,null,Im,Sm)),$r(1,114688,null,0,Tm,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class xm{constructor(t){this.UserProduct=t,this.address=" \u0627\u0644\u062c\u0646\u0646\u064a\u0629 - \u0645\u0646\u064a\u0629 \u0627\u0644\u0646\u0635\u0631 - \u0627\u0644\u062f\u0642\u0647\u0644\u064a\u0629  ",this.phone="01090046219"}ngOnInit(){this.UserProduct.getUsers().subscribe(t=>{this.userName=t[0].userName,this.email=t[0].email,this.lastName=t[0].lastName,this.fristName=t[0].fristName})}}var Om=qn({encapsulation:0,styles:[[""]],data:{}});function Pm(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-loading-spinner",[],null,null,null,vd,yd)),$r(1,114688,null,0,md,[],null,null)],(function(t,e){t(e,1,0)}),null)}function Am(t){return Ko(0,[(t()(),Po(0,0,null,null,62,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"label",[["for","userName"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"])),(t()(),Po(3,0,null,null,7,"input",[["autofocus",""],["class","form-control mb-4"],["disabled",""],["id","inputUser"],["name","userName"],["placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,4)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.userName=n)&&r),r}),null,null)),$r(4,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(5,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(8,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(10,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(11,0,null,null,1,"label",[["for","firstName"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644 "])),(t()(),Po(13,0,null,null,7,"input",[["autofocus",""],["class","form-control mb-4"],["id","firstName"],["name","firstName"],["placeholder","\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644 "],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,14)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,14).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,14)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,14)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.fristName=n)&&r),r}),null,null)),$r(14,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(15,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(18,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(20,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(21,0,null,null,1,"label",[["for","lastName"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u062e\u064a\u0631 "])),(t()(),Po(23,0,null,null,7,"input",[["autofocus",""],["class","form-control mb-4"],["id","lastName"],["name","lastName"],["placeholder","\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u062e\u064a\u0631  "],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,24)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,24).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,24)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,24)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.lastName=n)&&r),r}),null,null)),$r(24,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(25,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(28,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(30,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(31,0,null,null,1,"label",[["for","inputEmail"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u064a\u0643\u062a\u0631\u0648\u0646\u0649 "])),(t()(),Po(33,0,null,null,7,"input",[["autofocus",""],["class","form-control mb-4"],["id","inputEmail"],["name","email"],["placeholder","\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u064a\u0643\u062a\u0631\u0648\u0646\u0649  "],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,34)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,34).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,34)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,34)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.email=n)&&r),r}),null,null)),$r(34,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(35,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(38,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(40,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(41,0,null,null,1,"label",[["for","address"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "])),(t()(),Po(43,0,null,null,7,"input",[["autofocus",""],["class","form-control mb-4"],["id","address"],["name","address"],["placeholder","\u0627\u0644\u0639\u0646\u0648\u0627\u0646  "],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,44)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,44).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,44)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,44)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.address=n)&&r),r}),null,null)),$r(44,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(45,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(48,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(50,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(51,0,null,null,1,"label",[["for","phone"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 "])),(t()(),Po(53,0,null,null,7,"input",[["autofocus",""],["class","form-control mb-4"],["id","phone"],["name","phone"],["placeholder","\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641   "],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,54)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,54).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,54)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,54)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.phone=n)&&r),r}),null,null)),$r(54,16384,null,0,of,[rn,Ze,[2,rf]],null,null),$r(55,16384,null,0,pg,[],{required:[0,"required"]},null),Zr(1024,null,ff,(function(t){return[t]}),[pg]),Zr(1024,null,nf,(function(t){return[t]}),[of]),$r(58,671744,null,0,og,[[2,lf],[6,ff],[8,null],[6,nf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,uf,null,[og]),$r(60,16384,null,0,hf,[[4,uf]],null,null),(t()(),Po(61,0,null,null,1,"button",[["class","btn btn-danger btn-block"],["type","submit"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u0631\u0627\u062a "]))],(function(t,e){var n=e.component;t(e,5,0,""),t(e,8,0,"userName","",n.userName),t(e,15,0,""),t(e,18,0,"firstName",n.fristName),t(e,25,0,""),t(e,28,0,"lastName",n.lastName),t(e,35,0,""),t(e,38,0,"email",n.email),t(e,45,0,""),t(e,48,0,"address",n.address),t(e,55,0,""),t(e,58,0,"phone",n.phone)}),(function(t,e){t(e,3,0,Vr(e,5).required?"":null,Vr(e,10).ngClassUntouched,Vr(e,10).ngClassTouched,Vr(e,10).ngClassPristine,Vr(e,10).ngClassDirty,Vr(e,10).ngClassValid,Vr(e,10).ngClassInvalid,Vr(e,10).ngClassPending),t(e,13,0,Vr(e,15).required?"":null,Vr(e,20).ngClassUntouched,Vr(e,20).ngClassTouched,Vr(e,20).ngClassPristine,Vr(e,20).ngClassDirty,Vr(e,20).ngClassValid,Vr(e,20).ngClassInvalid,Vr(e,20).ngClassPending),t(e,23,0,Vr(e,25).required?"":null,Vr(e,30).ngClassUntouched,Vr(e,30).ngClassTouched,Vr(e,30).ngClassPristine,Vr(e,30).ngClassDirty,Vr(e,30).ngClassValid,Vr(e,30).ngClassInvalid,Vr(e,30).ngClassPending),t(e,33,0,Vr(e,35).required?"":null,Vr(e,40).ngClassUntouched,Vr(e,40).ngClassTouched,Vr(e,40).ngClassPristine,Vr(e,40).ngClassDirty,Vr(e,40).ngClassValid,Vr(e,40).ngClassInvalid,Vr(e,40).ngClassPending),t(e,43,0,Vr(e,45).required?"":null,Vr(e,50).ngClassUntouched,Vr(e,50).ngClassTouched,Vr(e,50).ngClassPristine,Vr(e,50).ngClassDirty,Vr(e,50).ngClassValid,Vr(e,50).ngClassInvalid,Vr(e,50).ngClassPending),t(e,53,0,Vr(e,55).required?"":null,Vr(e,60).ngClassUntouched,Vr(e,60).ngClassTouched,Vr(e,60).ngClassPristine,Vr(e,60).ngClassDirty,Vr(e,60).ngClassValid,Vr(e,60).ngClassInvalid,Vr(e,60).ngClassPending)}))}function Nm(t){return Ko(0,[(t()(),Po(0,0,null,null,13,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,11,"div",[["class","mt-5 mb-3 col-md-6 col-xs-10 offset-md-3"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,10,"form",[["class","form-signin"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,5).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,5).onReset()&&r),r}),null,null)),$r(4,16384,null,0,sg,[],null,null),$r(5,4210688,[["f",4]],0,Zf,[[8,null],[8,null]],null,null),Zr(2048,null,lf,null,[Zf]),$r(7,16384,null,0,df,[[4,lf]],null,null),(t()(),Po(8,0,null,null,1,"h1",[["class","h3 mb-3 font-weight-normal"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629"])),(t()(),Oo(16777216,null,null,1,null,Pm)),$r(11,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,Am)),$r(13,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,11,0,!n.userName),t(e,13,0,n.userName)}),(function(t,e){t(e,3,0,Vr(e,7).ngClassUntouched,Vr(e,7).ngClassTouched,Vr(e,7).ngClassPristine,Vr(e,7).ngClassDirty,Vr(e,7).ngClassValid,Vr(e,7).ngClassInvalid,Vr(e,7).ngClassPending)}))}var Rm=xr("app-editUser",xm,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-editUser",[],null,null,null,Nm,Om)),$r(1,114688,null,0,xm,[wp],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Dm{constructor(){}ngOnInit(){}}var Mm=qn({encapsulation:0,styles:[[".table[_ngcontent-%COMP%]{background:#9d50bb85}"]],data:{}});function Lm(t){return Ko(0,[(t()(),Po(0,0,null,null,33,"table",[["class","table mt-5"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,7,"thead",[["class","thead"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"])),(t()(),Po(5,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(7,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"])),(t()(),Po(9,0,null,null,24,"tbody",[],null,null,null,null,null)),(t()(),Po(10,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),Po(11,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["1"])),(t()(),Po(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u0627\u0639\u0629 \u0631\u0648\u0644\u064a\u0643\u0633"])),(t()(),Po(15,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0628\u0646\u062c\u0627\u062d "])),(t()(),Po(17,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-check"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),Po(19,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["2"])),(t()(),Po(21,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u0627\u0639\u0629 \u0627\u0631\u0645\u064a\u0646\u0649"])),(t()(),Po(23,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062c\u0627\u0631\u0649 \u0627\u0644\u0634\u062d\u0646 "])),(t()(),Po(25,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-refresh"]],null,null,null,null,null)),(t()(),Po(26,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),Po(27,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),Ho(-1,null,["3"])),(t()(),Po(29,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u0627\u0639\u0629 55"])),(t()(),Po(31,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0641\u0649 \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0639\u0645\u064a\u0644 "])),(t()(),Po(33,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-spinner"]],null,null,null,null,null))],null,null)}var Fm=xr("app-UserOrders",Dm,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-UserOrders",[],null,null,null,Lm,Mm)),$r(1,114688,null,0,Dm,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Um{constructor(){}ngOnInit(){}}var Vm=qn({encapsulation:0,styles:[[""]],data:{}});function jm(t){return Ko(0,[(t()(),Po(0,0,null,null,22,"table",[["class","table table-hover table-bordered"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,9,"thead",[],null,null,null,null,null)),(t()(),Po(2,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(7,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(9,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062a\u0639\u062f\u064a\u0644"])),(t()(),Po(11,0,null,null,11,"tbody",[],null,null,null,null,null)),(t()(),Po(12,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Po(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"])),(t()(),Po(15,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0633\u0639\u0631"])),(t()(),Po(17,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Po(18,0,null,null,0,"img",[["alt",""],["srcset",""],["width","60px"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Po(20,0,null,null,2,"a",[],null,null,null,null,null)),(t()(),Po(21,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062d\u0630\u0641 "]))],null,null)}var qm=xr("app-FavUser",Um,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-FavUser",[],null,null,null,jm,Vm)),$r(1,114688,null,0,Um,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Bm{constructor(t,e){this.fs=t,this.firestore=e}ngOnInit(){}}var zm=qn({encapsulation:0,styles:[[""]],data:{}});function Hm(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,["about works!"]))],null,null)}var Wm=xr("app-about",Bm,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-about",[],null,null,null,Hm,zm)),$r(1,114688,null,0,Bm,[wp,mp],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);class Gm{constructor(t){this.ProductSer=t}ngOnInit(){this.ProductSer.getProducts().subscribe(t=>{this.Products1=t.slice(0,4).map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),this.ProductSer.getProducts().subscribe(t=>{this.Products2=t.slice(4,8).map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}}var Km=qn({encapsulation:0,styles:[["h2.padded-multi-line[_ngcontent-%COMP%]{font:50px cairo;text-align:center;font-weight:700;width:50%;margin:1em auto;position:relative;top:-.7em}.padded-multi-line[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{box-shadow:0 .45em 0 0 #0886ecd6,0 .45em 0 0 #a615df}.padded-multi-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:.68em;color:rgba(0,0,0,.9);padding:0 1rem;-webkit-box-decoration-break:clone;box-decoration-break:clone}a[_ngcontent-%COMP%]{-webkit-transition:.25s;transition:.25s all}.carousel-control-next-icon[_ngcontent-%COMP%], .carousel-control-prev-icon[_ngcontent-%COMP%]{-webkit-filter:invert(1);filter:invert(1)}.slide[_ngcontent-%COMP%]{cursor:pointer}.best[_ngcontent-%COMP%]{background-color:#e5eff0}img.d-block.w-100[_ngcontent-%COMP%]{outline:0}"]],data:{}});function Qm(t){return Ko(0,[(t()(),Po(0,0,null,null,6,"div",[["class","col-md-3 border-right rounded-right border-primary"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,1).onClick()&&r),r}),null,null)),$r(1,16384,[[1,4]],0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(2,2),$r(3,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,1,{links:1}),Mo(603979776,2,{linksWithHrefs:1}),(t()(),Po(6,0,null,null,0,"img",[["alt","item.title"],["class","d-block w-100"]],[[8,"src",4]],null,null,null,null))],(function(t,e){var n=t(e,2,0,"product",e.context.$implicit.id);t(e,1,0,n),t(e,3,0,"active")}),(function(t,e){t(e,6,0,e.context.$implicit.image)}))}function Ym(t){return Ko(0,[(t()(),Po(0,0,null,null,6,"div",[["class","col-md-3 border-right rounded-right border-primary"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,1).onClick()&&r),r}),null,null)),$r(1,16384,[[3,4]],0,Vh,[Uh,xc,[8,null],rn,Ze],{routerLink:[0,"routerLink"]},null),qo(2,2),$r(3,1720320,null,2,Bh,[Uh,Ze,rn,[2,Vh],[2,jh]],{routerLinkActive:[0,"routerLinkActive"]},null),Mo(603979776,3,{links:1}),Mo(603979776,4,{linksWithHrefs:1}),(t()(),Po(6,0,null,null,0,"img",[["alt","item.title"],["class","d-block w-100"]],[[8,"src",4]],null,null,null,null))],(function(t,e){var n=t(e,2,0,"product",e.context.$implicit.id);t(e,1,0,n),t(e,3,0,"active")}),(function(t,e){t(e,6,0,e.context.$implicit.image)}))}function Jm(t){return Ko(0,[(t()(),Po(0,0,null,null,22,"div",[["class","best"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,3,"h2",[["class","padded-multi-line"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0641\u0636\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a "])),(t()(),Po(5,0,null,null,17,"div",[["class","carousel slide"],["data-ride","carousel"],["id","carouselExampleControls"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,16,"div",[["class","carousel-inner py-2"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,3,"div",[["class","carousel-item active"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,Qm)),$r(10,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(11,0,null,null,3,"div",[["class","carousel-item"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,Ym)),$r(14,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(15,0,null,null,3,"a",[["class","carousel-control-prev"],["data-slide","prev"],["href","#carouselExampleControls"],["role","button"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"],["style","color: brown;"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0633\u0627\u0628\u0642 "])),(t()(),Po(19,0,null,null,3,"a",[["class","carousel-control-next"],["data-slide","next"],["href","#carouselExampleControls"],["role","button"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u062a\u0627\u0644\u0649"]))],(function(t,e){var n=e.component;t(e,10,0,n.Products1),t(e,14,0,n.Products2)}),null)}class Xm{constructor(){}ngOnInit(){}}var $m=qn({encapsulation:0,styles:[[".carousel-caption[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.726)}"]],data:{}});function Zm(t){return Ko(0,[(t()(),Po(0,0,null,null,40,"div",[["class","carousel slide"],["data-ride","carousel"],["id","carouselExampleCaptions"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,3,"ol",[["class","carousel-indicators"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"li",[["class","active"],["data-slide-to","0"],["data-target","#carouselExampleCaptions"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"li",[["data-slide-to","1"],["data-target","#carouselExampleCaptions"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,0,"li",[["data-slide-to","2"],["data-target","#carouselExampleCaptions"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,27,"div",[["class","carousel-inner"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,8,"div",[["class","carousel-item active"],["style","height: 550px;"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","../../../assets/img/w8x.png"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,6,"div",[["class","carousel-caption d-none d-md-block"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u062d\u062f\u062b \u0627\u0644\u0639\u0631\u0648\u0636"])),(t()(),Po(11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0641\u0636\u0644 \u0639\u0631\u0636 \u0628\u0627\u0641\u0636\u0644 \u0633\u0639\u0631 \u0628\u0636\u063a\u0637\u0629 \u0632\u0631"])),(t()(),Po(13,0,null,null,1,"button",[["class","btn btn-danger"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0634\u062a\u0631\u0649 \u0627\u0644\u0627\u0646 "])),(t()(),Po(15,0,null,null,8,"div",[["class","carousel-item"],["style","height: 550px;"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","../../../assets/img/w1.jpg"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,6,"div",[["class","carousel-caption d-none d-md-block"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u062e\u062a\u0631 \u0645\u0627 \u0628\u064a\u0646"])),(t()(),Po(20,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0641\u0636\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u0649 \u062a\u0646\u0627\u0633\u0628\u0643 \u0648\u0627\u0631\u062e\u0635 \u0645\u0646 \u0633\u0639\u0631 \u0627\u0644\u0633\u0648\u0642 "])),(t()(),Po(22,0,null,null,1,"button",[["class","btn btn-danger"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0635\u0641\u062d\u0629 \u0627\u0644\u0639\u0631\u0648\u0636 "])),(t()(),Po(24,0,null,null,8,"div",[["class","carousel-item"],["style","height: 550px;"]],null,null,null,null,null)),(t()(),Po(25,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","../../../assets/img/w7x.png"]],null,null,null,null,null)),(t()(),Po(26,0,null,null,6,"div",[["class","carousel-caption d-none d-sm-block"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0639\u0631\u0648\u0636 \u0636\u062e\u0645\u0629 \u0627\u0634\u062a\u0631\u0649 \u0627\u0644\u0627\u0646"])),(t()(),Po(29,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0648\u062a\u0645\u062a\u0639 \u0628\u062e\u0635\u064530% \u0639\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0633\u062a\u0639\u0645\u0644 \u0643\u0648\u062f \u0627\u0644\u062e\u0635\u0645 \u0644\u0627\u0648\u0644 \u0645\u0631\u0629 "])),(t()(),Po(31,0,null,null,1,"button",[["class","btn btn-danger"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" 1stTime "])),(t()(),Po(33,0,null,null,3,"a",[["class","carousel-control-prev"],["data-slide","prev"],["href","#carouselExampleCaptions"],["role","button"]],null,null,null,null,null)),(t()(),Po(34,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(t()(),Po(35,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u062a\u0627\u0644\u0649 "])),(t()(),Po(37,0,null,null,3,"a",[["class","carousel-control-next"],["data-slide","next"],["href","#carouselExampleCaptions"],["role","button"]],null,null,null,null,null)),(t()(),Po(38,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\u0627\u0644\u0633\u0627\u0628\u0642 "])),(t()(),Po(41,0,null,null,1,"app-best-products",[],null,null,null,Jm,Km)),$r(42,114688,null,0,Gm,[wp],null,null)],(function(t,e){t(e,42,0)}),null)}class ty{constructor(t,e){this.pro=t,this.tost=e}ngOnInit(){this.pro.getProducts().subscribe(t=>{this.Products=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),this.pro.getCart().subscribe(t=>{this.UserProducts=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}AddToCart(t="MI9Xr8sWjraqEuScCzcN"){let e=this.Products.find(e=>e.id===t),n={ID:e.id,title:e.title,image:e.image,price:e.price,amount:1};this.UserProducts.find(t=>t.price===e.price)?(this.isInCart=!0,this.tost.info("\u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 \u0641\u0649 \u0627\u0644\u0633\u0644\u0629","\u0644\u0645 \u062a\u062a\u0645",{timeOut:3e3})):this.pro.addCart(n).then(()=>{this.tost.success("\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 "," \u062a\u0645",{timeOut:3e3})}).catch(t=>console.log(t))}}var ey=qn({encapsulation:0,styles:[["@media (max-width:767.98px){.btn-primary[_ngcontent-%COMP%]{margin-bottom:10px!important}}"]],data:{}});function ny(t){return Ko(0,[(t()(),Po(0,0,null,null,33,"div",[["class","container"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,2,"h2",[["class","head"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0639\u0631\u0636 \u0627\u0644\u064a\u0648\u0645 "])),(t()(),Po(4,0,null,null,0,"hr",[["class","hrs"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,3,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,1,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,0,"img",[["class",""],["src","../../../assets/img/AR2448_ts1555578089.jpg"],["width","350px"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,23,"div",[["class","col-md-6 d-flex justify-content-space-around flex-column"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(12,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(13,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Ho(-1,null,["AR2434 \u0633\u0627\u0639\u0629 \u0627\u0631\u0645\u064a\u0646\u0649"])),(t()(),Po(15,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(17,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0644\u0644\u0645\u0635\u0645\u0645\u064a\u0646 \u0646\u0635 \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a \u0639\u0631\u0628\u064a \u0627\u0646\u062c\u0644\u064a\u0632\u064a \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0647\u0648 \u0646\u0645\u0648\u0630\u062c \u0627\u0641\u062a\u0631\u0627\u0636\u064a \u064a\u0648\u0636\u0639 \u0641\u064a \u0627\u0644\u062a\u0635\u0627\u0645\u064a\u0645 \u0644\u062a\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064a\u0644 \u0644\u064a\u062a\u0635\u0648\u0631 \u0637\u0631\u064a\u0642\u0647 \u0648\u0636\u0639 ... "])),(t()(),Po(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(21,0,null,null,3,"h3",[],null,null,null,null,null)),(t()(),Po(22,0,null,null,1,"span",[["style","text-decoration: line-through;"]],null,null,null,null,null)),(t()(),Ho(-1,null,["2250 \u062c. \u0645"])),(t()(),Ho(-1,null,[" 1900 \u062c. \u0645 "])),(t()(),Po(25,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(26,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,2,"button",[["class","btn btn-primary col-md-5"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AddToCart()&&r),r}),null,null)),(t()(),Po(28,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-shopping-cart"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 "])),(t()(),Po(30,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(31,0,null,null,2,"div",[["class","btn btn-danger col-md-5 offset-md-1 text-white"]],null,null,null,null,null)),(t()(),Po(32,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-snapchat-ghost"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0635\u0641\u062d\u0629 \u0644\u0645\u0646\u062a\u062c "])),(t()(),Po(34,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}class ry{constructor(t,e){this.pro=t,this.tost=e}ngOnInit(){this.pro.getProducts().subscribe(t=>{this.Products=t.slice(0,3).map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),this.pro.getCart().subscribe(t=>{this.UserProducts=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),this.pro.getFav().subscribe(t=>{this.UserFav=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}AddToCart(t){let e=this.Products.find(e=>e.id===t),n={ID:e.id,title:e.title,image:e.image,price:e.price,amount:1};this.UserProducts.find(t=>t.price===e.price)?this.tost.info("\u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 \u0641\u0649 \u0627\u0644\u0633\u0644\u0629","\u0644\u0645 \u062a\u062a\u0645",{timeOut:3e3}):this.pro.addCart(n).then(()=>{this.tost.success("\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 "," \u062a\u0645",{timeOut:3e3})}).catch(t=>console.log(t))}AddToFav(t,e){let n=this.Products.find(e=>e.id===t),r={title:n.title,image:n.image,price:n.price};this.UserFav.find(t=>t.image===n.image)?(this.isInFav=!0,e.style.color="rgb(230, 9, 145)",this.tost.info("\u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 \u0641\u0649 \u0627\u0644\u0645\u0641\u0636\u0644\u0629 ","\u0644\u0645 \u062a\u062a\u0645",{timeOut:3e3})):this.pro.addFav(r).then(()=>{e.style.color="rgb(230, 9, 145)",this.tost.success("\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0645\u0641\u0636\u0644\u0629  "," \u062a\u0645",{timeOut:3e3})}).catch(t=>console.log(t))}}var iy=qn({encapsulation:0,styles:[["p[_ngcontent-%COMP%]{font-size:1.2em}h2.padded-multi-line[_ngcontent-%COMP%]{font:50px cairo;text-align:center;font-weight:700;width:50%;margin:1em auto;position:relative;top:-.7em}.padded-multi-line[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{box-shadow:0 .45em 0 0 #0886ecd6,0 .45em 0 0 #a615df}.padded-multi-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:.68em;color:rgba(0,0,0,.9);padding:0 1rem;-webkit-box-decoration-break:clone;box-decoration-break:clone}a[_ngcontent-%COMP%]{-webkit-transition:.25s;transition:.25s all}@if $level == 2{box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]{cursor:pointer;border-radius:5px;box-shadow:0 5px 10px rgba(0,0,0,.3);height:350px;overflow:hidden;width:250px;margin:10px auto;text-align:right;position:relative}.badge[_ngcontent-%COMP%]{position:absolute;left:0;top:4px;padding:7px;border-radius:5px;box-shadow:1px 1px 1px 0 rgba(68,57,57,.507)}.card[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%}.details[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:1rem;position:absolute;top:85%;width:100%;-webkit-transition:box-shadow .3s ease-in-out,top .3s ease-in-out;transition:box-shadow .3s ease-in-out,top .3s ease-in-out}.card[_ngcontent-%COMP%]:hover   .details[_ngcontent-%COMP%]{box-shadow:0 -5px 10px rgba(0,0,0,.3);top:25%}.details[_ngcontent-%COMP%] > .min-details[_ngcontent-%COMP%], .details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%], .details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%] > .options-colors[_ngcontent-%COMP%], .details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%] > .options-size[_ngcontent-%COMP%]{margin-bottom:20px}.details[_ngcontent-%COMP%] > .min-details[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.details[_ngcontent-%COMP%] > .min-details[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#7b7b7b;display:block;font-size:.9rem;font-weight:400}.details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:5px}.details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;display:-webkit-box;display:flex}.details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:50%;cursor:pointer;height:30px;line-height:30px;margin-right:5px;text-align:center;width:30px}.options-size[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);color:#fff;font-size:.7rem;font-weight:900;text-transform:uppercase;-webkit-transition:background-color .3s ease-in-out;transition:background-color .3s ease-in-out}.btn[_ngcontent-%COMP%]{background-color:#db4289;border-radius:5px;margin-bottom:1rem;color:#fff!important;display:block;padding:10px;text-align:center;text-decoration:none;text-transform:capitalize;width:100%;-webkit-transition:box-shadow .3s ease-in-out,-webkit-transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,-webkit-transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,transform .3s ease-in-out,-webkit-transform .3s ease-in-out}.mra[_ngcontent-%COMP%]{padding:10px}#toastx2[_ngcontent-%COMP%]{visibility:hidden;max-width:50px;height:50px;margin:auto;background:#00d2ff;background:-webkit-gradient(linear,left top,right top,from(#3a7bd5),to(#00d2ff));background:linear-gradient(to right,#3a7bd5,#00d2ff);color:#fff;text-align:center;border-radius:2px;position:fixed;z-index:1;right:0;top:0;font-size:17px;white-space:nowrap}#toastx2[_ngcontent-%COMP%]   #img[_ngcontent-%COMP%]{width:50px;height:50px;float:left;padding-top:16px;padding-bottom:16px;box-sizing:border-box;background:#9d50bb;background:-webkit-gradient(linear,left top,right top,from(#6e48aa),to(#9d50bb));background:linear-gradient(to right,#6e48aa,#9d50bb);color:#fff}#toastx2[_ngcontent-%COMP%]   #desc[_ngcontent-%COMP%]{color:#fff;padding:16px;overflow:hidden;white-space:nowrap}#toastx2.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:.5s fadein,.5s .5s expand,3s 1s stay,.5s 2s shrink,.5s 2.5s fadeout;animation:.5s fadein,.5s .5s expand,3s 1s stay,.5s 4s shrink,.5s 4.5s fadeout}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes expand{from{min-width:50px}to{min-width:350px}}@keyframes expand{from{min-width:50px}to{min-width:350px}}@-webkit-keyframes stay{from,to{min-width:350px}}@keyframes stay{from,to{min-width:350px}}@-webkit-keyframes shrink{from{min-width:350px}to{min-width:50px}}@keyframes shrink{from{min-width:350px}to{min-width:50px}}@-webkit-keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:60px;opacity:0}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:60px;opacity:0}}.bg[_ngcontent-%COMP%]{background-color:#e9ecefb5!important}"]],data:{}});function oy(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-loading-spinner",[],null,null,null,vd,yd)),$r(1,114688,null,0,md,[],null,null)],(function(t,e){t(e,1,0)}),null)}function sy(t){return Ko(0,[(t()(),Po(0,0,null,null,19,"div",[["class","col-lg-4 col-md-4"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,18,"div",[["class","card"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"figure",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"img",[["alt","t-shirt"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(4,0,null,null,15,"section",[["class","details"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,6,"div",[["class","min-details"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ho(7,null,["",""])),(t()(),Po(8,0,null,null,3,"h1",[["class","price text-left"]],null,null,null,null,null)),(t()(),Ho(9,null,[" "," "])),(t()(),Po(10,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062c \u0645"])),(t()(),Po(12,0,null,null,1,"div",[["class","options"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"div",[["class","options-size"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,2,"a",[["class","btn"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AddToCart(t.context.$implicit.id)&&r),r}),null,null)),(t()(),Ho(-1,null,[" \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 "])),(t()(),Po(16,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-shopping-cart ml-1"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,2,"a",[["class","btn2"]],[[8,"href",4]],null,null,null,null)),(t()(),Ho(-1,null,[" \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c "])),(t()(),Po(19,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-snapchat-ghost ml-1"]],null,null,null,null,null))],null,(function(t,e){t(e,3,0,e.context.$implicit.image),t(e,7,0,e.context.$implicit.title),t(e,9,0,e.context.$implicit.price),t(e,17,0,gr(1,"product/",e.context.$implicit.id,""))}))}function ly(t){return Ko(0,[(t()(),Po(0,0,null,null,8,"div",[["class","mt-5 mb-5 bg"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"h4",[["class","text-center m-3 p-2"]],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0648\u0635\u0644 \u062d\u062f\u064a\u062b\u0627 "])),(t()(),Po(3,0,null,null,0,"hr",[["class","hrs"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,oy)),$r(5,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(6,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,sy)),$r(8,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,!n.Products),t(e,8,0,n.Products)}),null)}class ay{constructor(){}ngOnInit(){}}var uy=qn({encapsulation:0,styles:[[""]],data:{}});function cy(t){return Ko(0,[(t()(),Po(0,0,null,null,29,"div",[["class","body bg-dark text-white py-5 text-center"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,28,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,8,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-rocket fa-5x"],["style","color: rgb(247, 7, 247);"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,4,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062a\u0648\u0635\u064a\u0644 \u0633\u0631\u064a\u0639 \u0648 \u0645\u062c\u0627\u0646\u0649 "])),(t()(),Po(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0644\u0644\u0645\u0635\u0645\u0645\u064a\u0646 \u0646\u0635 \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a \u0639\u0631\u0628\u064a \u0627\u0646\u062c\u0644\u064a\u0632\u064a \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0647\u0648 \u0646\u0645\u0648\u0630\u062c \u0627\u0641\u062a\u0631\u0627\u0636\u064a \u064a\u0648\u0636\u0639 \u0641\u064a \u0627\u0644\u062a\u0635\u0627\u0645\u064a\u0645 \u0644\u062a\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064a\u0644 \u0644\u064a\u062a\u0635\u0648\u0631 \u0637\u0631\u064a\u0642\u0647 \u0648\u0636\u0639 ... "])),(t()(),Po(12,0,null,null,8,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,1,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,0,"i",[["class","fa fa-money  fa-5x  "],["style","color: rgb(141, 226, 5);"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,4,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062e\u062f\u0645\u0629 \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0627\u0645\u0648\u0627\u0644 "])),(t()(),Po(19,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0644\u0644\u0645\u0635\u0645\u0645\u064a\u0646 \u0646\u0635 \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a \u0639\u0631\u0628\u064a \u0627\u0646\u062c\u0644\u064a\u0632\u064a \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0647\u0648 \u0646\u0645\u0648\u0630\u062c \u0627\u0641\u062a\u0631\u0627\u0636\u064a \u064a\u0648\u0636\u0639 \u0641\u064a \u0627\u0644\u062a\u0635\u0627\u0645\u064a\u0645 \u0644\u062a\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064a\u0644 \u0644\u064a\u062a\u0635\u0648\u0631 \u0637\u0631\u064a\u0642\u0647 \u0648\u0636\u0639 ... "])),(t()(),Po(21,0,null,null,8,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,1,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-headphones  fa-5x "],["style","color: rgb(19, 83, 221);"]],null,null,null,null,null)),(t()(),Po(25,0,null,null,4,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),Po(26,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u062e\u062f\u0645\u0629 \u0639\u0645\u0644\u0627\u0621 \u0648\u062e\u062f\u0645\u0629 \u0645\u0627 \u0628\u0639\u062f \u0627\u0644\u0628\u064a\u0639 "])),(t()(),Po(28,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0644\u0644\u0645\u0635\u0645\u0645\u064a\u0646 \u0646\u0635 \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a \u0639\u0631\u0628\u064a \u0627\u0646\u062c\u0644\u064a\u0632\u064a \u0644\u0648\u0631\u064a\u0645 \u0627\u064a\u0628\u0633\u0648\u0645 \u0647\u0648 \u0646\u0645\u0648\u0630\u062c \u0627\u0641\u062a\u0631\u0627\u0636\u064a \u064a\u0648\u0636\u0639 \u0641\u064a \u0627\u0644\u062a\u0635\u0627\u0645\u064a\u0645 \u0644\u062a\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064a\u0644 \u0644\u064a\u062a\u0635\u0648\u0631 \u0637\u0631\u064a\u0642\u0647 \u0648\u0636\u0639 ... "]))],null,null)}class hy{constructor(t,e,n,r){this.pro=t,this.fs=e,this.tost=n,this.route=r,this.stars=[1,2,3,4,5],this.rating=0,this.hoverState=0}enter(t){this.hoverState=t}leave(){this.hoverState=0}updateRating(t){this.rating=t}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id,this.pro.getProducts().subscribe(t=>{this.Products=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}),this.pro.getCart().subscribe(t=>{this.UserProducts=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}ngAfterViewInit(){}AddToCart(t){let e=this.Products.find(e=>e.id===t),n={ID:e.id,title:e.title,image:e.image,price:e.price,amount:1};this.UserProducts.find(t=>t.price===e.price)?(this.isInCart=!0,this.tost.info("\u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 \u0641\u0649 \u0627\u0644\u0633\u0644\u0629","\u0644\u0645 \u062a\u062a\u0645",{timeOut:3e3})):this.pro.addCart(n).then(()=>{this.tost.success("\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 "," \u062a\u0645",{timeOut:3e3})}).catch(t=>console.log(t))}AddToFav(t){let e=this.Products.find(e=>e.id===t),n={title:e.title,image:e.image,price:e.price};this.UserProducts.find(t=>t.id===e.id)?(this.isInCart=!0,this.tost.info("\u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 \u0641\u0649 \u0627\u0644\u0633\u0644\u0629","\u0644\u0645 \u062a\u062a\u0645",{timeOut:3e3})):this.pro.addFav(n).then(()=>{this.tost.success("\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 "," \u062a\u0645",{timeOut:3e3})}).catch(t=>console.log(t))}}var dy=qn({encapsulation:0,styles:[["p[_ngcontent-%COMP%]{font-size:1.2em}h2.padded-multi-line[_ngcontent-%COMP%]{font:50px cairo;text-align:center;font-weight:700;width:50%;margin:1em auto;position:relative;top:-.7em}.padded-multi-line[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{box-shadow:0 .45em 0 0 #0886ecd6,0 .45em 0 0 #a615df}.padded-multi-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:.68em;color:rgba(0,0,0,.9);padding:0 1rem;-webkit-box-decoration-break:clone;box-decoration-break:clone}a[_ngcontent-%COMP%]{-webkit-transition:.25s;transition:.25s all}h1[_ngcontent-%COMP%]{font-size:1.2rem;text-transform:capitalize}.card[_ngcontent-%COMP%]{cursor:pointer;border-radius:5px;box-shadow:0 5px 10px rgba(0,0,0,.3);height:350px;overflow:hidden;width:250px;margin:10px auto;text-align:right;position:relative}.card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{text-align:left}.card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;left:0;top:4px;padding:7px;border-radius:5px;box-shadow:1px 1px 1px 0 rgba(68,57,57,.507)}.card[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%]{width:90%;margin:20px auto 0}.card[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%}.details[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:1rem;position:absolute;top:85%;width:100%;-webkit-transition:box-shadow .3s ease-in-out,top .3s ease-in-out;transition:box-shadow .3s ease-in-out,top .3s ease-in-out}.card[_ngcontent-%COMP%]:hover   .details[_ngcontent-%COMP%]{box-shadow:0 -5px 10px rgba(0,0,0,.3);top:25%}.details[_ngcontent-%COMP%] > .min-details[_ngcontent-%COMP%], .details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%], .details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%] > .options-colors[_ngcontent-%COMP%], .details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%] > .options-size[_ngcontent-%COMP%]{margin-bottom:20px}.details[_ngcontent-%COMP%] > .min-details[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.details[_ngcontent-%COMP%] > .min-details[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#7b7b7b;display:block;font-size:.9rem;font-weight:400}.details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:5px}.details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;display:-webkit-box;display:flex}.details[_ngcontent-%COMP%] > .options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:50%;cursor:pointer;height:30px;line-height:30px;margin-right:5px;text-align:center;width:30px}.options-size[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);color:#fff;font-size:.7rem;font-weight:900;text-transform:uppercase;-webkit-transition:background-color .3s ease-in-out;transition:background-color .3s ease-in-out}.btn[_ngcontent-%COMP%]{background-color:#db4289;border-radius:5px;margin-bottom:1rem;color:#fff!important;display:block;padding:10px;text-align:center;text-decoration:none;text-transform:capitalize;width:100%;-webkit-transition:box-shadow .3s ease-in-out,-webkit-transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,-webkit-transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,transform .3s ease-in-out,-webkit-transform .3s ease-in-out}.btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 5px 10px rgba(0,0,0,.3);-webkit-transform:translateY(-2px);transform:translateY(-2px)}.btn[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff!important}.btn2[_ngcontent-%COMP%]{background-color:#13e77d;border-radius:5px;color:#fff!important;display:block;padding:7px;text-align:center;text-decoration:none;text-transform:capitalize;width:100%;-webkit-transition:box-shadow .3s ease-in-out,-webkit-transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,-webkit-transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,transform .3s ease-in-out;transition:box-shadow .3s ease-in-out,transform .3s ease-in-out,-webkit-transform .3s ease-in-out}.btn2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}.btn2[_ngcontent-%COMP%]:hover{box-shadow:0 5px 10px rgba(0,0,0,.3);-webkit-transform:translateY(-2px);transform:translateY(-2px)}.mra[_ngcontent-%COMP%]{padding:10px}#toastx2[_ngcontent-%COMP%]{visibility:hidden;max-width:50px;height:50px;margin:auto;background:#00d2ff;background:-webkit-gradient(linear,left top,right top,from(#3a7bd5),to(#00d2ff));background:linear-gradient(to right,#3a7bd5,#00d2ff);color:#fff;text-align:center;border-radius:2px;position:fixed;z-index:1;right:0;top:0;font-size:17px;white-space:nowrap}#toastx2[_ngcontent-%COMP%]   #img[_ngcontent-%COMP%]{width:50px;height:50px;float:left;padding-top:16px;padding-bottom:16px;box-sizing:border-box;background:#9d50bb;background:-webkit-gradient(linear,left top,right top,from(#6e48aa),to(#9d50bb));background:linear-gradient(to right,#6e48aa,#9d50bb);color:#fff}#toastx2[_ngcontent-%COMP%]   #desc[_ngcontent-%COMP%]{color:#fff;padding:16px;overflow:hidden;white-space:nowrap}#toastx2.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:.5s fadein,.5s .5s expand,3s 1s stay,.5s 2s shrink,.5s 2.5s fadeout;animation:.5s fadein,.5s .5s expand,3s 1s stay,.5s 4s shrink,.5s 4.5s fadeout}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes expand{from{min-width:50px}to{min-width:350px}}@keyframes expand{from{min-width:50px}to{min-width:350px}}@-webkit-keyframes stay{from,to{min-width:350px}}@keyframes stay{from,to{min-width:350px}}@-webkit-keyframes shrink{from{min-width:350px}to{min-width:50px}}@keyframes shrink{from{min-width:350px}to{min-width:50px}}@-webkit-keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:60px;opacity:0}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:60px;opacity:0}}"]],data:{}});function py(t){return Ko(0,[(t()(),Po(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function fy(t){return Ko(0,[(t()(),Po(0,0,null,null,22,"div",[["class","col-lg-3 col-md-6"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,21,"div",[["class","card"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"figure",[],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"img",[["alt","t-shirt"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(4,0,null,null,18,"section",[["class","details"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,6,"div",[["class","min-details"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ho(7,null,["",""])),(t()(),Po(8,0,null,null,3,"h1",[["class","price text-left"]],null,null,null,null,null)),(t()(),Ho(9,null,[" "," "])),(t()(),Po(10,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Ho(-1,null,["\u062c \u0645"])),(t()(),Po(12,0,null,null,1,"div",[["class","options"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"div",[["class","options-size"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,2,"div",[["class","mra"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,py)),$r(16,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(17,0,null,null,2,"a",[["class","btn"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AddToCart(t.context.$implicit.id)&&r),r}),null,null)),(t()(),Ho(-1,null,[" \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 "])),(t()(),Po(19,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-shopping-cart ml-1"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,2,"a",[["class","btn2"]],[[8,"href",4]],null,null,null,null)),(t()(),Ho(-1,null,[" \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c "])),(t()(),Po(22,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-snapchat-ghost ml-1"]],null,null,null,null,null))],(function(t,e){t(e,16,0,e.component.stars)}),(function(t,e){t(e,3,0,e.context.$implicit.image),t(e,7,0,e.context.$implicit.title),t(e,9,0,e.context.$implicit.price),t(e,20,0,gr(1,"product/",e.context.$implicit.id,""))}))}function gy(t){return Ko(0,[(t()(),Po(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Oo(16777216,null,null,1,null,fy)),$r(2,278528,null,0,fl,[Sn,En,vn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.Products)}),null)}function my(t){return Ko(0,[(t()(),Po(0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,6,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,3,"h2",[["class","padded-multi-line"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Po(4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ho(-1,null,[" \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a "])),(t()(),Oo(16777216,null,null,1,null,gy)),$r(7,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,7,0,e.component.Products)}),null)}function yy(t){return Ko(0,[(t()(),Oo(16777216,null,null,1,null,my)),$r(1,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.Products)}),null)}class vy{constructor(t,e){this.pro=t,this.auth=e,this.isUser=!1,this.Products=[],e.User.subscribe(t=>{this.isUser=!!t}),this.isLoading=!0}ngAfterContentInit(){}ngOnInit(){this.isLoading=!1,this.pro.getProducts().subscribe(t=>this.Products=t)}}var _y=qn({encapsulation:0,styles:[[""]],data:{animation:[{type:7,name:"fadeInAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:".3s"}],options:null}],options:{}}]}});function by(t){return Ko(0,[(t()(),Po(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"app-loading-spinner",[],null,null,null,vd,yd)),$r(2,114688,null,0,md,[],null,null)],(function(t,e){t(e,2,0)}),null)}function wy(t){return Ko(0,[(t()(),Po(0,0,null,null,15,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"app-header",[],null,null,null,Ap,Cp)),$r(2,114688,null,0,_d,[ep,Uh,wp],null,null),(t()(),Po(3,0,null,null,1,"app-banners",[],null,null,null,Zm,$m)),$r(4,114688,null,0,Xm,[],null,null),(t()(),Po(5,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Po(6,0,null,null,1,"app-big-deal",[],null,null,null,ny,ey)),$r(7,114688,null,0,ty,[wp,om],null,null),(t()(),Po(8,0,null,null,1,"app-shop",[],null,null,null,ly,iy)),$r(9,114688,null,0,ry,[wp,om],null,null),(t()(),Po(10,0,null,null,1,"app-features",[],null,null,null,cy,uy)),$r(11,114688,null,0,ay,[],null,null),(t()(),Po(12,0,null,null,1,"app-category",[],null,null,null,yy,dy)),$r(13,4308992,null,0,hy,[wp,mp,om,xc],null,null),(t()(),Po(14,0,null,null,1,"app-footer",[],null,null,null,Fg,Lg)),$r(15,114688,null,0,Mg,[],null,null)],(function(t,e){t(e,2,0),t(e,4,0),t(e,7,0),t(e,9,0),t(e,11,0),t(e,13,0),t(e,15,0)}),null)}function Cy(t){return Ko(0,[(t()(),Oo(16777216,null,null,1,null,by)),$r(1,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,wy)),$r(3,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.isLoading),t(e,3,0,!n.isLoading)}),null)}var Ey=xr("app-home",vy,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-home",[],[[40,"@fadeInAnimation",0]],null,null,Cy,_y)),$r(1,1163264,null,0,vy,[wp,ep],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,void 0)}))}),{},{},[]),Ty=qn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"inactive",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"active",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"removed",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"inactive => active",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null},{type:1,expr:"active => removed",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null}],options:{}}]}});function Sy(t){return Ko(0,[(t()(),Po(0,0,null,null,2,"button",[["aria-label","Close"],["class","toast-close-button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.remove()&&r),r}),null,null)),(t()(),Po(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Ho(-1,null,["\xd7"]))],null,null)}function Iy(t){return Ko(0,[(t()(),Po(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),Ho(1,null,["[","]"]))],null,(function(t,e){t(e,1,0,e.component.duplicatesCount+1)}))}function ky(t){return Ko(0,[(t()(),Po(0,0,null,null,3,"div",[],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(t()(),Ho(1,null,[" "," "])),(t()(),Oo(16777216,null,null,1,null,Iy)),$r(3,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,e.component.duplicatesCount)}),(function(t,e){var n=e.component;t(e,0,0,n.options.titleClass,n.title),t(e,1,0,n.title)}))}function xy(t){return Ko(0,[(t()(),Po(0,0,null,null,0,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[8,"innerHTML",1]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n.options.messageClass,n.message)}))}function Oy(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(t()(),Ho(1,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,0,0,n.options.messageClass,n.message),t(e,1,0,n.message)}))}function Py(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"div",[["class","toast-progress"]],[[4,"width",null]],null,null,null,null))],null,(function(t,e){t(e,1,0,e.component.width+"%")}))}function Ay(t){return Ko(0,[(t()(),Oo(16777216,null,null,1,null,Sy)),$r(1,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,ky)),$r(3,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,xy)),$r(5,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,Oy)),$r(7,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,Py)),$r(9,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.options.closeButton),t(e,3,0,n.title),t(e,5,0,n.message&&n.options.enableHtml),t(e,7,0,n.message&&!n.options.enableHtml),t(e,9,0,n.options.progressBar)}),null)}var Ny=xr("[toast-component]",sm,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"div",[["toast-component",""]],[[8,"className",0],[40,"@flyInOut",0],[4,"display",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,1).tapToast()&&r),"mouseenter"===e&&(r=!1!==Vr(t,1).stickAround()&&r),"mouseleave"===e&&(r=!1!==Vr(t,1).delayedHideToast()&&r),r}),Ay,Ty)),$r(1,180224,null,0,sm,[om,Yg,Gi],null,null)],null,(function(t,e){t(e,0,0,Vr(e,1).toastClasses,Vr(e,1).state,Vr(e,1).displayStyle)}))}),{},{},[]),Ry=qn({encapsulation:0,styles:[[".sk-cube-grid[_ngcontent-%COMP%]{width:70px;height:70px;margin:20% auto}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]{width:33%;height:33%;background-color:#cc0cac;float:left;-webkit-animation:1.3s ease-in-out infinite sk-cubeGridScaleDelay;animation:1.3s ease-in-out infinite sk-cubeGridScaleDelay}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube1[_ngcontent-%COMP%]{-webkit-animation-delay:.2s;animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]{-webkit-animation-delay:.3s;animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]{-webkit-animation-delay:.4s;animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]{-webkit-animation-delay:.1s;animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube5[_ngcontent-%COMP%]{-webkit-animation-delay:.2s;animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube6[_ngcontent-%COMP%]{-webkit-animation-delay:.3s;animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube7[_ngcontent-%COMP%]{-webkit-animation-delay:0s;animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube8[_ngcontent-%COMP%]{-webkit-animation-delay:.1s;animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube9[_ngcontent-%COMP%]{-webkit-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes sk-cubeGridScaleDelay{0%,100%,70%{-webkit-transform:scale3D(1,1,1);transform:scale3D(1,1,1)}35%{-webkit-transform:scale3D(0,0,1);transform:scale3D(0,0,1)}}@keyframes sk-cubeGridScaleDelay{0%,100%,70%{-webkit-transform:scale3D(1,1,1);transform:scale3D(1,1,1)}35%{-webkit-transform:scale3D(0,0,1);transform:scale3D(0,0,1)}}"]],data:{animation:[{type:7,name:"slideInOutAnimation",definitions:[{type:0,name:"*",styles:{type:6,styles:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{right:"-400%",backgroundColor:"rgba(0, 0, 0, 0)"},offset:null},{type:4,styles:{type:6,styles:{right:0,backgroundColor:"rgba(0, 0, 0, 0.8)"},offset:null},timings:".5s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{right:"-400%",backgroundColor:"rgba(0, 0, 0, 0)"},offset:null},timings:".5s ease-in-out"}],options:null}],options:{}}]}});function Dy(t){return Ko(0,[(t()(),Po(0,0,null,null,10,"main",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,9,"div",[["class","sk-cube-grid"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"div",[["class","sk-cube sk-cube1"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"div",[["class","sk-cube sk-cube2"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,0,"div",[["class","sk-cube sk-cube3"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,0,"div",[["class","sk-cube sk-cube4"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,0,"div",[["class","sk-cube sk-cube5"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"div",[["class","sk-cube sk-cube6"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,0,"div",[["class","sk-cube sk-cube7"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,0,"div",[["class","sk-cube sk-cube8"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,0,"div",[["class","sk-cube sk-cube9"]],null,null,null,null,null))],null,null)}function My(t){return Ko(0,[(t()(),Po(0,0,null,null,2,"main",[],null,null,null,null,null)),(t()(),Po(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),$r(2,212992,null,0,Wh,[Hh,Sn,Ye,[8,null],Ce],null,null)],(function(t,e){t(e,2,0)}),null)}function Ly(t){return Ko(0,[(t()(),Oo(16777216,null,null,1,null,Dy)),$r(1,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null),(t()(),Oo(16777216,null,null,1,null,My)),$r(3,16384,null,0,ml,[Sn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,!n.show),t(e,3,0,n.show)}),null)}var Fy=xr("app-root",tl,(function(t){return Ko(0,[(t()(),Po(0,0,null,null,1,"app-root",[],null,null,null,Ly,Ry)),$r(1,49152,null,0,tl,[wp],null,null)],null,null)}),{},{},[]);class Uy{}function Vy(t,e=null){return{type:2,steps:t,options:e}}function jy(t){return{type:6,styles:t,offset:null}}function qy(t){Promise.resolve(null).then(t)}class By{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class zy{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?qy(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Hy(){return"undefined"!=typeof process}function Wy(t){switch(t.length){case 0:return new By;case 1:return t[0];default:return new zy(t)}}function Gy(t,e,n,r,i={},o={}){const s=[],l=[];let a=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==a,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,l=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),l){case"!":l=i[n];break;case"*":l=o[n];break;default:l=e.normalizeStyleValue(n,r,l,s)}c[r]=l}),r||l.push(c),u=c,a=n}),s.length){const t="\n - ";throw new Error("Unable to animate due to the following errors:".concat(t).concat(s.join(t)))}return l}function Ky(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Qy(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Qy(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Qy(n,"destroy",t)))}}function Qy(t,e,n){const r=n.totalTime,i=Yy(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Yy(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Jy(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Xy(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let $y=(t,e)=>!1,Zy=(t,e)=>!1,tv=(t,e,n)=>[];const ev=Hy();(ev||"undefined"!=typeof Element)&&($y=(t,e)=>t.contains(e),Zy=(()=>{if(ev||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Zy}})(),tv=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let nv=null,rv=!1;function iv(t){nv||(nv=("undefined"!=typeof document?document.body:null)||{},rv=!!nv.style&&"WebkitAppearance"in nv.style);let e=!0;return nv.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in nv.style,!e&&rv)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in nv.style),e}const ov=Zy,sv=$y,lv=tv;function av(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class uv{validateStyleProperty(t){return iv(t)}matchesElement(t,e){return ov(t,e)}containsElement(t,e){return sv(t,e)}query(t,e,n){return lv(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new By(n,r)}}let cv=(()=>{class t{}return t.NOOP=new uv,t})();function hv(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dv(parseFloat(e[1]),e[2])}function dv(t,e){switch(e){case"s":return 1e3*t;default:return t}}function pv(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=dv(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=dv(parseFloat(s),n[4]));const l=n[5];l&&(o=l)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function fv(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function gv(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else fv(t,n);return n}function mv(t,e,n){return n?e+":"+n+";":""}function yv(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=mv(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=mv(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function vv(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Iv(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Hy()&&yv(t))}function _v(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Iv(e);t.style[n]=""}),Hy()&&yv(t))}function bv(t){return Array.isArray(t)?1==t.length?t[0]:Vy(t):t}const wv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cv(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=wv.exec(n);)e.push(r[1]);wv.lastIndex=0}return e}function Ev(t,e,n){const r=t.toString(),i=r.replace(wv,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?t:i}function Tv(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Sv=/-+([a-z0-9])/g;function Iv(t){return t.replace(Sv,(...t)=>t[1].toUpperCase())}function kv(t,e){return 0===t||0===e}function xv(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=Pv(t,e)}))}}return e}function Ov(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function Pv(t,e){return window.getComputedStyle(t)[e]}function Av(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;const i=r[1],o=r[2],s=r[3];e.push(Dv(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(Dv(s,i))}(t,n,e)):n.push(t),n}const Nv=new Set(["true","1"]),Rv=new Set(["false","0"]);function Dv(t,e){const n=Nv.has(t)||Rv.has(t),r=Nv.has(e)||Rv.has(e);return(i,o)=>{let s="*"==t||t==i,l="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Nv.has(t):Rv.has(t)),!l&&r&&"boolean"==typeof o&&(l=o?Nv.has(e):Rv.has(e)),s&&l}}const Mv=new RegExp("s*:selfs*,?","g");function Lv(t,e,n){return new Fv(t).build(e,n)}class Fv{constructor(t){this._driver=t}build(t,e){const n=new Uv(e);return this._resetContextStyleTimingState(n),Ov(this,bv(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Vv(t)){const e=t;Object.keys(e).forEach(t=>{Cv(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Tv(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(n.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ov(this,bv(t.animation),e);return{type:1,matchers:Av(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:jv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Ov(this,t,e)),options:jv(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Ov(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:jv(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return qv(pv(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=qv(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||pv(r,e),qv(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:jy({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=jy(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Vv(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push('The provided animation property "'.concat(n,'" is not a supported CSS property for animations'));const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let l=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push('The CSS property "'.concat(n,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(i,'ms" and "').concat(r,'ms"')),l=!1),i=s.startTime),l&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Cv(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,l=0;const a=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let a=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Vv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Vv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=a&&(r++,u=n.offset=a),s=s||u<0||u>1,o=o||u<l,l=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return a.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Ov(this,bv(t.animation),e),options:jv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jv(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Mv,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Jy(e.collectedStyles,e.currentQuerySelector,{});const s=Ov(this,bv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:jv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:pv(t.timings,e.errors,!0);return{type:12,animation:Ov(this,bv(t.animation),e),timings:n,options:null}}}class Uv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Vv(t){return!Array.isArray(t)&&"object"==typeof t}function jv(t){var e;return t?(t=fv(t)).params&&(t.params=(e=t.params)?fv(e):null):t={},t}function qv(t,e,n){return{duration:t,delay:e,easing:n}}function Bv(t,e,n,r,i,o,s=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:l}}class zv{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Hv=new RegExp(":enter","g"),Wv=new RegExp(":leave","g");function Gv(t,e,n,r,i,o={},s={},l,a,u=[]){return(new Kv).buildKeyframes(t,e,n,r,i,o,s,l,a,u)}class Kv{buildKeyframes(t,e,n,r,i,o,s,l,a,u=[]){a=a||new zv;const c=new Yv(t,e,a,r,i,u,[]);c.options=l,c.currentTimeline.setStyles([o],null,c.errors,l),Ov(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,l)}return h.length?h.map(t=>t.buildKeyframes()):[Bv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?hv(n.duration):null,o=null!=n.delay?hv(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ov(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qv);const t=hv(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Ov(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?hv(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),Ov(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return pv(e.params?Ev(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?hv(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qv);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(l=s.currentTimeline),Ov(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":l=s-l;break;case"full":l=n.currentStaggerTime}const a=e.currentTimeline;l&&a.delayNextStep(l);const u=a.currentTime;Ov(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Qv={};class Yv{constructor(t,e,n,r,i,o,s,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Jv(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=hv(n.duration)),null!=n.delay&&(r.delay=hv(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ev(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Yv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Qv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Xv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Hv,"."+this._enterClassName)).replace(Wv,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}}class Jv{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Jv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):gv(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Ev(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=gv(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Tv(t.values()):[],o=e.size?Tv(e.values()):[];if(n){const t=r[0],e=fv(t);t.offset=0,e.offset=1,r=[t,e]}return Bv(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Xv extends Jv{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,l=gv(t[0],!1);l.offset=0,i.push(l);const a=gv(t[0],!1);a.offset=$v(s),i.push(a);const u=t.length-1;for(let r=1;r<=u;r++){let s=gv(t[r],!1);s.offset=$v((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return Bv(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function $v(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Zv{}class t_ extends Zv{normalizePropertyName(t,e){return Iv(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(e_[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}const e_=function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function n_(t,e,n,r,i,o,s,l,a,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:l,queriedElements:a,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const r_={};class i_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,l,a,u){const c=[],h=this.ast.options&&this.ast.options.params||r_,d=this.buildStyles(n,s&&s.params||r_,c),p=l&&l.params||r_,f=this.buildStyles(r,p,c),g=new Set,m=new Map,y=new Map,v="void"===r,_={params:Object.assign({},h,p)},b=u?[]:Gv(t,e,this.ast.animation,i,o,d,f,_,a,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return n_(e,this._triggerName,n,r,v,d,f,[],[],m,y,w,c);b.forEach(t=>{const n=t.element,r=Jy(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Jy(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=Tv(g.values());return n_(e,this._triggerName,n,r,v,d,f,b,C,m,y,w)}}class o_{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=fv(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Ev(o,r,e)),n[t]=o})}}),n}}class s_{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new o_(t.style,t.options&&t.options.params||{})}),l_(this.states,"true","1"),l_(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new i_(t,e,this.states))}),this.fallbackTransition=new i_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function l_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const a_=new zv;class u_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Lv(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Gy(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Gv(this._driver,e,i,"ng-enter","ng-leave",{},{},n,a_,r),o.forEach(t=>{const e=Jy(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: ".concat(r.join("\n")));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const l=Wy(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}listen(t,e,n,r){const i=Yy(e,"","","");return Ky(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const c_=[],h_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},d_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class p_{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=fv(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const f_=new p_("void");class g_{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,C_(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var i;const o=Jy(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const l=Jy(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(C_(t,"ng-trigger"),C_(t,"ng-trigger-"+e),l[e]=f_),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new y_(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(C_(t,"ng-trigger"),C_(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let l=s[e];const a=new p_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&a.absorbOptions(l.options),s[e]=a,l||(l=f_),"void"!==a.value&&l.value===a.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(l.params,a.params)){const e=[],n=i.matchStyles(l.value,l.params,e),r=i.matchStyles(a.value,a.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{_v(t,n),vv(t,r)})}return}const u=Jy(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(l.value,a.value,t,a.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:l,toState:a,player:o,isFallbackTransition:h}),h||(C_(t,"ng-animate-queued"),o.onStart(()=>{E_(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,".ng-trigger",!0).forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Wy(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||f_,s=new p_("void"),l=new y_(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){C_(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Yy(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ky(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class m_{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new g_(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(v_(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!v_(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),C_(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),E_(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(v_(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return v_(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Wy(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=h_,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)C_(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Wy(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}_flushAnimations(t,e){const n=new zv,r=[],i=new Map,o=[],s=new Map,l=new Map,a=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=w_(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>C_(t,n))});const g=[],m=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,_=w_(h,Array.from(m));_.forEach((t,e)=>{const n="ng-leave"+f++;v.set(e,n),t.forEach(t=>C_(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>E_(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>E_(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,u);if(!f.errors||!f.errors.length)return u?(e.onStart(()=>_v(i,f.fromStyles)),e.onDestroy(()=>vv(i,f.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>_v(i,f.fromStyles)),e.onDestroy(()=>vv(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>Jy(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=l.get(e);t||l.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=a.get(e);r||a.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(e=>t.push("- ".concat(e,"\n")))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Jy(C,e,[]).push(t),t.destroy()})});const T=g.filter(t=>S_(t,l,a)),S=new Map;b_(S,this.driver,y,a,"*").forEach(t=>{S_(t,l,a)&&T.push(t)});const I=new Map;d.forEach((t,e)=>{b_(I,this.driver,new Set(t),l,"!")}),T.forEach(t=>{const e=S.get(t),n=I.get(t);S.set(t,Object.assign({},e,n))});const k=[],x=[],O={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>vv(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=O;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,I,S);if(o.setRealPlayer(n),t===O)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Wy(e)),r.push(o)}}else _v(e,s.fromStyles),o.onDestroy(()=>vv(e,s.toStyles)),x.push(o),u.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Wy(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<g.length;P++){const t=g[P],e=t.__ng_removed;if(E_(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?T_(this,t,r):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,l=t!==r,a=Jy(n,t,[]);this._getPreviousPlayers(t,l,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})}_v(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,l=e.element,a=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new By(e.duration,e.delay);const p=h!==l,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof zy?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||c_).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),y=Gy(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&c.add(h),p){const e=new y_(t,s,h);e.setRealPlayer(v),a.push(e)}return v});a.forEach(t=>{Jy(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>C_(t,"ng-animating"));const d=Wy(h);return d.onDestroy(()=>{u.forEach(t=>E_(t,"ng-animating")),vv(l,e.toStyles)}),c.forEach(t=>{Jy(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new By(t.duration,t.delay)}}class y_{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new By,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ky(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Jy(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function v_(t){return t&&1===t.nodeType}function __(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function b_(t,e,n,r,i){const o=[];n.forEach(t=>o.push(__(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=d_,s.push(r))}),t.set(r,o)});let l=0;return n.forEach(t=>__(t,o[l++])),s}function w_(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function C_(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function E_(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function T_(t,e,n){Wy(n).onDone(()=>t.processLeaveNode(e))}function S_(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class I_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new m_(t,e,n),this._timelineEngine=new u_(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Lv(this._driver,i,t);if(t.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(t.join("\n - ")));s=function(t,e){return new s_(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Xy(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Xy(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function k_(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=O_(e[0]),e.length>1&&(r=O_(e[e.length-1]))):e&&(n=O_(e)),n||r?new x_(t,n,r):null}let x_=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&vv(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vv(this._element,this._initialStyles),this._endStyles&&(vv(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(_v(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_v(this._element,this._endStyles),this._endStyles=null),vv(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function O_(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];P_(i)&&(e=e||{},e[i]=t[i])}return e}function P_(t){return"display"===t||"position"===t}class A_{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=F_(t,"").trim();n.length&&(function(t,e){for(let n=0;n<t.length;n++)","===t.charAt(n)&&0}(n),e="".concat(n,", ").concat(e)),L_(t,"",e)}(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),M_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){N_(this._element,this._name,"paused")}resume(){N_(this._element,this._name,"running")}setPosition(t){const e=R_(this._element,this._name);this._position=t*this._duration,L_(this._element,"Delay","-".concat(this._position,"ms"),e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),M_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=F_(t,"").split(","),r=D_(n,e);r>=0&&(n.splice(r,1),L_(t,"",n.join(",")))}(this._element,this._name))}}function N_(t,e,n){L_(t,"PlayState",n,R_(t,e))}function R_(t,e){const n=F_(t,"");return n.indexOf(",")>0?D_(n.split(","),e):D_([n],e)}function D_(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function M_(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function L_(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function F_(t,e){return t.style["animation"+e]}class U_{constructor(t,e,n,r,i,o,s,l){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new A_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Pv(this.element,n))})}this.currentSnapshot=t}}class V_ extends By{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=av(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class j_{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return iv(t)}matchesElement(t,e){return ov(t,e)}containsElement(t,e){return sv(t,e)}query(t,e,n){return lv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>av(t));let r="@keyframes ".concat(e," {\n"),i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const l=o.filter(t=>t instanceof U_),a={};kv(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=xv(t,e,a));if(0==n)return new V_(t,u);const c="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=k_(t,e),p=new U_(t,e,c,n,r,i,u,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class q_{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Pv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class B_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(z_().toString()),this._cssKeyframesDriver=new j_}validateStyleProperty(t){return iv(t)}matchesElement(t,e){return ov(t,e)}containsElement(t,e){return sv(t,e)}query(t,e,n){return lv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const l={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(l.easing=i);const a={},u=o.filter(t=>t instanceof q_);kv(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const c=k_(t,e=xv(t,e=e.map(t=>gv(t,!1)),a));return new q_(t,e,l,c)}}function z_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class H_ extends Uy{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Vt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Vy(t):t;return K_(this._renderer,null,e,"register",[n]),new W_(e,this._renderer)}}class W_ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new G_(this._id,t,e||{},this._renderer)}}class G_{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}_command(t,...e){return K_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function K_(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}class Q_{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Y_("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new J_(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Y_{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class J_ extends Y_{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class X_ extends I_{constructor(t,e,n){super(t.body,e,n)}}function $_(){return"function"==typeof z_()?new B_:new j_}function Z_(){return new t_}function tb(t,e,n){return new Q_(t,e,n)}const eb=new St("AnimationModuleType");class nb{}function rb(t){return null==t}function ib(t){return"function"==typeof t.set}function ob(t,e){return ib(e)?e:t.ref(e)}function sb(t,e){if("string"==typeof t)return e.stringCase();if(ib(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: ".concat(typeof t))}function lb(t,e,n="on",r=Sd){return new w(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"==n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"==n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(q(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),ot())}class ab{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ub(t,this.compare,this.keySelector))}}class ub extends g{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function cb(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function hb(t,e){const{payload:n,prevKey:r,key:i}=e,o=cb(t,i),s=function(t,e){if(rb(e))return 0;{const n=cb(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!=r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function db(t){return(rb(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function pb(t,e,n){return function(t,e,n){return lb(t,"value","once",n).pipe(aa(r=>{const i=[kl(r)];return e.forEach(e=>i.push(lb(t,e,"on",n))),X(...i).pipe(ha(hb,[]))}),t=>t.lift(new ab(void 0,void 0)))}(t,e=db(e),n)}function fb(t,e,n){return X(...(e=db(e)).map(e=>lb(t,e,"on",n)))}class gb{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new mb(t,this.observables,this.project))}}class mb extends j{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(V(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class yb{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new vb(t,this.predicate))}}class vb extends g{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function _b(t,e){return function(n,r){return sb(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function bb(t,e){return function(){return lb(t,"value","on",e)}}let wb=class{constructor(t,e,n,r,i){this.schedulers=new qd(i),this.keepUnstableUntilFirst=Bd(this.schedulers,r),this.database=i.runOutsideAngular(()=>$d(t,i,e).database(n||void 0))}list(t,e){const n=ob(this.database,t);let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular;return{query:t,update:_b(t.ref,"update"),set:_b(t.ref,"set"),push:e=>t.ref.push(e),remove:(r=t.ref,function(t){return t?sb(t,{stringCase:()=>r.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):r.remove()}),snapshotChanges:r=>pb(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>fb(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return lb(t,"value","on",e).pipe(q(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new gb(t,n))}}(e),q(([t,e])=>{let n=t.lastKeyToLoad;const r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new yb(r))),q(t=>t.actions));var r}(t,fb(t,e).pipe(ha((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:r=>pb(t,r,n).pipe(e.keepUnstableUntilFirst,q(t=>t.map(t=>t.payload.val())))};var r}(r,this)}object(t){const e=ob(this.database,t);return r=this,{query:n=e,snapshotChanges:()=>bb(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>bb(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,q(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.database.ref().push().key}};n("NSPt");let Cb=class{};var Eb;n("6Joi");let Tb=Eb=class{static enablePersistence(t){return{ngModule:Eb,providers:[{provide:cp,useValue:!0},{provide:hp,useValue:t}]}}};var Sb=n("wj3C"),Ib=n.n(Sb);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)l.b(this.a[t]);this.a=null}};var l=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?l.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--l&&t(s)}}var s=[],l=0;do{s.push(void 0),l++,o(r.value).Oa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,l=/^[\w+/_-]+[=]{0,2}$/,a=null;function u(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==c(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function f(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++m)}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=I+t,this.message=e||k[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new E(e.substring(I.length),t.message,t.serverResponse):null}C(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var S,I="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},x={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in x)if(x[e].id===t)return{firebaseEndpoint:(t=x[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");A.call(this,n+t[r])}function R(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}S=O("__EID__")?"__EID__":void 0,C(A,Error),A.prototype.name="CustomError",C(N,A),N.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new D((function(){return new V}),(function(t){t.reset()}));function U(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var l=o[s];e.call(void 0,l,s,t)&&(r[i++]=l)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=j(t,e)}function G(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},$=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var at=lt.userAgent;if(at){J=at;break t}}J=""}function ut(t){return ot(J,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(l){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(l){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===_t&&e||"",this.b=vt}function yt(t){return t instanceof mt&&t.constructor===mt&&t.b===vt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ra=!0,mt.prototype.qa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt={},_t={},bt=new mt(_t,"");function wt(t,e){this.a=t===kt&&e||"",this.b=It}function Ct(t){return t instanceof wt&&t.constructor===wt&&t.b===It?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+c(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=yt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?yt(t):encodeURIComponent(String(t))})),new wt(kt,t)}wt.prototype.ra=!0,wt.prototype.qa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={},kt={};function xt(t,e){this.a=t===Rt&&e||"",this.b=Nt}function Ot(t){return t instanceof xt&&t.constructor===xt&&t.b===Nt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+c(t)),"type_error:SafeUrl")}xt.prototype.ra=!0,xt.prototype.qa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function At(t){return t instanceof xt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new xt(Rt,t))}var Nt={},Rt={};function Dt(){this.a="",this.b=Lt}function Mt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Lt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+c(t)),"type_error:SafeHtml")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function Ft(t){var e=new Dt;return e.a=t,e}Ft("<!DOCTYPE html>");var Ut=Ft("");function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace($,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}Ft("<br>"),qt[" "]=u;var Bt,zt,Ht=ut("Opera"),Wt=ut("Trident")||ut("MSIE"),Gt=ut("Edge"),Kt=Gt||Wt,Qt=ut("Gecko")&&!(ot(J.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Yt=ot(J.toLowerCase(),"webkit")&&!ut("Edge");function Jt(){var t=s.document;return t?t.documentMode:void 0}t:{var Xt="",$t=(zt=J,Qt?/rv:([^\);]+)(\)|;)/.exec(zt):Gt?/Edge\/([\d\.]+)/.exec(zt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Yt?/WebKit\/(\S+)/.exec(zt):Ht?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if($t&&(Xt=$t?$t[1]:""),Wt){var Zt=Jt();if(null!=Zt&&Zt>parseFloat(Xt)){Bt=String(Zt);break t}}Bt=Xt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=X(String(Bt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",l=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==s[0].length&&0==l[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==l[1].length?0:parseInt(l[1],10))||st(0==s[2].length,0==l[2].length)||st(s[2],l[2]),s=s[3],l=l[3]}while(0==e)}return 0<=e}))}te=s.document&&Wt?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var re=!Wt||9<=Number(te);function ie(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var se,le,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||p(o)&&0<o.nodeType?r(o):q(he(o)?Y(o):o,r)}}function ce(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function he(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function de(t){s.setTimeout((function(){throw t}),0)}function pe(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(me)}}else le=function(){var t=me;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ut("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(se||(se=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ce(document,"IFRAME");t.style.display="none",function(t){var e=new wt(kt,yt(bt));gt(t,"HTMLIFrameElement"),t.src=Ct(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Mt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),se(t)):s.setImmediate(t)}}(),fe||(le(),fe=!0),ge.add(t,e)}var fe=!1,ge=new L;function me(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){de(e)}M(F,t)}fe=!1}function ye(t,e){if(this.a=ve,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=u)try{var n=this;t.call(e,(function(t){Pe(n,_e,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Pe(n,be,t)}))}catch(r){Pe(this,be,r)}}var ve=0,_e=2,be=3;function we(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}we.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new D((function(){return new we}),(function(t){t.reset()}));function Ee(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof ye)return t;var e=new ye(u);return Pe(e,_e,t),e}function Se(t){return new ye((function(e,n){n(t)}))}function Ie(t,e,n){Ae(t,e,n,null)||pe(b(e,t))}function ke(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ie(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function xe(t,e){t.b||t.a!=_e&&t.a!=be||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=Ee(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,xe(t,i),i.a}function Pe(t,e,n){t.a==ve&&(t===n&&(e=be,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ae(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=be||n instanceof Fe||function(t,e){t.g=!0,pe((function(){t.g&&Le.call(null,e)}))}(t,n)))}function Ae(t,e,n,r){if(t instanceof ye)return xe(t,Ee(e||u,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(l){o(l)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ne(t){t.h||(t.h=!0,pe(t.ec,t))}function Re(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function De(t,e,n,r){if(n==be&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(i){Le.call(null,i)}M(Ce,e)}function Me(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Oe(this,d(t)?t:null,d(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).ma=function(t,e){return(t=Ee(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==ve){var e=new Fe(t);pe((function(){!function t(e,n){if(e.a==ve)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,l=r.b;l&&(l.c||(i++,l.a==e&&(o=l),!(o&&1<i)));l=l.next)o||(s=l);o&&(r.a==ve&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Re(r),De(r,o,be,n)))}e.c=null}else Pe(e,be,n)}(this,e)}),this)}},t.Yc=function(t){this.a=ve,Pe(this,_e,t)},t.Zc=function(t){this.a=ve,Pe(this,be,t)},t.ec=function(){for(var t;t=Re(this);)De(this,t,this.a,this.i);this.h=!1};var Le=de;function Fe(t){A.call(this,t)}function Ue(){0!=Ve&&(je[f(this)]=this),this.wa=this.wa,this.na=this.na}C(Fe,A),Fe.prototype.name="cancel";var Ve=0,je={};function qe(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ve)){var e=f(t);if(0!=Ve&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete je[e]}}Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Be=Object.freeze||function(t){return t},ze=!Wt||9<=Number(te),He=Wt&&!ne("9"),We=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",u,e),s.removeEventListener("test",u,e)}catch(n){}return t}();function Ge(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Ke,Ge);var Qe=Be({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ke.prototype.f=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Xe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Je,this.ua=this.Na=!1}function $e(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&($e(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=en(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Xe(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?vn(t,e,n,p(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,l=fn(t);if(l||(t[nn]=l=new Ze(t)),!(n=l.add(e,n,r,s,o)).proxy)if(r=function(){var t=pn,e=ze?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?_n(t,e,n,p(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=mn(n),t&&t[Ye]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=en(o=t.a[e],n,r,i))&&($e(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=fn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&un(n))}function un(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ye])tn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):$e(t)}}}function cn(t){return t in rn?rn[t]:rn[t]="on"+t}function hn(t,e,n,r){var i=!0;if((t=fn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&un(t),n.call(r,e)}function pn(t,e){if(t.ua)return!0;if(!ze){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ke(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(l){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=hn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=hn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new Ke(e,this))}function fn(t){return(t=t[nn])instanceof Ze?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function yn(){Ue.call(this),this.u=new Ze(this),this.Yb=this,this.eb=null}function vn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function bn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var l=s.listener,a=s.Ta||s.src;s.Na&&tn(t.u,s),i=!1!==l.call(a,r)&&i}}return i&&!r.defaultPrevented}function wn(t,e,n){if(d(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Cn(t){var e=null;return new ye((function(n,r){-1==(e=wn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(yn,Ue),yn.prototype[Ye]=!0,yn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){an(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ge(t,n);else if(t instanceof Ge)t.target=t.target||n;else{var i=t;ft(t=new Ge(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=bn(s,r,!0,t)&&i}if(i=bn(s=t.b=n,r,!0,t)&&i,i=bn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=bn(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Ba=function(){if(yn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$e(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=Sn.prototype).V=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof On?(this.h=void 0!==e?e:t.h,Pn(this,t.f),this.i=t.i,this.b=t.b,An(this,t.l),this.c=t.c,Nn(this,Xn(t.a)),this.g=t.g):t&&(n=String(t).match(xn))?(this.h=!!e,Pn(this,n[1]||"",!0),this.i=Fn(n[2]||""),this.b=Fn(n[3]||"",!0),An(this,n[4]),this.c=Fn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.g=Fn(n[7]||"")):(this.h=!!e,this.a=new Wn(null,this.h))}function Pn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function An(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Nn(t,e,n){e instanceof Wn?(t.a=e,function(t,e){e&&!t.f&&(Gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Un(e,zn)),t.a=new Wn(e,t.h))}function Rn(t,e,n){t.a.set(e,n)}function Dn(t,e){return t.a.get(e)}function Mn(t){return t instanceof On?new On(t):new On(t,void 0)}function Ln(t,e){var n=new On(null,void 0);return Pn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,jn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Un(e,jn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Bn:qn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Un(n,Hn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.f;n?Pn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)An(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var l=i[s++];"."==l?r&&s==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Nn(e,Xn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var jn=/[#\/\?@]/g,qn=/[#\?:]/g,Bn=/[#\?]/g,zn=/[#\?@]/g,Hn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Qn(t,e){Gn(t),e=$n(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Yn(t,e){return Gn(t),e=$n(t,e),kn(t.a.b,e)}function Jn(t,e,n){Qn(t,e),0<n.length&&(t.c=null,t.a.set($n(t,e),Y(n)),t.b+=n.length)}function Xn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function $n(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),rr(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":rr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new tr,t,e),e.join("")}function tr(){}(t=Wn.prototype).add=function(t,e){Gn(this),this.c=null,t=$n(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Gn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Gn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Gn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=Q(e,this.a.get($n(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Gn(this),this.c=null,Yn(this,t=$n(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var er={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},nr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rr(t,e){e.push('"',t.replace(nr,(function(t){var e=er[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),er[t]=e),e})),'"')}function ir(){var t=Cr();return Wt&&!!te&&11==te||/Edge\/\d+/.test(t)}function or(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function sr(t,e){e=e||s.window;var n="about:blank";t&&(n=Ot(At(t))),e.location.href=n}function lr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ar(t){t=t||s.window;try{t.close()}catch(e){}}function ur(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(Cr())==vr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xt?n:At(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(s=ce(document,"A"),"HTMLAnchorElement"),e instanceof xt||e instanceof xt||(e="object"==typeof e&&e.ra?e.qa():String(e),Pt.test(e)||(e="about:invalid#zClosurez"),e=new xt(Rt,e)),s.href=Ot(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Ot(e),s&&(Kt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Ft('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">'),r=s.document)&&(r.write(Mt(t)),r.close())):(s=r.open(Ot(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(l){}return s}var cr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hr=/^[^@]+@[^@]+$/;function dr(){var t=null;return new ye((function(e){"complete"==s.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw an(window,"load",t),e}))}function pr(t){return t=t||Cr(),!("file:"!==kr()&&"ionic:"!==kr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function gr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function mr(){return Ib.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ib.a.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function yr(){var t=mr();return"ReactNative"===t||"Node"===t}var vr="Firefox";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?vr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var br={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function wr(t,e){e=e||[];var n,r=[],i={};for(n in br)i[br[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=mr())?r=_r(i=Cr()):"Worker"===r&&(r=_r(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return s.navigator&&s.navigator.userAgent||""}function Er(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Tr(){try{var t=s.localStorage,e=Nr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ir()||!!s.indexedDB}catch(n){return gr()&&!!s.indexedDB}return!1}function Sr(){return(Ir()||"chrome-extension:"===kr()||pr())&&!yr()&&Tr()&&!gr()}function Ir(){return"http:"===kr()||"https:"===kr()}function kr(){return s.location&&s.location.protocol||null}function xr(t){return!lr(t=t||Cr())&&_r(t)!=vr}function Or(t){return void 0===t?null:Zn(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Ar(t){if(null!==t)return JSON.parse(t)}function Nr(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=_r(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Dr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Mr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=mr(),this.b=lr(t)||"ReactNative"===e}function Lr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Fr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!Er("fireauth.oauthhelper",s)&&!Er("fireauth.iframe",s))}Mr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Ir()&&"chrome-extension:"!==kr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Vr,jr={};function qr(t){jr[t]||(jr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Br={};Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:2}),Vr=2==Br.abcd}catch(zt){Vr=!1}function zr(t,e,n){Vr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Hr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function Wr(t){var e={};return Hr(e,t),e}function Gr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Gr(t[n]));return e}function Kr(t){var e=t&&(t[$r]?"phone":null);if(!(e&&t&&t[Xr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[Xr]),zr(this,"displayName",t[Yr]||null);var n=null;t[Jr]&&(n=new Date(t[Jr]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Qr(t){try{var e=new Zr(t)}catch(n){e=null}return e}Kr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Yr="displayName",Jr="enrolledAt",Xr="mfaEnrollmentId",$r="phoneInfo";function Zr(t){Kr.call(this,t),zr(this,"phoneNumber",t[$r])}function ti(t){var e={},n=t[ii],r=t[si],i=t[li];if(t=Qr(t[oi]),!i||i!=ni&&i!=ri&&!n||i==ri&&!r||i==ei&&!t)throw Error("Invalid checkActionCode response!");i==ri?(e[ui]=n||null,e[hi]=n||null,e[ai]=r):(e[ui]=r||null,e[hi]=r||null,e[ai]=n||null),e[ci]=t||null,zr(this,pi,i),zr(this,di,Gr(e))}C(Zr,Kr),Zr.prototype.v=function(){var t=Zr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ei="REVERT_SECOND_FACTOR_ADDITION",ni="EMAIL_SIGNIN",ri="VERIFY_AND_CHANGE_EMAIL",ii="email",oi="mfaInfo",si="newEmail",li="requestType",ai="email",ui="fromEmail",ci="multiFactorInfo",hi="previousEmail",di="data",pi="operation";function fi(t){var e=Dn(t=Mn(t),gi)||null,n=Dn(t,mi)||null,r=Dn(t,_i)||null;if(r=r&&wi[r]||null,!e||!n||!r)throw new E("argument-error",gi+", "+mi+"and "+_i+" are required in a valid action code URL.");Hr(this,{apiKey:e,operation:r,code:n,continueUrl:Dn(t,yi)||null,languageCode:Dn(t,vi)||null,tenantId:Dn(t,bi)||null})}var gi="apiKey",mi="oobCode",yi="continueUrl",vi="languageCode",_i="mode",bi="tenantId",wi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ei,signIn:ni,verifyAndChangeEmail:ri,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new fi(t)}catch(e){return null}}function Ei(t){var e=t[xi];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ti];if(n&&"object"==typeof n){e=n[Ai];var r=n[Oi];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Oi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Ai+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(e=t[ki])&&"object"==typeof e){if("string"==typeof(e=e[Ni])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ni+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",ki+" property must be a non null object when specified.");if(void 0!==(e=t[Ii])&&"boolean"!=typeof e)throw new E("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Si])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Si+" property must be a non empty string when specified.");this.i=t||null}var Ti="android",Si="dynamicLinkDomain",Ii="handleCodeInApp",ki="iOS",xi="url",Oi="installApp",Pi="minimumVersion",Ai="packageName",Ni="bundleId";function Ri(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Di=null;function Mi(t){var e=Fi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,w(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Li(t){try{return new Mi(t)}catch(e){return null}}function Fi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Di[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Di){Di={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Di[o]&&(Di[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),l=n(64);if(64===l&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=l&&e(s<<6&192|l))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Mi.prototype.S=function(){return this.f},Mi.prototype.i=function(){return this.b},Mi.prototype.toString=function(){return this.g};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],ji={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Ui},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function qi(t){for(var e in ji)if(ji[e].ea==t)return ji[e];return null}function Bi(t){var e={};e["facebook.com"]=Ki,e["google.com"]=Yi,e["github.com"]=Qi,e["twitter.com"]=Ji;var n=t&&t[Hi];try{if(n)return e[n]?new e[n](t):new Gi(t);if(void 0!==t[zi])return new Wi(t)}catch(r){}return null}var zi="idToken",Hi="providerId";function Wi(t){var e=t[Hi];if(!e&&t[zi]){var n=Li(t[zi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Gi(t){Wi.call(this,t),zr(this,"profile",Gr((t=Ar(t.rawUserInfo||"{}"))||{}))}function Ki(t){if(Gi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(t){if(Gi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function Yi(t){if(Gi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Gi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function Xi(t){var e=Mn(t),n=Dn(e,"link"),r=Dn(Mn(n),"link");return e=Dn(e,"deep_link_id"),Dn(Mn(e),"link")||e||r||n||t}function $i(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Zi:to}C(Gi,Wi),C(Ki,Gi),C(Qi,Gi),C(Yi,Gi),C(Ji,Gi);var Zi="enroll",to="signin";function eo(){}function no(t,e){return t.then((function(t){if(t[Bs]){var n=Li(t[Bs]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==I+"user-not-found"?new E("user-mismatch"):t}))}function ro(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function io(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(e){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ao(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(n){}}return null}function uo(t,e){this.Oc=e||[],Hr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(qi(t)||{}).Ha||null,this.kb=null}function co(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,t,[])}function ho(t){uo.call(this,t,Vi),this.a=[]}function po(){ho.call(this,"facebook.com")}function fo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function go(){ho.call(this,"github.com")}function mo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function yo(){ho.call(this,"google.com"),this.Aa("profile")}function vo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function _o(){uo.call(this,"twitter.com",Ui)}function bo(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function wo(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new wo(t.email,t.password,t.signInMethod):null}function Eo(){Hr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=So(e)))throw new E("argument-error","Invalid email link!");return new wo(t,e.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function So(t){return(t=Ci(t=Xi(t)))&&t.operation===ni?t:null}function Io(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,zr(this,"providerId","phone"),this.ea="phone",zr(this,"signInMethod","phone")}function ko(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Io(e)}return null}function xo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Oo(t){try{this.a=t||Ib.a.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Hr(this,{providerId:"phone",isOAuthProvider:!1})}function Po(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Io({bb:t,ab:e})}function Ao(t){if(t.temporaryProof&&t.phoneNumber)return new Io({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return vo(o,n);case"facebook.com":return fo(n);case"github.com":return mo(n);case"twitter.com":return bo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ro(e,s):new so(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(l){return null}}function No(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Ro(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Do(t){return(t=t||{}).type?new Ro(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Mo(){this.b=null,this.a=[]}$i.prototype.Fa=function(){return Te(this.a?this.a:this.b)},$i.prototype.v=function(){return this.type==Zi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},ro.prototype.ia=function(t){return ll(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,al(t,n)},ro.prototype.c=function(t,e){return no(ul(t,io(this)),e)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ia=function(t){return ll(t,lo(this))},so.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,al(t,n)},so.prototype.c=function(t,e){return no(ul(t,lo(this)),e)},so.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},uo.prototype.Ia=function(t){return this.Fb=dt(t),this},C(co,uo),C(ho,uo),ho.prototype.Aa=function(t){return W(this.a,t)||this.a.push(t),this},ho.prototype.Nb=function(){return Y(this.a)},ho.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},C(po,ho),zr(po,"PROVIDER_ID","facebook.com"),zr(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(go,ho),zr(go,"PROVIDER_ID","github.com"),zr(go,"GITHUB_SIGN_IN_METHOD","github.com"),C(yo,ho),zr(yo,"PROVIDER_ID","google.com"),zr(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),C(_o,uo),zr(_o,"PROVIDER_ID","twitter.com"),zr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),wo.prototype.ia=function(t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Hl(t,yl,{email:this.a,oobCode:this.f}):Hl(t,Vl,{email:this.a,password:this.f})},wo.prototype.b=function(t,e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Hl(t,vl,{idToken:e,email:this.a,oobCode:this.f}):Hl(t,Al,{idToken:e,email:this.a,password:this.f})},wo.prototype.c=function(t,e){return no(this.ia(t),e)},wo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Hr(Eo,{PROVIDER_ID:"password"}),Hr(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Hr(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ia=function(t){return t.cb(xo(this))},Io.prototype.b=function(t,e){var n=xo(this);return n.idToken=e,Hl(t,ql,n)},Io.prototype.c=function(t,e){var n=xo(this);return n.operation="REAUTH",no(t=Hl(t,Bl,n),e)},Io.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Oo.prototype.cb=function(t,e){var n=this.a.b;return Te(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==Zi?i.Fa().then((function(t){return function(t,e){return Hl(t,Rl,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==to?i.Fa().then((function(e){return function(t,e){return Hl(t,Dl,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Hl(t,Ol,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Hr(Oo,{PROVIDER_ID:"phone"}),Hr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Ro.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ro.prototype.S=function(){return this.h},Ro.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Lo,Fo=null;function Uo(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Vo(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&zr(this,"email",t.Gb),t.da&&zr(this,"phoneNumber",t.da),t.credential&&zr(this,"credential",t.credential),t.Wb&&zr(this,"tenantId",t.Wb)}function jo(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:Ao(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function qo(){}function Bo(){}function zo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ho(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.oc,this),this.a.onerror=_(this.Pb,this),this.a.onprogress=_(this.pc,this),this.a.ontimeout=_(this.tc,this)}function Go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ko(t,e,n){this.reset(t,e,n,void 0,void 0)}function Qo(t){this.f=t,this.b=this.c=this.a=null}function Yo(t,e){this.name=t,this.value=e}C(Uo,E),C(Vo,E),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&ft(t,e),t},Vo.prototype.toJSON=function(){return this.v()},qo.prototype.c=null,C(Bo,qo),Bo.prototype.a=function(){var t=zo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bo.prototype.b=function(){var t={};return zo(this)&&(t[0]=!0,t[1]=!0),t},Lo=new Bo,C(Ho,qo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(t=Wo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Go(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Go(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null,Ko.prototype.reset=function(t,e,n,r,i){r||w(),delete this.a},Yo.prototype.toString=function(){return this.name};var Jo=new Yo("SEVERE",1e3),Xo=new Yo("WARNING",900),$o=new Yo("CONFIG",700),Zo=new Yo("FINE",500);Qo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new Ko(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ts={},es=null;function ns(t){var e;if(es||(es=new Qo(""),ts[""]=es,es.c=$o),!(e=ts[t])){e=new Qo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ns(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ts[t]=e}return e}function rs(t,e){t&&t.log(Zo,e,void 0)}function is(t){this.f=t}function os(t){yn.call(this),this.s=t,this.readyState=ss,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ns("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}C(is,qo),is.prototype.a=function(){return new os(this.f)},is.prototype.b=function(t){return function(){return t}}({}),C(os,yn);var ss=0;function ls(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function as(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,us(t)}function us(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function cs(t){yn.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=hs,this.w=this.R=!1}(t=os.prototype).open=function(t,e){if(this.readyState!=ss)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,us(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,as(this,!1)),this.readyState=ss},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,us(this)),this.a&&(this.readyState=3,us(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ls(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?as(this,!0):us(this),3==this.readyState&&ls(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,as(this,!0))},t.qc=function(t){this.a&&(this.response=t,as(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Xo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&as(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},C(cs,yn);var hs="";cs.prototype.b=ns("goog.net.XhrIo");var ds=/^https?$/i,ps=["POST","PUT"];function fs(t){return"content-type"==t.toLowerCase()}function gs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ms(t),vs(t)}function ms(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ys(t){if(t.c&&void 0!==o)if(t.B[1]&&4==bs(t)&&2==ws(t))rs(t.b,Cs(t,"Local request error detected and ignored"));else if(t.i&&4==bs(t))wn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==bs(t)){rs(t.b,Cs(t,"Request complete")),t.c=!1;try{var e,n=ws(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var l=String(t.l).match(xn)[1]||null;if(!l&&s.self&&s.self.location){var a=s.self.location.protocol;l=a.substr(0,a.length-1)}i=!ds.test(l?l.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<bs(t)?t.a.statusText:""}catch(c){rs(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+ws(t)+"]",ms(t)}}finally{vs(t)}}}function vs(t,e){if(t.a){_s(t);var n=t.a,r=t.B[0]?u:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Jo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function _s(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function bs(t){return t.a?t.a.readyState:0}function ws(t){try{return 2<bs(t)?t.a.status:-1}catch(e){return-1}}function Cs(t,e){return e+" ["+t.P+" "+t.l+" "+ws(t)+"]"}function Es(t){var e=Ds;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ts(t,e,n){t.a=!0,t.c=n,t.f=!e,xs(t)}function Ss(t){if(t.a){if(!t.u)throw new Os(t);t.u=!1}}function Is(t,e,n,r){t.g.push([e,n,r]),t.a&&xs(t)}function ks(t){return H(t.g,(function(t){return d(t[1])}))}function xs(t){if(t.h&&t.a&&ks(t)){var e=t.h,n=Ns[e];n&&(s.clearTimeout(n.a),delete Ns[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],l=i[1];if(i=i[2],o=t.f?l:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(P(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,ks(t)||(n=!0)}}t.c=e,r&&(a=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Es?(Is(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new As(e),Ns[e.a]=e,t.h=e.a)}function Os(){A.call(this)}function Ps(){A.call(this)}function As(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=cs.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",rs(this.b,Cs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(rs(this.b,Cs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vs(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),vs(this,!0)),cs.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?ys(this):this.Hc())},t.Hc=function(){ys(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case hs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return rs(this.b,"Can not get response: "+e.message),null}},Es.prototype.cancel=function(t){if(this.a)this.c instanceof Es&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ps(this),Ss(this),Ts(this,!1,t))}},Es.prototype.m=function(t,e){this.i=!1,Ts(this,t,e)},Es.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Is(this,r,(function(t){t instanceof Ps?o.cancel():i(t)})),o.then(t,e,n)},Es.prototype.$goog_Thenable=!0,C(Os,A),Os.prototype.message="Deferred has already fired",Os.prototype.name="AlreadyCalledError",C(Ps,A),Ps.prototype.message="Deferred was canceled",Ps.prototype.name="CanceledError",As.prototype.c=function(){throw delete Ns[this.a],this.b};var Ns={};function Rs(t){var e={},n=e.document||document,r=Ct(t).toString(),i=ce(document,"SCRIPT"),o={Tb:i,Ka:void 0},u=new Es(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout((function(){Ms(i,!0);var t=new Us(Fs,"Timeout reached for loading script "+r);Ss(u),Ts(u,!1,t)}),h),o.Ka=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ms(i,e.ud||!1,c),Ss(u),Ts(u,!0,null))},i.onerror=function(){Ms(i,!0,c);var t=new Us(Ls,"Error while loading script "+r);Ss(u),Ts(u,!1,t)},ft(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=Ct(e),null===a&&(a=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=a)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),u}function Ds(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ms(t,!0,this.Ka)}}function Ms(t,e,n){null!=n&&s.clearTimeout(n),t.onload=u,t.onerror=u,t.onreadystatechange=u,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ls=0,Fs=1;function Us(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function Vs(t){this.f=t}function js(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||zs,this.g=dt(t.secureTokenHeaders||Hs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Ws,this.a=dt(t.firebaseHeaders||Gs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==mr(),!(n=s.XMLHttpRequest||n&&Ib.a.INTERNAL.node&&Ib.a.INTERNAL.node.XMLHttpRequest)&&!gr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=gr()?new is(self):yr()?new Vs(n):new Ho,this.b=null}C(Us,A),C(Vs,qo),Vs.prototype.a=function(){return new this.f},Vs.prototype.b=function(){return{}};var qs,Bs="idToken",zs=new Mr(3e4,6e4),Hs={"Content-Type":"application/x-www-form-urlencoded"},Ws=new Mr(3e4,6e4),Gs={"Content-Type":"application/json"};function Ks(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ys(t,e,n,r,i,o,l){(function(){var t=Cr();return!((t="Chrome"!=_r(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&te&&!(9<te))})()||gr()?t=_(t.w,t):(qs||(qs=new ye((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[Xs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Is(t,null,e,void 0)}(Rs(Et(Js,{onload:Xs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,l)}js.prototype.S=function(){return this.b},js.prototype.w=function(t,e,n,r,i,o){if(gr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new cs(this.f);if(o){l.g=Math.max(0,o);var a=setTimeout((function(){l.dispatchEvent("timeout")}),o)}vn(l,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return rs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),_n(l,"ready",(function(){a&&clearTimeout(a),qe(this)})),_n(l,"timeout",(function(){a&&clearTimeout(a),qe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Lo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Lo),t.a.onreadystatechange=_(t.Sb,t);try{rs(t.b,Cs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(l){return rs(t.b,Cs(t,"Error opening Xhr: "+l.message)),void gs(t,l)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)q(t,e,void 0);else for(var n=Tn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=fs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=s.FormData&&e instanceof s.FormData,!W(ps,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_s(t),0<t.g&&(t.w=function(t){return Wt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),rs(t.b,Cs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ka,t)):t.s=wn(t.Ka,t.g,t)),rs(t.b,Cs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(l){rs(t.b,Cs(t,"Send error: "+l.message)),gs(t,l)}}(l,t,n,r,i)};var Js=new mt(_t,"https://apis.google.com/js/client.js?onload=%{onload}"),Xs="__fcb"+Math.floor(1e6*Math.random()).toString();function $s(t){if("string"!=typeof(t=t.email)||!hr.test(t))throw new E("invalid-email")}function Zs(t){"email"in t&&$s(t)}function tl(t){if(!t[Bs]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,dt(t));throw new E("internal-error")}}function el(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}js.prototype.s=function(t,e,n,r,i){var o=this;qs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},js.prototype.vb=function(){return Hl(this,Nl,{})},js.prototype.xb=function(t,e){return Hl(this,Pl,{idToken:t,email:e})},js.prototype.yb=function(t,e){return Hl(this,Al,{idToken:t,password:e})};var nl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function rl(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function il(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ol(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Yn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function sl(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=jo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=jo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=jo(t)):t.errorMessage&&(e=Wl(t.errorMessage)),e)throw e;tl(t)}function ll(t,e){return e.returnIdpCredential=!0,Hl(t,Ml,e)}function al(t,e){return e.returnIdpCredential=!0,Hl(t,Fl,e)}function ul(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Hl(t,Ll,e)}function cl(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=js.prototype).zb=function(t,e){var n={idToken:t},r=[];return ct(nl,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Hl(this,Pl,n)},t.rb=function(t,e){return ft(t={requestType:"PASSWORD_RESET",email:t},e),Hl(this,Sl,t)},t.sb=function(t,e){return ft(t={requestType:"EMAIL_SIGNIN",email:t},e),Hl(this,Cl,t)},t.qb=function(t,e){return ft(t={requestType:"VERIFY_EMAIL",idToken:t},e),Hl(this,El,t)},t.Ab=function(t,e,n){return ft(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Hl(this,Tl,t)},t.cb=function(t){return Hl(this,jl,t)},t.jb=function(t,e){return Hl(this,xl,{oobCode:t,newPassword:e})},t.Pa=function(t){return Hl(this,dl,{oobCode:t})},t.fb=function(t){return Hl(this,hl,{oobCode:t})};var hl={endpoint:"setAccountInfo",A:cl,Y:"email",C:!0},dl={endpoint:"resetPassword",A:cl,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},pl={endpoint:"signupNewUser",A:function(t){if($s(t),!t.password)throw new E("weak-password")},G:tl,U:!0,C:!0},fl={endpoint:"createAuthUri",C:!0},gl={endpoint:"deleteAccount",M:["idToken"]},ml={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=c(t.deleteProvider))throw new E("internal-error")}},yl={endpoint:"emailLinkSignin",M:["email","oobCode"],A:$s,G:tl,U:!0,C:!0},vl={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:$s,G:tl,U:!0},_l={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:rl,G:tl,C:!0,La:!0},bl={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:rl,G:tl,C:!0,La:!0},wl={endpoint:"getAccountInfo"},Cl={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");$s(t)},Y:"email",C:!0},El={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Tl={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Sl={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");$s(t)},Y:"email",C:!0},Il={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},kl={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},xl={endpoint:"resetPassword",A:cl,Y:"email",C:!0},Ol={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Pl={endpoint:"setAccountInfo",M:["idToken"],A:Zs,U:!0},Al={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Zs(t),!t.password)throw new E("weak-password")},G:tl,U:!0},Nl={endpoint:"signupNewUser",G:tl,U:!0,C:!0},Rl={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Dl={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Ml={endpoint:"verifyAssertion",A:il,Wa:ol,G:sl,U:!0,C:!0},Ll={endpoint:"verifyAssertion",A:il,Wa:ol,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Wl(t.errorMessage);tl(t)},U:!0,C:!0},Fl={endpoint:"verifyAssertion",A:function(t){if(il(t),!t.idToken)throw new E("internal-error")},Wa:ol,G:sl,U:!0},Ul={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:tl,U:!0,C:!0},Vl={endpoint:"verifyPassword",A:function(t){if($s(t),!t.password)throw new E("wrong-password")},G:tl,U:!0,C:!0},jl={endpoint:"verifyPhoneNumber",A:el,G:tl,C:!0},ql={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");el(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",jo(t);tl(t)}},Bl={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:el,G:tl,C:!0},zl={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Bs]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Hl(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Se(new E("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Te(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var l=Mn(e+n);Rn(l,"key",t.c),s&&Rn(l,"cb",w().toString());var a="GET"==r;if(a)for(var u in i)i.hasOwnProperty(u)&&Rn(l,u,i[u]);return new ye((function(e,n){Ys(t,l.toString(),(function(t){t?t.error?n(Gl(t,o||{})):e(t):n(new E("network-request-failed"))}),r,a?void 0:Zn(Pr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new E("internal-error");return r[e.Y]}))}function Wl(t){return Gl({error:{errors:[{message:t}],code:400,message:t}})}function Gl(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ft(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Or(t)),new E("internal-error",e)}function Kl(t){this.b=t,this.a=null,this.nb=function(t){return(Xl||(Xl=new ye((function(t,e){function n(){Dr(),Er("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Dr(),e(Error("Network Error"))},timeout:Yl.get()})}if(Er("gapi.iframes.Iframe"))t();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Er("gapi.load")?n():e(Error("Network Error"))},Te(Rs(r=Et(Ql,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Xl=null,t})))).then((function(){return new ye((function(e,n){Er("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Jl.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ql=new mt(_t,"https://apis.google.com/js/api.js?onload=%{onload}"),Yl=new Mr(3e4,6e4),Jl=new Mr(5e3,15e3),Xl=null;function $l(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ln(this.i,"/__/auth/iframe"),Rn(this.a,"apiKey",this.g),Rn(this.a,"appName",this.h),this.b=null,this.c=[]}function Zl(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ta(t){try{return Ib.a.app(t).auth().Ea()}catch(e){return[]}}function ea(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function na(t){var e=or();return function(t){return Hl(t,Il,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,l=r;if(0==o.indexOf("chrome-extension://")?s=Mn(o).b==s&&"chrome-extension"==l:"http"!=l&&"https"!=l?s=!1:cr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Uo(or())}))}function ra(t){return t.l?t.l:(t.l=dr().then((function(){if(!t.s){var e=t.c,n=t.h,r=ta(t.b),i=new $l(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Y(r||[]),t.s=i.toString()}t.i=new Kl(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Do(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)}))}(t)})),t.l)}function ia(t){return t.m||(t.w=t.c?wr(t.c,ta(t.b)):null,t.m=new js(t.f,O(t.h),t.w)),t.m}function oa(t,e,n,r,i,o,s,l,a,u,c){return(t=new Zl(t,e,n,r,i)).l=o,t.g=s,t.i=l,t.b=dt(a||null),t.f=u,t.ub(c).toString()}function sa(t){if(this.a=t||Ib.a.INTERNAL.reactNative&&Ib.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function la(t){this.b=t,this.a={},this.f=_(this.c,this)}$l.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Qn(this.a.a,"v"),this.b?Rn(this.a,"eid",this.b):Qn(this.a.a,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Qn(this.a.a,"fw"),this.a.toString()},Zl.prototype.ub=function(t){return this.h=t,this},Zl.prototype.toString=function(){var t=Ln(this.s,"/__/auth/handler");if(Rn(t,"apiKey",this.m),Rn(t,"appName",this.c),Rn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Ib.a.app(this.c).auth().ja()}catch(l){n=null}for(var r in e.kb=n,Rn(t,"providerId",this.a.providerId),n=Pr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=dt(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ht(n)||Rn(t,"customParameters",Or(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&Rn(t,"scopes",e.join(",")),this.l?Rn(t,"redirectUrl",this.l):Qn(t.a,"redirectUrl"),this.g?Rn(t,"eventId",this.g):Qn(t.a,"eventId"),this.i?Rn(t,"v",this.i):Qn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Dn(t,s)&&Rn(t,s,this.b[s]);return this.h?Rn(t,"tid",this.h):Qn(t.a,"tid"),this.f?Rn(t,"eid",this.f):Qn(t.a,"eid"),(s=ta(this.c)).length&&Rn(t,"fw",s.join(",")),t.toString()},(t=ea.prototype).Lb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return ra(t).then((function(){return function(t,e){return t.nb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ar(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ye((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Cn(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Cr();return!xr(t)&&!Rr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,l){if(!t)return Se(new E("popup-blocked"));if(s&&!xr())return this.ka().o((function(e){ar(t),i(e)})),r(),Te();this.a||(this.a=na(ia(this)));var a=this;return this.a.then((function(){var e=a.ka().o((function(e){throw ar(t),i(e),e}));return r(),e})).then((function(){No(n),s||sr(oa(a.u,a.f,a.b,e,n,null,o,a.c,void 0,a.h,l),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=na(ia(this)));var i=this;return this.a.then((function(){No(e),sr(oa(i.u,i.f,i.b,t,e,or(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return ra(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){K(this.g,(function(e){return e==t}))},(t=sa.prototype).get=function(t){return Te(this.a.getItem(t)).then((function(t){return t&&Ar(t)}))},t.set=function(t,e){return Te(this.a.setItem(t,Or(e)))},t.T=function(t){return Te(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var aa,ua=[];function ca(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ha(t){this.a=t}function da(t){this.c=t,this.b=!1,this.a=[]}function pa(t,e,n,r){var i,o,s,l,a=n||{},u=null;if(t.b)return Se(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),l=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(l),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(l),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:a},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return fa(t,u),e})).o((function(e){throw fa(t,u),e}))}function fa(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),K(t.a,(function(t){return t==e}))}}function ga(){if(!ya())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;gr()&&self?(this.l=function(){var t=gr()?self:null;if(q(ua,(function(n){n.b==t&&(e=n)})),!e){var e=new la(t);ua.push(e)}return e}(),ca(this.l,"keyChanged",(function(e,n){return Ca(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),ca(this.l,"ping",(function(){return Te(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Te().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Te(null)}().then((function(e){(t.h=e)&&(t.g=new da(new ha(e)),pa(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ma(t){return t.m||(t.m=function t(e){return new ye((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ye((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.m}function ya(){try{return!!s.indexedDB}catch(zt){return!1}}function va(t){return t.objectStore("firebaseLocalStorage")}function _a(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ba(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function wa(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?pa(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Te()}function Ca(t){return ma(t).then((function(t){var e=va(_a(t,!1));return e.getAll?ba(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Ea(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ta(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then((function(){if(ya()){var t=Nr(),r="__sak"+t;return aa||(aa=new ga),(n=aa).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Sa(){this.a={},this.type="inMemory"}function Ia(){if(!function(){var t="Node"==mr();if(!(t=ka()||t&&Ib.a.INTERNAL.node&&Ib.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==mr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=ka()||Ib.a.INTERNAL.node.localStorage,this.type="localStorage"}function ka(){try{var t=s.localStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function xa(){this.type="nullStorage"}function Oa(){if(!function(){var t="Node"==mr();if(!(t=Pa()||t&&Ib.a.INTERNAL.node&&Ib.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==mr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Pa()||Ib.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Pa(){try{var t=s.sessionStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Aa(){var t={};t.Browser=Da,t.Node=Ma,t.ReactNative=La,t.Worker=Fa,this.a=t[mr()]}la.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Te().then((function(){return e(t.origin,t.data.data)})))})),ke(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ha.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},da.prototype.close=function(){for(;0<this.a.length;)fa(this,this.a[0]);this.b=!0},(t=ga.prototype).set=function(t,e){var n,r=!1,i=this;return ma(this).then((function(e){return ba((e=va(_a(n=e,!0))).get(t))})).then((function(o){var s=va(_a(n,!0));return o?(o.value=e,ba(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,ba(s.add(o)))})).then((function(){return i.c[t]=e,wa(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return ma(this).then((function(e){return ba(va(_a(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return ma(this).then((function(r){return e=!0,n.b++,ba(va(_a(r,!0)).delete(t))})).then((function(){return delete n.c[t],wa(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Ea(t),function e(){t.f=setTimeout((function(){t.i=Ca(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&Ea(this)},(t=Ta.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t}))},(t=Sa.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.T=function(t){return delete this.a[t],Te()},t.ba=function(){},t.ha=function(){},(t=Ia.prototype).get=function(t){var e=this;return Te().then((function(){return Ar(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Or(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ba=function(t){s.window&&on(s.window,"storage",t)},t.ha=function(t){s.window&&an(s.window,"storage",t)},(t=xa.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.T=function(){return Te()},t.ba=function(){},t.ha=function(){},(t=Oa.prototype).get=function(t){var e=this;return Te().then((function(){return Ar(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Or(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Na,Ra,Da={F:Ia,$a:Oa},Ma={F:Ia,$a:Oa},La={F:sa,$a:xa},Fa={F:Ia,$a:xa},Ua={od:"local",NONE:"none",qd:"session"};function Va(){var t=!(Rr(Cr())||!fr()),e=xr(),n=Tr();this.m=t,this.h=e,this.l=n,this.a={},Na||(Na=new Aa),t=Na;try{this.g=!ir()&&Ur()||!s.indexedDB?new t.a.F:new Ta(gr()?new Sa:new t.a.F)}catch(r){this.g=new Sa,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Sa}this.u=new Sa,this.f=_(this.Vb,this),this.b={}}function ja(){return Ra||(Ra=new Va),Ra}function qa(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Ba(t,e){return"firebase:"+t.name+(e?":"+e:"")}function za(t,e,n){return n=Ba(e,n),"local"==e.F&&(t.b[n]=null),qa(t,e.F).T(n)}function Ha(t){t.c&&(clearInterval(t.c),t.c=null)}function Wa(t){this.a=t,this.b=ja()}(t=Va.prototype).get=function(t,e){return qa(this,t.F).get(Ba(t,e))},t.set=function(t,e,n){var r=Ba(t,n),i=this,o=qa(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Ba(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(qa(this,"local").ba(this.f),this.h||(ir()||!Ur())&&s.indexedDB||!this.l||function(t){Ha(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ba(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(qa(this,"local").ha(this.f),Ha(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?qa(this,"local").ha(this.f):Ha(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.ib(e))},Wt&&te&&10==te&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,_(this.ib,this))},t.ib=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var Ga,Ka={name:"authEvent",F:"local"};function Qa(){this.a=ja()}function Ya(t,e){this.b=Ja,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Ga&&(Ga=s.Int32Array?new Int32Array(ru):ru),this.reset()}C(Ya,(function(){this.b=-1}));for(var Ja=64,Xa=Ja-1,$a=[],Za=0;Za<Xa;Za++)$a[Za]=0;var tu=Q(128,$a);function eu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var l=0|t.a[2],a=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&l^i&l)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&c^~u&h)+(0|Ga[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=a+s|0,a=l,l=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+l|0,t.a[3]=t.a[3]+a|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function nu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(eu(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(eu(t),i=0)}}t.c=i,t.g+=n}Ya.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Y(this.h)};var ru=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function iu(){Ya.call(this,8,ou)}C(iu,Ya);var ou=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function su(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Qa,this.g=new Wa(this.h),this.f=null,this.b=[],this.a=this.c=null}function lu(t){return new E("invalid-cordova-configuration",t)}function au(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function uu(t){return t.f||(t.f=t.ka().then((function(){return new ye((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),cu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Xi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ar(Dn(o=Mn(i),"firebaseError")||null))?T(o):null)?new Ro(r.c,r.b,null,null,o,null,r.S()):new Ro(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}au(t,i)}))}var n=new Ro("unknown",null,null,null,new E("no-auth-event")),r=!1,i=Cn(500).then((function(){return cu(t).then((function(){r||au(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Er("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Fo||(Fo=new Mo),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Er("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function cu(t){var e=null;return function(t){return t.b.get(Ka,t.a).then((function(t){return Do(t)}))}(t.g).then((function(n){return e=n,za((n=t.g).b,Ka,n.a)})).then((function(){return e}))}function hu(t){this.a=t,this.b=ja()}(t=su.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(pr(void 0)?dr().then((function(){return new ye((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Se(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",s))throw lu("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",s))throw lu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",s))throw lu("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",s))throw lu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Te()},t.Jb=function(){return Se(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Se(new E("redirect-operation-pending"));var i=this,o=s.document,l=null,a=null,u=null,c=null;return this.c=Te().then((function(){return No(e),uu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),l=new Ro(e,r,null,o,new E("no-auth-event"),null,i),a=Er("BuildInfo.packageName",s);if("string"!=typeof a)throw new E("invalid-cordova-configuration");var u=Er("BuildInfo.displayName",s),c={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Cr().toLowerCase().match(/android/))return Se(new E("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=function(t){var e=new iu;nu(e,t),t=[];var n=8*e.g;nu(e,tu,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(eu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=oa(t.u,t.i,t.l,e,n,null,r,t.m,c,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Ka,l.v(),e)})).then((function(){var e=Er("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");e=Cr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){a=function(){var e=Er("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),c=function(){Lr()&&u()},o.addEventListener("resume",u=function(){l||(l=Cn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return cu(i).then((function(){throw t}))}))})).ma((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),l&&l.cancel(),a&&i.Qa(a),i.c=null}))},t.Ca=function(t){this.b.push(t),uu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ro("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Qa=function(t){K(this.b,(function(e){return e==t}))};var du={name:"pendingRedirect",F:"session"};function pu(t){return za(t.b,du,t.a)}function fu(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new xu,this.B=new Ru,this.g=new hu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=gu(this.D,this.u,this.m,S)}function gu(t,e,n,r){var i=Ib.a.SDK_VERSION||null;return pr()?new su(t,e,n,i,r):new ea(t,e,n,i,r)}function mu(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function yu(t){t.a.Ub()&&mu(t).o((function(e){var n=new Ro("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Eu(e)&&t.s(n)})),t.a.Qb()||Ou(t.b)}function vu(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(du,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?pu(t.g).then((function(){mu(t).o((function(e){var n=new Ro("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Eu(e)&&t.s(n)}))})):yu(t)})).o((function(){yu(t)}))}function _u(t,e){K(t.h,(function(t){return t==e}))}fu.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=gu(this.D,this.u,this.m),this.i={}},fu.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Ou(this.b),e};var bu=new Mr(2e3,1e4),wu=new Mr(3e4,6e4);function Cu(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Eu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Tu(t,e,n,r,i){var o;return function(t){return t.b.set(du,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Eu(e))throw new E("operation-not-supported-in-this-environment");return o=e,pu(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ye((function(){})):pu(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Su(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),bu.get())}fu.prototype.pa=function(){return this.b.pa()};var Iu={};function ku(t,e,n){var r=e+":"+n;return Iu[r]||(Iu[r]=new fu(t,e,n)),Iu[r]}function xu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ou(t){t.g||(t.g=!0,Nu(t,!1,null,null))}function Pu(t){t.g&&!t.i&&Nu(t,!1,null,null)}function Au(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Nu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Se(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Au(t,n):Au(t,{user:null}),t.f=[],t.c=[]}function Ru(){}function Du(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Mu(t,e){this.a=e,zr(this,"verificationId",t)}function Lu(t,e,n,r){return new Oo(t).cb(e,n).then((function(t){return new Mu(t,r)}))}function Fu(t){var e=Fi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Hr(this,{token:t,expirationTime:Fr(1e3*e.exp),authTime:Fr(1e3*e.auth_time),issuedAtTime:Fr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Uu(t,e,n){var r=e&&e[ju];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new $i(null,r),this.b=[];var i=this;q(e[Vu]||[],(function(t){(t=Qr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}xu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},xu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Nu(this,!0,null,t.a),Te()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),l=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Nu(t,l,e,null)})).o((function(e){Nu(t,l,null,e)}))}(this,t,e):Se(new E("invalid-auth-event")):(Nu(this,!1,null,null),Te())}else Se(new E("invalid-auth-event"))},xu.prototype.pa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=Cn(wu.get()).then((function(){t.b||(t.g=!0,Nu(t,!0,null,e))}))}(t))}))},Ru.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Te()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Se(new E("invalid-auth-event"))}else Se(new E("invalid-auth-event"))},Mu.prototype.confirm=function(t){return t=Po(this.verificationId,t),this.a(t)};var Vu="mfaInfo",ju="mfaPendingCredential";function qu(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Uu(t,e,n),zr(this,"resolver",this.b)}function Bu(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new qu(e,t.serverResponse,n,t.message)}catch(r){}return null}function zu(){}function Hu(t){zr(this,"factorId",t.ea),this.a=t}function Wu(t){if(Hu.call(this,t),this.a.ea!=Oo.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Gu(t,e){for(var n in Ge.call(this,t),e)this[n]=e[n]}function Ku(t,e){this.a=t,this.b=[],this.c=_(this.wc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Xr]=t.uid),t.displayName&&(r[Yr]=t.displayName),t.enrollmentTime&&(r[Jr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[$r]=t.phoneNumber);try{e=new Zr(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Qu(this,n)}function Qu(t,e){t.b=e,zr(t,"enrolledFactors",e)}function Yu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ju(t){this.c=t,this.b=this.a=null}function Xu(t){return t.b&&1e3*t.b.c||0}function $u(t,e){var n=e.refreshToken;t.b=Li(e[Bs]||""),t.a=n}function Zu(t,e){this.a=t||null,this.b=e||null,Hr(this,{lastSignInTime:Fr(e||null),creationTime:Fr(t||null)})}function tc(t,e,n,r,i,o){Hr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ec(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Ib.a.SDK_VERSION?wr(Ib.a.SDK_VERSION):null,this.a=new js(this.l,O(S),t),this.b=new Ju(this.a),ac(this,e[Bs]),$u(this.b,e),zr(this,"refreshToken",this.b.a),hc(this,n||{}),yn.call(this),this.P=!1,this.s&&Sr()&&(this.i=ku(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Yu((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Xu(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.Z=_(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){rc(r,t.c)},this.$=null,this.O=new Ku(this,n),zr(this,"multiFactor",this.O)}function nc(t,e){t.aa&&an(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&on(e,"languageCodeChanged",t.za)}function rc(t,e){t.W=e,Qs(t.a,Ib.a.SDK_VERSION?wr(Ib.a.SDK_VERSION,t.W):null)}function ic(t,e){t.$&&an(t.$,"frameworkChanged",t.ya),(t.$=e)&&on(e,"frameworkChanged",t.ya)}function oc(t){try{return Ib.a.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function sc(t){t.D||t.B.b||(t.B.start(),an(t,"tokenChanged",t.Z),on(t,"tokenChanged",t.Z))}function lc(t){an(t,"tokenChanged",t.Z),t.B.stop()}function ac(t,e){t.xa=e,zr(t,"_lat",e)}function uc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return ke(e).then((function(){return t}))}function cc(t){t.i&&!t.P&&(t.P=!0,vu(t.i,t))}function hc(t,e){Hr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Zu(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function dc(){}function pc(t){return Te().then((function(){if(t.D)throw new E("app-deleted")}))}function fc(t){return z(t.providerData,(function(t){return t.providerId}))}function gc(t,e){e&&(mc(t,e.providerId),t.providerData.push(e))}function mc(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function yc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function vc(t,e){t!=e&&(Hr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),zr(t,"metadata",e.metadata?function(t){return new Zu(t.a,t.b)}(e.metadata):new Zu),q(e.providerData,(function(e){gc(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),zr(t,"refreshToken",t.b.a),Qu(t.O,e.O.b))}function _c(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Hl(t.a,wl,{idToken:e}).then(_(t.Ic,t))}(t,e).then((function(){return n||yc(t,"isAnonymous",!1),e}))}))}function bc(t,e){e[Bs]&&t.xa!=e[Bs]&&($u(t.b,e),t.dispatchEvent(new Gu("tokenChanged")),ac(t,e[Bs]),yc(t,"refreshToken",t.b.a))}function wc(t,e){return _c(t).then((function(){if(W(fc(t),e))return uc(t).then((function(){throw new E("provider-already-linked")}))}))}function Cc(t,e,n){return Wr({user:t,credential:Ao(e),additionalUserInfo:e=Bi(e),operationType:n})}function Ec(t,e){return bc(t,e),t.reload().then((function(){return t}))}function Tc(t,e,n,r,i){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=qi(n.providerId),s=Nr(t.uid+":::"),l=null;(!xr()||fr())&&t.s&&n.isOAuthProvider&&(l=oa(t.s,t.l,t.m,e,n,null,s,Ib.a.SDK_VERSION||null,null,null,t.tenantId));var a=ur(l,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Ic(t),!i)return t.I().then((function(){}))})).then((function(){return Cu(t.i,a,e,n,s,!!l,t.tenantId)})).then((function(){return new ye((function(n,r){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Su(t.i,t,e,a,s)}))})).then((function(t){return a&&ar(a),t?Wr(t):null})).o((function(t){throw a&&ar(a),t})),kc(t,r,i)}function Sc(t,e,n,r,i){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=null,s=Nr(t.uid+":::");return r=r().then((function(){if(Ic(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,uc(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Pc,t.v(),e.a)),e})).then((function(){return Tu(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Ac(t.ga);throw o})).then((function(){if(o)throw o})),kc(t,r,i)}function Ic(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function kc(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Se(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Gu("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){G(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Bu(e.v(),oc(t),_(t.hc,t))),n||e}))}function xc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Bs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ec(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&gc(r,Wr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Oc(t){this.a=t,this.b=ja()}Uu.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=dt(e.f);return delete n[Vu],delete n[ju],ft(n,t),e.g(n)}))},C(qu,E),zu.prototype.ob=function(t,e,n){return e.type==Zi?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ft(n,{phoneVerificationInfo:xo(t.a)}),Hl(e,_l,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return ft(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(t.a)}),Hl(e,bl,n)}))}(this,t,e)},C(Hu,zu),C(Wu,Hu),C(Gu,Ge),(t=Ku.prototype).wc=function(t){Qu(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Qr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new $i(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return bc(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Hl(r,zl,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return Qu(e,r),bc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.v()}))}}},Yu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Lr()||!t?Te():new ye((function(n){e=function(){Lr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Yu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ju.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Xu(this)}},Ju.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Se(new E("user-token-expired")):t||!this.b||w()>Xu(this)-3e4?this.a?function(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ys(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Gl(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Kn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=Li(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},Zu.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(ec,yn),ec.prototype.va=function(t){this.oa=t,Ks(this.a,t)},ec.prototype.ja=function(){return this.oa},ec.prototype.Ea=function(){return Y(this.W)},ec.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},zr(ec.prototype,"providerId","firebase"),(t=ec.prototype).reload=function(){var t=this;return kc(this,pc(this).then((function(){return _c(t).then((function(){return uc(t)})).then(dc)})))},t.mc=function(t){return this.I(t).then((function(t){return new Fu(t)}))},t.I=function(t){var e=this;return kc(this,pc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(ac(e,t.accessToken),e.dispatchEvent(new Gu("tokenChanged"))),yc(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");hc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new tc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)gc(this,e[n]);yc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Gu("userReloaded",{ed:t}))},t.Jc=function(t){return qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return kc(this,t.c(this.a,this.uid).then((function(t){return bc(e,t),n=Cc(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return kc(this,wc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Cc(e,t,"link"),Ec(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return kc(this,wc(this,"phone").then((function(){return Lu(oc(n),t,e,_(n.mb,n))})))},t.Kc=function(t,e){var n=this;return kc(this,Te().then((function(){return Lu(oc(n),t,e,_(n.pb,n))})),!0)},t.xb=function(t){var e=this;return kc(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return bc(e,t),e.reload()})))},t.cd=function(t){var e=this;return kc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return bc(e,t),e.reload()})))},t.yb=function(t){var e=this;return kc(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return bc(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return pc(this);var e=this;return kc(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return bc(e,t),yc(e,"displayName",t.displayName||null),yc(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),uc(e)})).then(dc))},t.ad=function(t){var e=this;return kc(this,_c(this).then((function(n){return W(fc(e),t)?function(t,e,n){return Hl(t,ml,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(fc(e),(function(t){n[t]||mc(e,t)})),n[Oo.PROVIDER_ID]||zr(e,"phoneNumber",null),uc(e)})):uc(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return kc(this,this.I().then((function(e){return Hl(t.a,gl,{idToken:e})})).then((function(){t.dispatchEvent(new Gu("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");nc(t,null),ic(t,null),t.N=[],t.D=!0,lc(t),zr(t,"refreshToken",null),t.i&&_u(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?_(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?_(this.Ib,this):null},t.Cc=function(t){var e=this;return Tc(this,"linkViaPopup",t,(function(){return wc(e,t.providerId).then((function(){return uc(e)}))}),!1)},t.Lc=function(t){return Tc(this,"reauthViaPopup",t,(function(){return Te()}),!0)},t.Dc=function(t){var e=this;return Sc(this,"linkViaRedirect",t,(function(){return wc(e,t.providerId)}),!1)},t.Mc=function(t){return Sc(this,"reauthViaRedirect",t,(function(){return Te()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return kc(this,this.I().then((function(n){return al(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Cc(i,t,"link"),Ec(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return kc(this,Te().then((function(){return no(ul(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Cc(i,t,"reauthenticate"),bc(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return kc(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Ri(new Ei(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return kc(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Ri(new Ei(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return kc(this,t=no(Te(t),n.uid).then((function(t){return e=Cc(n,t,"reauthenticate"),bc(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&ft(t,this.metadata.v()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),ft(t,this.O.v()),t};var Pc={name:"redirectUser",F:"session"};function Ac(t){return za(t.b,Pc,t.a)}function Nc(t){this.a=t,this.b=ja(),this.c=null,this.f=function(t){var e=Mc("local"),n=Mc("session"),r=Mc("none");return function(t,e,n){var r=Ba(e,n),i=qa(t,e.F);return t.get(e,n).then((function(o){var l=null;try{l=Ar(s.localStorage.getItem(r))}catch(a){}if(l&&!o)return s.localStorage.removeItem(r),t.set(e,l,n);l&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Dc,t.a).then((function(t){return t?Mc(t):e}))}))}))})).then((function(e){return t.c=e,Rc(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Mc("local"),this.a,_(this.g,this))}function Rc(t,e){var n,r=[];for(n in Ua)Ua[n]!==e&&r.push(za(t.b,Mc(Ua[n]),t.a));return r.push(za(t.b,Dc,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},l=0;l<t.length;l++)Ie(t[l],b(o,l),s);else e(i)}))}(r)}Nc.prototype.g=function(){var t=this,e=Mc("local");Vc(this,(function(){return Te().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Rc(t,"local").then((function(){t.c=e}))}))}))};var Dc={name:"persistence",F:"session"};function Mc(t){return{name:"authUser",F:t}}function Lc(t,e){return Vc(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Fc(t){return Vc(t,(function(){return za(t.b,t.c,t.a)}))}function Uc(t,e){return Vc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),xc(t||{})}))}))}function Vc(t,e){return t.f=t.f.then(e,e),t.f}function jc(t){if(this.l=!1,zr(this,"settings",new Du),zr(this,"app",t),!Kc(this).options||!Kc(this).options.apiKey)throw new E("invalid-api-key");t=Ib.a.SDK_VERSION?wr(Ib.a.SDK_VERSION):null,this.b=new js(Kc(this).options&&Kc(this).options.apiKey,O(S),t),this.P=[],this.m=[],this.O=[],this.$b=Ib.a.INTERNAL.createSubscribe(_(this.xc,this)),this.W=void 0,this.ac=Ib.a.INTERNAL.createSubscribe(_(this.yc,this)),Wc(this,null),this.i=new Nc(Kc(this).options.apiKey+":"+Kc(this).name),this.B=new Oc(Kc(this).options.apiKey+":"+Kc(this).name),this.Z=Xc(this,function(t){var e=Kc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Pc,t.a).then((function(t){return t&&e&&(t.authDomain=e),xc(t||{})}))}(t.B,Kc(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Ac(t.B)}));return Xc(t,e)}(t).then((function(){return Uc(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Lc(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Fc(t.i)}))):null})).then((function(e){Wc(t,e||null)}));return Xc(t,n)}(this)),this.h=Xc(this,function(t){return t.Z.then((function(){return Hc(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Mc("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=_(this.Xc,this),this.Ma=_(this.ca,this),this.xa=_(this.jc,this),this.ya=_(this.uc,this),this.za=_(this.vc,this),this.a=null,function(t){var e=Kc(t).options.authDomain,n=Kc(t).options.apiKey;e&&Sr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=ku(e,n,Kc(t).name),vu(t.a,t),Qc(t)&&cc(Qc(t)),t.D){cc(t.D);var r=t.D;r.va(t.ja()),nc(r,t),rc(r=t.D,t.N),ic(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Ec,this),this.s=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function qc(t){Ge.call(this,"languageCodeChanged"),this.g=t}function Bc(t){Ge.call(this,"frameworkChanged"),this.c=t}function zc(t){return t.Zb||Se(new E("auth-domain-config-required"))}function Hc(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=zc(t).then((function(){return t.a.pa()})).then((function(t){return t?Wr(t):null}));return Xc(t,e)}function Wc(t,e){Qc(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}(Qc(t),t.Ma),an(Qc(t),"tokenChanged",t.xa),an(Qc(t),"userDeleted",t.ya),an(Qc(t),"userInvalidated",t.za),lc(Qc(t))),e&&(e.R.push(t.Ma),on(e,"tokenChanged",t.xa),on(e,"userDeleted",t.ya),on(e,"userInvalidated",t.za),0<t.s&&sc(e)),zr(t,"currentUser",e),e&&(e.va(t.ja()),nc(e,t),rc(e,t.N),ic(e,t))}function Gc(t,e){var n=null,r=null;return Xc(t,e.then((function(e){return n=Ao(e),r=Bi(e),function(t,e){var n={};return n.apiKey=Kc(t).options.apiKey,n.authDomain=Kc(t).options.authDomain,n.appName=Kc(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new ec(t,e);return n&&(i.ga=n),r&&rc(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return Qc(t)&&e.uid==Qc(t).uid?(vc(Qc(t),e),t.ca(e)):(Wc(t,e),cc(e),t.ca(e))})).then((function(){Jc(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Bu(e.v(),t,_(t.ic,t))),n||e})).then((function(){return Wr({user:Qc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Kc(t){return t.app}function Qc(t){return t.currentUser}function Yc(t){return Qc(t)&&Qc(t)._lat||null}function Jc(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Yc(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Yc(t))}}function Xc(t,e){return t.P.push(e),e.ma((function(){G(t.P,e)})),e}function $c(){}function Zc(){this.a={},this.b=1e12}Nc.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Ua)if(Ua[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(mr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Tr()&&"none"!==t)throw n}}(t),Vc(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Rc(n,t)})).then((function(){if(n.c=Mc(t),e)return n.b.set(n.c,e,n.a)})):Te()}))},C(jc,yn),C(qc,Ge),C(Bc,Ge),(t=jc.prototype).tb=function(t){return Xc(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ks(this.b,this.$),this.dispatchEvent(new qc(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Qs(this.b,Ib.a.SDK_VERSION?wr(Ib.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Bc(this.N))},t.Ea=function(){return Y(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Kc(this).options.apiKey,authDomain:Kc(this).options.authDomain,appName:Kc(this).name,currentUser:Qc(this)&&Qc(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Gc(i,ll(i.b,o))}))},t.Vc=function(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=this,n=qi(t.providerId),r=Nr(),i=null;(!xr()||fr())&&Kc(this).options.authDomain&&t.isOAuthProvider&&(i=oa(Kc(this).options.authDomain,Kc(this).options.apiKey,Kc(this).name,"signInViaPopup",t,null,r,Ib.a.SDK_VERSION||null,null,null,this.S()));var o=ur(i,n&&n.ta,n&&n.sa);return Xc(this,n=zc(this).then((function(n){return Cu(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ye((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Su(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ar(o),t?Wr(t):null})).o((function(t){throw o&&ar(o),t})))},t.Wc=function(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=this;return Xc(this,zc(this).then((function(){return function(t){return Vc(t,(function(){return t.b.set(Dc,t.c.F,t.a)}))}(e.i)})).then((function(){return Tu(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Hc(this).then((function(e){return t.a&&Pu(t.a.b),e})).o((function(e){throw t.a&&Pu(t.a.b),e}))},t.bd=function(t){if(!t)return Se(new E("null-user"));if(this.R!=t.tenantId)return Se(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=Kc(this).options.apiKey,n.authDomain=Kc(this).options.authDomain,n.appName=Kc(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Bs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ec(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&rc(e,r),vc(e,t),e}(t,n,e.B,e.Ea());return Xc(this,this.h.then((function(){if(Kc(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Qc(e)&&t.uid==Qc(e).uid?(vc(Qc(e),t),e.ca(t)):(Wc(e,r),cc(r),e.ca(r))})).then((function(){Jc(e)})))},t.wb=function(){var t=this;return Xc(this,this.h.then((function(){return t.a&&Pu(t.a.b),Qc(t)?(Wc(t,null),Fc(t.i).then((function(){Jc(t)}))):Te()})))},t.Xc=function(){var t=this;return Uc(this.i,Kc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Qc(t)&&e){n=Qc(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return vc(Qc(t),e),Qc(t).I();(Qc(t)||e)&&(Wc(t,e),e&&(cc(e),e.ga=t.B),t.a&&vu(t.a,t),Jc(t))}}))},t.ca=function(t){return Lc(this.i,t)},t.jc=function(){Jc(this),this.ca(Qc(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Gc(e,Te(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Qc(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Xc(t,t.h.then((function(){!t.l&&W(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Yc(t)))})))}(this,(function(){t.next(Qc(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){d(t)?t(Qc(r)):d(t.next)&&t.next(Qc(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),d(t)?t(Qc(r)):d(t.next)&&t.next(Qc(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Xc(this,this.h.then((function(){return Qc(e)?Qc(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Gc(e,Hl(e.b,Ul,{token:t}))})).then((function(t){var n=t.user;return yc(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Gc(n,Hl(n.b,Vl,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Gc(n,Hl(n.b,pl,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Gc(e,t.ia(e.b))}))},t.Qc=function(t){return qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Qc(t);if(e&&e.isAnonymous){var n=Wr({providerId:null,isNewUser:!1});return Wr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Gc(t,t.b.vb()).then((function(e){var n=e.user;return yc(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Qc(this)&&Qc(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Qc(this)&&sc(Qc(this))},t.Nc=function(t){var e=this;q(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Qc(this)&&lc(Qc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Xc(this,this.h.then((function(){e.l||W(e.m,t)&&t(Yc(e))})))},t.removeAuthTokenListener=function(t){K(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Mc("local"),t.a,this.oa),this.a&&(_u(this.a,this),Pu(this.a.b)),Promise.resolve()},t.fc=function(t){return Xc(this,function(t,e){return Hl(t,fl,{identifier:e,continueUri:Ir()?or():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!So(t)},t.sb=function(t,e){var n=this;return Xc(this,Te().then((function(){var t=new Ei(e);if(!t.c)throw new E("argument-error",Ii+" must be true when sending sign in link to email");return Ri(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Xc(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Xc(this,this.b.Pa(t).then((function(t){return new ti(t)})))},t.fb=function(t){return Xc(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Xc(this,Te().then((function(){return void 0===e||ht(e)?{}:Ri(new Ei(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Xc(this,Lu(this,t,e,_(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Xc(this,Te().then((function(){var r=e||or(),i=To(t,r);if(!(r=So(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(i)})))},$c.prototype.render=function(){},$c.prototype.reset=function(){},$c.prototype.getResponse=function(){},$c.prototype.execute=function(){};var th=null;function eh(t,e){return(e=nh(e))&&t.a[e]||null}function nh(t){return(t=void 0===t?1e12:t)?t.toString():null}function rh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ie(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function ih(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function oh(){}function sh(){}Zc.prototype.render=function(t,e){return this.a[this.b.toString()]=new rh(t,e),this.b++},Zc.prototype.reset=function(t){var e=eh(this,t);t=nh(t),e&&t&&(e.delete(),delete this.a[t])},Zc.prototype.getResponse=function(t){return(t=eh(this,t))?t.getResponse():null},Zc.prototype.execute=function(t){(t=eh(this,t))&&t.execute()},rh.prototype.getResponse=function(){return ih(this),this.b},rh.prototype.execute=function(){ih(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},rh.prototype.delete=function(){ih(this),this.g=!0,clearTimeout(this.a),this.a=null,an(this.f,"click",this.i)},zr(oh,"FACTOR_ID","phone"),sh.prototype.g=function(){return th||(th=new Zc),Te(th)},sh.prototype.c=function(){};var lh=null;function ah(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var uh=new mt(_t,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ch=new Mr(3e4,6e4);ah.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),ch.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[e.a]},Te(Rs(Et(uh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},ah.prototype.c=function(){this.b--};var hh=null;function dh(t,e,n,r,i,o,l){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,l?(lh||(lh=new sh),l=lh):(hh||(hh=new ah),l=hh),this.m=l,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[gh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[mh],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ie(e)||!this.i&&ie(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new js(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var u=this.a[ph];this.a[ph]=function(t){if(yh(a,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Er(u,s);"function"==typeof e&&e(t)}};var c=this.a[fh];this.a[fh]=function(){if(yh(a,null),"function"==typeof c)c();else if("string"==typeof c){var t=Er(c,s);"function"==typeof t&&t()}}}var ph="callback",fh="expired-callback",gh="sitekey",mh="size";function yh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function vh(t,e){return t.h.push(e),e.ma((function(){G(t.h,e)})),e}function _h(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function bh(t,e,n){var r=!1;try{this.b=n||Ib.a.app()}catch(s){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Ib.a.SDK_VERSION?wr(Ib.a.SDK_VERSION,o):null,dh.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,O(S),r)}function wh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Ch.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Ch[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=dh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=vh(this,Te().then((function(){if(Ir()&&!gr())return dr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Hl(t.s,kl,{})})).then((function(e){t.a[gh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){_h(this);var t=this;return vh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=ie(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!re&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',jt(s.name),'"'),s.type){o.push(' type="',jt(s.type),'"');var l={};ft(l,s),delete l.type,s=l}o.push(">"),o=o.join("")}return o=ce(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):oe(o,s)),2<r.length&&ue(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){_h(this);var t=this;return vh(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){_h(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){_h(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ie(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},C(bh,dh);var Ch="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Eh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Th(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Sh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Ih(t,e){return{name:t||"",J:"a function",optional:!!e,K:d}}function kh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function xh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Oh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&d(t.Fa)}function Ph(t){return p(t)&&"string"==typeof t.uid}function Ah(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!d(t.verify))}}}function Nh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Rh(t,e){for(var n in e){var r=e[n].name;t[r]=Lh(r,t[n],e[n].j)}}function Dh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){wh(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Mh(t,e,n,r){t[e]=Lh(e,n,r)}function Lh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return wh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Rh(jc.prototype,{fb:{name:"applyActionCode",j:[Eh("code")]},Pa:{name:"checkActionCode",j:[Eh("code")]},jb:{name:"confirmPasswordReset",j:[Eh("code"),Eh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Eh("email"),Eh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Eh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Eh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Nh(Sh(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Nh(Sh(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Eh("email"),Nh(Sh("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Eh("email"),Sh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Eh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[xh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[xh()]},Rc:{name:"signInWithCustomToken",j:[Eh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Eh("email"),Eh("password")]},Tc:{name:"signInWithEmailLink",j:[Eh("email"),Eh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Eh("phoneNumber"),Ah()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Nh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ec)}},kh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Eh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Eh("code")]}}),Dh(jc.prototype,{lc:{name:"languageCode",gb:Nh(Eh(),kh(),"languageCode")},ti:{name:"tenantId",gb:Nh(Eh(),kh(),"tenantId")}}),(jc.Persistence=Ua).LOCAL="local",jc.Persistence.SESSION="session",jc.Persistence.NONE="none",Rh(ec.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Th("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Th("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[xh()]},mb:{name:"linkWithCredential",j:[xh()]},Bc:{name:"linkWithPhoneNumber",j:[Eh("phoneNumber"),Ah()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[xh()]},pb:{name:"reauthenticateWithCredential",j:[xh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Eh("phoneNumber"),Ah()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Nh(Sh("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Eh(null,!0)]},ad:{name:"unlink",j:[Eh("provider")]},xb:{name:"updateEmail",j:[Eh("email")]},yb:{name:"updatePassword",j:[Eh("password")]},cd:{name:"updatePhoneNumber",j:[xh("phone")]},zb:{name:"updateProfile",j:[Sh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Eh("email"),Nh(Sh("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]}}),Rh(Zc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rh($c.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rh(ye.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Dh(Du.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Th("appVerificationDisabledForTesting")}}),Rh(Mu.prototype,{confirm:{name:"confirm",j:[Eh("verificationCode")]}}),Mh(eo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ao,Co,ko,oo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Nh(Eh(),Sh(),"json")]),Mh(Eo,"credential",(function(t,e){return new wo(t,e)}),[Eh("email"),Eh("password")]),Rh(wo.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(po.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Mh(po,"credential",fo,[Nh(Eh(),Sh(),"token")]),Mh(Eo,"credentialWithLink",To,[Eh("email"),Eh("emailLink")]),Rh(go.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Mh(go,"credential",mo,[Nh(Eh(),Sh(),"token")]),Rh(yo.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Mh(yo,"credential",vo,[Nh(Eh(),Nh(Sh(),kh()),"idToken"),Nh(Eh(),kh(),"accessToken",!0)]),Rh(_o.prototype,{Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Mh(_o,"credential",bo,[Nh(Eh(),Sh(),"token"),Eh("secret",!0)]),Rh(ho.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},credential:{name:"credential",j:[Nh(Eh(),Nh(Sh(),kh()),"optionsOrIdToken"),Nh(Eh(),kh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Rh(so.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(ro.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Mh(Oo,"credential",Po,[Eh("verificationId"),Eh("verificationCode")]),Rh(Oo.prototype,{cb:{name:"verifyPhoneNumber",j:[Nh(Eh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Oh(t.session,Zi)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Oh(t.session,to)&&Ph(t.multiFactorHint):t.session&&t.multiFactorUid?Oh(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Ah()]}}),Rh(Io.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(E.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(Vo.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(Uo.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(qu.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(Uu.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Rh(Ku.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Eh("displayName",!0)]},$c:{name:"unenroll",j:[Nh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ph},Eh(),"multiFactorInfoIdentifier")]}}),Rh(bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mh(fi,"parseLink",Ci,[Eh("link")]),Mh(oh,"assertion",(function(t){return new Wu(t)}),[xh("phone")]),function(){if(void 0===Ib.a||!Ib.a.INTERNAL||!Ib.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ni,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ei,VERIFY_AND_CHANGE_EMAIL:ri,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:jc,AuthCredential:eo,Error:E};Mh(t,"EmailAuthProvider",Eo,[]),Mh(t,"FacebookAuthProvider",po,[]),Mh(t,"GithubAuthProvider",go,[]),Mh(t,"GoogleAuthProvider",yo,[]),Mh(t,"TwitterAuthProvider",_o,[]),Mh(t,"OAuthProvider",ho,[Eh("providerId")]),Mh(t,"SAMLAuthProvider",co,[Eh("providerId")]),Mh(t,"PhoneAuthProvider",Oo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof jc)}}]),Mh(t,"RecaptchaVerifier",bh,[Nh(Eh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Sh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Ib.a.app.App)}}]),Mh(t,"ActionCodeURL",fi,[]),Mh(t,"PhoneMultiFactorGenerator",oh,[]),Ib.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new jc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Ib.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.kc,t),addAuthTokenListener:_(t.bc,t),removeAuthTokenListener:_(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ib.a.registerVersion("@firebase/auth","0.14.2"),Ib.a.INTERNAL.extendNamespace({User:ec})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let kb=class{};var xb=n("mrSG"),Ob=n("S+S0"),Pb=function(){function t(t,e){this.code_=Ab(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return Ab(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}();function Ab(t){return"storage/"+t}function Nb(){return new Pb("unknown","An unknown error occurred, please check the error payload for server response.")}function Rb(){return new Pb("canceled","User canceled the upload/download.")}function Db(){return new Pb("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mb(){return new Pb("no-download-url","The given file does not have any download URLs.")}function Lb(t,e,n){return new Pb("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function Fb(){return new Pb("app-deleted","The Firebase app was deleted.")}function Ub(t,e){return new Pb("invalid-format","String does not match format '"+t+"': "+e)}function Vb(t){throw new Pb("internal-error","Internal error: "+t)}var jb={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function qb(t){switch(t){case jb.RAW:case jb.BASE64:case jb.BASE64URL:case jb.DATA_URL:return;default:throw"Expected one of the event types: ["+jb.RAW+", "+jb.BASE64+", "+jb.BASE64URL+", "+jb.DATA_URL+"]."}}var Bb=function(t,e){this.data=t,this.contentType=e||null};function zb(t,e){switch(t){case jb.RAW:return new Bb(Hb(e));case jb.BASE64:case jb.BASE64URL:return new Bb(Wb(t,e));case jb.DATA_URL:return new Bb((n=new Gb(e)).base64?Wb(jb.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Ub(jb.DATA_URL,"Malformed data URL.")}return Hb(e)}(n.rest),new Gb(e).contentType)}var n;throw Nb()}function Hb(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Wb(t,e){switch(t){case jb.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Ub(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case jb.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Ub(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(u){throw Ub(t,"Invalid character found")}for(var l=new Uint8Array(s.length),a=0;a<s.length;a++)l[a]=s.charCodeAt(a);return l}var Gb=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Ub(jb.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},Kb={STATE_CHANGED:"state_changed"},Qb={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Yb(t){switch(t){case"running":case"pausing":case"canceling":return Qb.RUNNING;case"paused":return Qb.PAUSED;case"success":return Qb.SUCCESS;case"canceled":return Qb.CANCELED;case"error":default:return Qb.ERROR}}function Jb(t){return null!=t}function Xb(t){return void 0!==t}function $b(t){return"function"==typeof t}function Zb(t){return"object"==typeof t}function tw(t){return Zb(t)&&null!==t}function ew(t){return"string"==typeof t||t instanceof String}function nw(t){return rw(t)&&Number.isInteger(t)}function rw(t){return"number"==typeof t||t instanceof Number}function iw(t){return ow()&&t instanceof Blob}function ow(){return"undefined"!=typeof Blob}var sw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),lw=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=sw.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=sw.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=sw.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Vb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Jb(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return Jb(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Vb("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Vb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Vb("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Jb(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Jb(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),aw=function(){function t(){}return t.prototype.createXhrIo=function(){return new lw},t}();function uw(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=uw();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(ow())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var hw=function(){function t(t,e){var n=0,r="";iw(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(iw(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ow()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(cw.apply(null,r))}var i=e.map((function(t){return ew(t)?zb(jb.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),l=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[l++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),dw=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Pb("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],l=0;l<s.length;l++){var a=s[l],u=a.regex.exec(e);if(u){var c=u[a.indices.path];c||(c=""),n=new t(u[a.indices.bucket],c),a.postModify(n);break}}if(null==n)throw function(t){return new Pb("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function pw(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return Zb(n=e)&&!Array.isArray(n)?e:null}function fw(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function gw(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function mw(t){return"https://firebasestorage.googleapis.com/v0"+t}function yw(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function vw(t,e){return e}var _w=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||vw},bw=null;function ww(t,e,n){var r=pw(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new dw(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Cw(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function Ew(t){if(!Zb(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!Zb(n))throw"Expected object for 'customMetadata' mapping."}else if(tw(n))throw"Mapping for '"+e+"' cannot be an object."}}function Tw(t){if(!Zb(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!nw(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!ew(t.pageToken))throw"Expected pageToken to be string."}}var Sw=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Iw(t){if(!t)throw Nb()}function kw(t,e){return function(n,r){var i=ww(t,r,e);return Iw(null!==i),i}}function xw(t){return function(e,n){var r;return(r=401===e.getStatus()?new Pb("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Pb("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Pb("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function Ow(t){var e=xw(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Pb("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function Pw(t,e,n){var r=mw(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Sw(r,"GET",kw(t,n),i);return o.errorHandler=Ow(e),o}function Aw(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=mw(e.bucketOnlyServerUrl()),l=t.maxOperationRetryTime(),a=new Sw(s,"GET",function(t){return function(e,n){var r=function(t,e){var n=pw(e);return null===n?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new Pb("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");if(e.prefixes)for(var i=0,o=e.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),l=t.makeStorageReference(new dw(r,s));n.prefixes.push(l)}if(e.items)for(var a=0,u=e.items;a<u.length;a++)l=t.makeStorageReference(new dw(r,u[a].name)),n.items.push(l);return n}(t,n)}(t,n);return Iw(null!==r),r}}(t),l);return a.urlParams=o,a.errorHandler=xw(e),a}function Nw(t,e,n){var r=mw(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Sw(r,"GET",function(t,e){return function(n,r){var i=ww(t,r,e);return Iw(null!==i),function(t,e){var n=pw(e);if(null===n)return null;if(!ew(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return mw("/b/"+i(t.bucket)+"/o/"+i(n))+yw({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=Ow(e),o}function Rw(t,e,n,r){var i=mw(e.fullServerUrl()),o=Cw(n,r),s=t.maxOperationRetryTime(),l=new Sw(i,"PATCH",kw(t,r),s);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=o,l.errorHandler=Ow(e),l}function Dw(t,e){var n=mw(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new Sw(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=Ow(e),i}function Mw(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Lw=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Fw(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Iw(!1)}return Iw(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Uw=function(t,e,n){if($b(t)||Jb(e)||Jb(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Vw=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function jw(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(s=r)===(l=i)?(a=s,u=1===s?"argument":"arguments"):(a="between "+s+" and "+l,u="arguments"),new Pb("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+a+" "+u+", received "+n.length+".");var s,l,a,u;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(c){throw c instanceof Error?Lb(o,t,c.message):Lb(o,t,c)}}var qw=function(t,e){var n=this;this.validator=function(e){n.optional&&!Xb(e)||t(e)},this.optional=!!e};function Bw(t,e){function n(t){if(!ew(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new qw(r,e)}function zw(){return new qw((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||ow()&&t instanceof Blob))throw"Expected Blob or File."}))}function Hw(t){return new qw(Ew,t)}function Ww(t){return new qw(Tw,t)}function Gw(){return new qw((function(t){if(!(rw(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Kw(t,e){return new qw((function(e){if(!(null===e||Jb(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function Qw(t){return new qw((function(t){if(null!==t&&!$b(t))throw"Expected a Function."}),t)}function Yw(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Jw=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals("canceled")?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_("error"))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals("canceled")?s.completeTransitions_():(s.error_=t,s.transition_("error"))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Mw(e,r,i),l={name:s.fullPath},a=mw(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=Cw(s,n),h=t.maxUploadRetryTime(),d=new Sw(a,"POST",(function(t){var e;Fw(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Iw(!1)}return Iw(ew(e)),e}),h);return d.urlParams=l,d.headers=u,d.body=c,d.errorHandler=xw(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new Sw(n,"POST",(function(t){var e=Fw(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Iw(!1)}n||Iw(!1);var i=Number(n);return Iw(!isNaN(i)),new Lw(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=xw(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Lw(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,l){var a=new Lw(0,0);if(s?(a.current=s.current,a.total=s.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw new Pb("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=a.total-a.current,c=u;i>0&&(c=Math.min(c,i));var h=a.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},p=r.slice(h,h+c);if(null===p)throw Db();var f=e.maxUploadRetryTime(),g=new Sw(n,"POST",(function(t,n){var i,s=Fw(t,["active","final"]),l=a.current+c,u=r.size();return i="final"===s?kw(e,o)(t,n):null,new Lw(l,u,"final"===s,i)}),f);return g.headers=d,g.body=p.uploadData(),g.progressCallback=l||null,g.errorHandler=xw(t),g}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(l){return t.error_=l,void t.transition_("error")}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Pw(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+l;var a=Mw(e,r,i),u=Cw(a,n),c=hw.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===c)throw Db();var h={name:a.fullPath},d=mw(o),p=t.maxUploadRetryTime(),f=new Sw(d,"POST",kw(t,n),p);return f.urlParams=h,f.headers=s,f.body=c.uploadData(),f.errorHandler=xw(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=Rb(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Yb(this.state_);return new Vw(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==Kb.STATE_CHANGED)throw"Expected one of the event types: ["+Kb.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=Qw(!0).validator,l=Kw(null,!0).validator;function a(t){try{return void s(t)}catch(e){}try{if(l(t),!(Xb(t.next)||Xb(t.error)||Xb(t.complete)))throw"";return}catch(e){throw o}}var u=[Bw(i),Kw(a,!0),Qw(!0),Qw(!0)];jw("on",u,arguments);var c=this;function h(t){return function(e,n,i){null!==t&&jw("on",t,arguments);var o=new Uw(e,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function d(t){if(null===t)throw o;a(t)}var p=[Kw(d),Qw(!0),Qw(!0)],f=!(Xb(e)||Xb(n)||Xb(r));return f?h(p):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Yb(this.state_)){case Qb.SUCCESS:Yw(this.resolve_.bind(null,this.snapshot))();break;case Qb.CANCELED:case Qb.ERROR:Yw(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Yb(this.state_)){case Qb.RUNNING:case Qb.PAUSED:t.next&&Yw(t.next.bind(t,this.snapshot))();break;case Qb.SUCCESS:t.complete&&Yw(t.complete.bind(t))();break;case Qb.CANCELED:case Qb.ERROR:t.error&&Yw(t.error.bind(t,this.error_))();break;default:t.error&&Yw(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){jw("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){jw("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){jw("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),Xw=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof dw?e:dw.makeFromUrl(e)}return t.prototype.toString=function(){return jw("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(bw)return bw;var t=[];t.push(new _w("bucket")),t.push(new _w("generation")),t.push(new _w("metageneration")),t.push(new _w("name","fullPath",!0));var e=new _w("name");e.xform=function(t,e){return function(t){return!ew(t)||t.length<2?t:gw(t)}(e)},t.push(e);var n=new _w("size");return n.xform=function(t,e){return Jb(e)?Number(e):e},t.push(n),t.push(new _w("timeCreated")),t.push(new _w("updated")),t.push(new _w("md5Hash",null,!0)),t.push(new _w("cacheControl",null,!0)),t.push(new _w("contentDisposition",null,!0)),t.push(new _w("contentEncoding",null,!0)),t.push(new _w("contentLanguage",null,!0)),t.push(new _w("contentType",null,!0)),t.push(new _w("metadata","customMetadata",!0)),bw=t}()},t.prototype.child=function(t){jw("child",[Bw()],arguments);var e=fw(this.location.path,t),n=new dw(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new dw(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new dw(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return gw(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),jw("put",[zw(),Hw(!0)],arguments),this.throwIfRoot_("put"),new Jw(this,this.authWrapper,this.location,this.mappings(),new hw(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=jb.RAW),jw("putString",[Bw(),Bw(qb,!0),Hw(!0)],arguments),this.throwIfRoot_("putString");var r=zb(e,t),i=Object.assign({},n);return!Jb(i.contentType)&&Jb(r.contentType)&&(i.contentType=r.contentType),new Jw(this,this.authWrapper,this.location,this.mappings(),new hw(r.data,!0),i)},t.prototype.delete=function(){var t=this;return jw("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=Dw(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){jw("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(xb.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(xb.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){jw("list",[Ww(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=Aw(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return jw("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=Pw(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return jw("updateMetadata",[Hw()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=Rw(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return jw("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=Nw(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw Mb();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Pb("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),$w=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Zw=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),tC=function(){function t(e,n,r,i,o,s){var l;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;Jb(a)&&(this.bucket_=t.extractBucket_(a),this.appId_=null!==(l=a.appId)&&void 0!==l?l:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new Zw}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:dw.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw Fb();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new $w(Fb());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),eC=function(){function t(t,e,n,r,i,o,s,l,a,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=l,this.progressCallback_=u,this.timeout_=a,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var l=t.callback_(s,s.getResponseText());Xb(l)?i(l):i()}catch(a){o(a)}else null!==s?((r=Nb()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Fb():Rb():new Pb("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new nC(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,l=0;function a(){return 2===l}var u=!1;function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new nC(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===sw.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new nC(s,n))}else{var l=n.getErrorCode()===sw.ABORT;e(!1,new nC(!1,null,l))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,a())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,Object(xb.__spreadArrays)([null,t],e));else{var r,o=a()||s;o?c.call.apply(c,Object(xb.__spreadArrays)([null,t],e)):(i<64&&(i*=2),1===l?(l=2,r=0):r=1e3*(i+Math.random()),h(r))}}var p=!1;function f(t){p||(p=!0,u||(null!==o?(t||(l=2),clearTimeout(o),h(0)):t||(l=1)))}return h(0),setTimeout((function(){s=!0,f(!0)}),r),f}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),nC=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function rC(t,e,n,r){var i=yw(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Ib.a?Ib.a.SDK_VERSION:"AppManager")}(s),new eC(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var iC,oC,sC=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new tC(t,e,(function(t,e){return new Xw(t,e)}),rC,this,n),this.app_=t,null!=r)this.bucket_=dw.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new dw(i,""))}this.internals_=new lC(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(jw("ref",[Bw(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Xw(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{dw.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return jw("refFromURL",[Bw(e,!1)],arguments),new Xw(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){jw("setMaxUploadRetryTime",[Gw()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){jw("setMaxOperationRetryTime",[Gw()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),lC=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();oC={TaskState:Qb,TaskEvent:Kb,StringFormat:jb,Storage:sC,Reference:Xw},(iC=Ib.a).INTERNAL.registerComponent(new Ob.Component("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new sC(n,r,new aw,e)}),"PUBLIC").setServiceProps(oC).setMultipleInstances(!0)),iC.registerVersion("@firebase/storage","0.3.31");let aC=class{};const uC={animation:"Contact"},cC={animation:"Home"},hC={animation:"About"};class dC{}var pC=new $s(Zs,[tl],(function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===Te&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[jn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([wr(512,Ye,Je,[[8,[gd,Lp,qp,Wp,Yp,tf,Eg,kg,Hg,_m,Em,km,Rm,Fm,qm,Dg,Wm,Ey,Ny,Fy]],[3,Ye],Mt]),wr(5120,Pi,Io,[[3,Pi]]),wr(4608,hl,dl,[Pi,[2,cl]]),wr(5120,fi,ko,[Gi]),wr(5120,Ei,Ti,[]),wr(5120,vn,To,[]),wr(5120,_n,So,[]),wr(4608,hu,du,[bl]),wr(6144,me,null,[hu]),wr(4608,iu,su,[]),wr(5120,Ra,(function(t,e,n,r,i,o,s,l){return[new nu(t,e,n),new cu(r),new lu(i,o,s,l)]}),[bl,Gi,ki,bl,bl,iu,Oi,[2,ou]]),wr(4608,Da,Da,[Ra,Gi]),wr(135680,Fa,Fa,[bl]),wr(4608,Ba,Ba,[Da,Fa,Ei]),wr(5120,cv,$_,[]),wr(5120,Zv,Z_,[]),wr(4608,I_,X_,[bl,cv,Zv]),wr(5120,en,tb,[Ba,I_,Gi]),wr(6144,La,null,[Fa]),wr(4608,Zi,Zi,[Gi]),wr(5120,xc,ad,[Uh]),wr(4608,Yh,Yh,[]),wr(6144,Kh,null,[Yh]),wr(135680,Jh,Jh,[Uh,ho,Li,Ie,Kh]),wr(4608,Qh,Qh,[]),wr(5120,Xh,rd,[Uh,Cl,$h]),wr(5120,dd,hd,[ud]),wr(5120,xi,(function(t){return[t]}),[dd]),wr(4608,Uy,H_,[en,bl]),wr(4608,wb,wb,[Gd,[2,Kd],[2,Fd],ki,Gi]),wr(5120,Jd,$d,[Gd,Gi,[2,Kd]]),wr(4608,Ef,Ef,[]),wr(4608,gg,gg,[]),wr(4608,mp,mp,[Gd,[2,Kd],[2,cp],[2,dp],ki,Gi,[2,hp]]),wr(4608,kb,kb,[]),wr(4608,tp,tp,[Gd,[2,Kd],ki,Gi]),wr(4608,aC,aC,[]),wr(4608,bp,bp,[Gd,[2,Kd],[2,_p],ki,Gi]),wr(1073742336,_l,_l,[]),wr(1024,Ht,bu,[]),wr(1024,io,(function(){return[ed()]}),[]),wr(512,ud,ud,[Ie]),wr(1024,wi,(function(t,e){return[(n=t,Pa("probe",Na),Pa("coreTokens",Object.assign({},Aa,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Na),cd(e)];var n}),[[2,io],ud]),wr(512,Ci,Ci,[[2,wi]]),wr(131584,uo,uo,[Gi,Oi,Ie,Ht,Ye,Ci]),wr(1073742336,xo,xo,[uo]),wr(1073742336,wu,wu,[[3,wu]]),wr(1024,Zh,od,[[3,Uh]]),wr(512,sc,lc,[]),wr(512,Hh,Hh,[]),wr(256,$h,{scrollPositionRestoration:"enabled",onSameUrlNavigation:"reload"},[]),wr(1024,rl,id,[el,[2,il],$h]),wr(512,ol,ol,[rl,el]),wr(512,Li,Li,[]),wr(512,ho,go,[Li,[2,po]]),wr(1024,Ah,(function(){return[[{path:"cart",component:Np},{path:"Fav",component:Fp},{path:"dashboard",component:Bp,children:[{path:"",component:Gp},{path:"users",component:Jp},{path:"products",component:vg},{path:"addProduct",component:Tg}]},{path:"checkout",component:Ug},{path:"product/:id",component:Qg},{path:"signup",component:bm},{path:"profile/:id",component:Tm,children:[{path:"",component:xm,data:uC},{path:"orders",component:Dm,data:cC},{path:"fav",component:Um,data:hC}]},{path:"login",component:xg},{path:"about",component:Bm},{path:"",component:vy}]]}),[]),wr(1024,Uh,ld,[uo,sc,Hh,ol,Ie,ho,Li,Ah,$h,[2,Rh],[2,Oh]]),wr(1073742336,nd,nd,[[2,Zh],[2,Uh]]),wr(1073742336,dC,dC,[]),wr(1073742336,nb,nb,[]),wr(1073742336,Cb,Cb,[]),wr(1073742336,Zd,Zd,[ki]),wr(1073742336,fg,fg,[]),wr(1073742336,mg,mg,[]),wr(1073742336,yg,yg,[]),wr(1073742336,um,um,[]),wr(1073742336,Tb,Tb,[]),wr(1073742336,Zs,Zs,[]),wr(256,Te,!0,[]),wr(256,eb,"BrowserAnimations",[]),wr(256,Gd,{apiKey:"AIzaSyAcuLmYjW5uA3VggZ3NuakTBzScyz2oeMg",authDomain:"maktabti-68c21.firebaseapp.com",databaseURL:"https://maktabti-68c21.firebaseio.com",projectId:"maktabti-68c21",storageBucket:"maktabti-68c21.appspot.com",messagingSenderId:"92395233535",appId:"1:92395233535:web:7c96c41a76b28bd28cecca",measurementId:"G-XJK8Z3DCGM"},[]),wr(256,Kd,void 0,[]),wr(256,Xg,{default:am,config:{}},[])])}));(function(){if(Gt)throw new Error("Cannot enable prod mode after platform setup.");Wt=!1})(),_u().bootstrapModuleFactory(pC).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},l=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,l=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=(15&l)<<2|u>>6,h=63&u;a||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|l>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(l=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var l=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,l=++i<t.length?n[t.charAt(i)]:64,a=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==l||null==a)throw Error();r.push(o<<2|s>>4),64!==l&&(r.push(s<<4&240|l>>2),64!==a&&r.push(l<<6&192|a))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return r.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?g(o,r):"Error",l=this.serviceName+": "+s+" ("+i+").",a=new p(i,l),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in a&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),a[h]=r[h])}return a},t}();function g(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(u(o[0])||""),n=y(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],l=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^l&(a^u),o=1518500249):(i=l^a^u,o=1859775393):r<60?(i=l&a|u&(l|a),o=2400959708):(i=l^a^u,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=u,u=a,a=4294967295&(l<<30|l>>>2),l=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=f,e.FirebaseError=p,e.Sha1=_,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=a,e.base64Decode=u,e.base64Encode=function(t){var e=l(t);return a.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=C,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);